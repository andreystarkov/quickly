{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/scripts/es6/checkout.jsx","app/scripts/es6/engine/addToCart.js","app/scripts/es6/engine/checkout.func.jsx","app/scripts/es6/engine/createOrder.jsx","app/scripts/es6/engine/createReservation.jsx","app/scripts/es6/profile.jsx","app/scripts/es6/react/actions/cardsActions.js","app/scripts/es6/react/actions/categoriesListActions.js","app/scripts/es6/react/actions/cityListActions.js","app/scripts/es6/react/actions/companyDetailsActions.js","app/scripts/es6/react/actions/companyListActions.js","app/scripts/es6/react/actions/cuisinesActions.js","app/scripts/es6/react/actions/menuItemsActions.js","app/scripts/es6/react/actions/profileEditorActions.js","app/scripts/es6/react/cards.react.jsx","app/scripts/es6/react/categoriesList.react.jsx","app/scripts/es6/react/cityList.react.jsx","app/scripts/es6/react/companyDetails.react.jsx","app/scripts/es6/react/companyList.react.jsx","app/scripts/es6/react/components/buttonBack.js","app/scripts/es6/react/components/buttonMore.js","app/scripts/es6/react/components/companyListSidebar.js","app/scripts/es6/react/components/cuisinesSelectList.js","app/scripts/es6/react/components/quicklyLogo.js","app/scripts/es6/react/components/singleCompany.js","app/scripts/es6/react/cuisinesList.react.jsx","app/scripts/es6/react/mainPage.react.jsx","app/scripts/es6/react/menuItems.react.jsx","app/scripts/es6/react/ordersHistory.react.jsx","app/scripts/es6/react/profileEditor.react.jsx","app/scripts/es6/react/reservationHistory.react.jsx","app/scripts/es6/react/stores/cardsStore.js","app/scripts/es6/react/stores/categoriesListStore.js","app/scripts/es6/react/stores/cityListStore.js","app/scripts/es6/react/stores/companyDetailsStore.js","app/scripts/es6/react/stores/companyListStore.js","app/scripts/es6/react/stores/cuisinesStore.js","app/scripts/es6/react/stores/menuItemsStore.js","app/scripts/es6/react/stores/ordersHistoryStore.js","app/scripts/es6/react/stores/profileEditorStore.js","app/scripts/es6/react/stores/reservationHistoryStore.js","app/scripts/es6/reservation.jsx","app/scripts/es6/screens.jsx","app/scripts/es6/shop.jsx"],"names":[],"mappings":"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","file":"es6.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {clearCart,refreshCart} from './engine/checkout.func.jsx';\r\n\r\n(function() {\r\n    [].slice.call( document.querySelectorAll( '.checkout' ) ).forEach( function( el ) {\r\n        var openCtrl = el.querySelector( '.checkout-button' ),\r\n            closeCtrl = el.querySelector( '.checkout-cancel' ),\r\n            closeMenuCtrl = el.querySelector( '.button-close' );\r\n\r\n        openCtrl.addEventListener( 'click', function(ev) {\r\n            ev.preventDefault();\r\n            classie.add( el, 'checkout-active' );\r\n            $('.overlay').addClass('visible');\r\n            $('#cartBottomPanel').removeClass('checkout-hidden');\r\n            refreshCart();\r\n        });\r\n\r\n        closeCtrl.addEventListener( 'click', function() {\r\n            classie.remove( el, 'checkout-active' );\r\n            $('.overlay').removeClass('visible');\r\n            $('#cartBottomPanel').addClass('checkout-hidden');\r\n            refreshCart();\r\n        });\r\n    });\r\n})();\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-24 16:23:35\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-24 17:22:55\r\n*/\r\n\r\nimport {refreshCart} from \"../engine/checkout.func.jsx\";\r\n\r\nexport function addToCart(id, name, price, flyObj){\r\n    var jsonObj = {};\r\n    jsonObj['id'] = id;\r\n    jsonObj['name'] = name;\r\n    jsonObj['price'] = price;\r\n    theCart.contents.push(jsonObj);\r\n    console.log('addToCart: theCart = ', theCart);\r\n    setStorage('theCart', theCart.contents);\r\n    flyToCart($(flyObj));cartBottomPanel\r\n    refreshCart();\r\n}\r\n\r\nexport function repeatOrder(items){\r\n    console.log('repeatOrder: items = ', items);\r\n    var hey = items.map(function(the, i) {\r\n        addToCart(the.menu_item_id, the.menu_item_name, the.menu_item_price, \"#\"+'singleItem-'+the.menu_item_id);\r\n    });\r\n\r\n}\r\n","\r\nfunction templateCartFooter(){\r\n    var totalPrice = 0;\r\n    var totalCount = 0;\r\n    $.each(theCart.contents, function(index, value){\r\n        totalPrice += value.price;\r\n        totalCount++;\r\n    });\r\n\r\n    var out = `\r\n        <div class=\"row\">\r\n            <div class=\"col-lg-8\">\r\n                <div class=\"price-total\">\r\n                    <b>Итого</b>: <span>${totalCount}</span> товаров на сумму <span>${totalPrice} <i class=\"fa fa-rouble\"></i></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n    return out;\r\n}\r\n\r\nfunction hideCart(){\r\n    $('#cartBottomPanel').velocity('transition.flipYOut', { duration: 600 });\r\n}\r\n\r\nexport function clearCart(){\r\n    localStorage.removeItem('theCart');\r\n    theCart.contents = [];\r\n    console.log('clearCart: cleared');\r\n    hideCart();\r\n}\r\n\r\nexport function refreshCart(){\r\n    var cartPanel = $('#cartBottomPanel');\r\n    var cartContents = getStorage('theCart');\r\n    var tables = getStorage('theReservation');\r\n\r\n        var foodCount = 0, tablesCount = 0, totalCount;\r\n\r\n        if(cartContents !== null) foodCount = cartContents.length;\r\n        if(tables !== null) tablesCount = 1\r\n\r\n        totalCount = tablesCount+foodCount;\r\n        if( totalCount == 0 ) {\r\n            console.log('refreshCart: Cart is empty');\r\n            localStorage.removeItem('theCart');\r\n            clearCart();\r\n        } else {\r\n            $('.checkout-total').html(totalCount);\r\n\r\n            if(cartPanel.hasClass('cart-empty')){\r\n                cartPanel.removeClass('cart-empty');\r\n                cartPanel.css({'visibility': 'visible', 'height': '40px'}).velocity('transition.slideUpBigIn', { duration: 600 });\r\n            }\r\n            var uniqueList;\r\n            var uniqueCount = _.countBy(cartContents, \"id\");\r\n            var uniqueList = _.uniq(cartContents, \"id\");\r\n            var tablesList = _.uniq(tables, \"id\");\r\n\r\n            var cartTable = null;\r\n\r\n            var tablesList, foodList;\r\n\r\n            if(tables !== null) tablesList += pasteCartTable(tables);\r\n\r\n            $.each(uniqueList, function(key, value){\r\n               foodList += pasteCartElement(value,uniqueCount[value.id], key);\r\n            });\r\n\r\n            $('.checkout-contents').html(tablesList+foodList);\r\n            $('.checkout-footer').html(templateCartFooter());\r\n        }\r\n\r\n}\r\n\r\nfunction pasteCartTable(cartElement, elementCount, key){\r\n    var el = `\r\n    <tr class=\"reservation-${cartElement.type}\" data-id=\"${cartElement.id}\">\r\n        <td>${cartElement.name} </td>\r\n        <td>${cartElement.price} р.</td>\r\n        <td>\r\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\r\n                <input type=\"text\" value=\"${cartElement.count}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\r\n            </div>\r\n        </td>\r\n        <td>\r\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\r\n        </td>\r\n    </tr>\r\n    `;\r\n\r\n    return el;\r\n}\r\n\r\nfunction pasteCartElement(cartElement, elementCount){\r\n    var el = `\r\n    <tr class=\"reservation-${cartElement.type}\" data-id=\"${cartElement.id}\">\r\n        <td>${cartElement.name}</td>\r\n        <td>${cartElement.price} р.</td>\r\n        <td>\r\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\r\n                <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\r\n                <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\r\n                <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\r\n            </div>\r\n        </td>\r\n        <td>\r\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\r\n        </td>\r\n    </tr>\r\n    `;\r\n\r\n    return el;\r\n}\r\n","import {clearCart} from './checkout.func.jsx';\r\n\r\nfunction orderSuccess(data){\r\n    swal({\r\n      title:'Ваш заказ обработан! ',\r\n      text:`В течении нескольких минут вам перезвонит сотрудник ресторана для подтверждения заказа.`,\r\n      type:'success',\r\n      confirmButtonText: 'Продолжить',\r\n      buttonsStyling: 'false',\r\n      animation:'slide-from-top'\r\n    }, function(){\r\n        toastr.success('Посмотреть статус заказа можно в разделе \"История\"','Заказ принят!');\r\n    });\r\n}\r\n\r\nexport function createOrder(callback){\r\n    var cartContents = getStorage('theCart');\r\n    var uniqueList = _.uniq(cartContents, \"id\");\r\n    var uniqueCount = _.countBy(cartContents, \"id\");\r\n    var userProfile = getStorage('profile');\r\n\r\n    var paymentType = $('.checkout-payment-type').val(),\r\n        personsCount = $('#checkout-persons').val(),\r\n        street = $('#checkout-street').val(),\r\n        building = $('#checkout-building').val(),\r\n        usedBonus = $('#checkout-bonus').val(),\r\n        cash = $('#checkout-cash').val(),\r\n        comment = $('#checkout-comment').val(),\r\n        phone = $('#checkout-phone').val(),\r\n        porch = $('#checkout-porch').val(),\r\n        floor = $('#checkout-floor').val(),\r\n        apartment = $('#checkout-apartment').val(),\r\n        restaurauntId = currentCompany;\r\n\r\n    console.log('createOrder: uniqueList = ', uniqueList);\r\n    console.log('createOrder: uniqueCount = ', uniqueCount);\r\n    console.log('createOrder: userProfile = ', userProfile);\r\n\r\n    var summary = [];\r\n    var tables = [];\r\n\r\n    for(i = 0; i < uniqueList.length; i++){\r\n        var row = {};\r\n\r\n        if ( uniqueList[i].type == 'food'){\r\n            row['menu_item_id'] = uniqueList[i].id,\r\n            row['menu_item_price'] = uniqueList[i].price,\r\n            row['count'] = uniqueCount[uniqueList[i].id];\r\n            summary.push(row);\r\n        } else {\r\n            row['id'] = uniqueList[i].id,\r\n            row['price'] = uniqueList[i].price,\r\n            row['count'] = uniqueList[i].count,\r\n            row['hall'] = uniqueList[i].hall\r\n            tables.push(row);\r\n        }\r\n    }\r\n\r\n    console.log('createOrder: summary = ', summary);\r\n\r\n    var reservation = getStorage('theReservation');\r\n\r\n    var params = {\r\n        token: userToken,\r\n        restaurantId: currentCompany,\r\n        menuItems: summary,\r\n        street: street,\r\n        usedBonus: usedBonus,\r\n        porch: porch,\r\n        floor: floor,\r\n        apartment: apartment,\r\n        building: building,\r\n        payment_type: paymentType,\r\n        cash: cash,\r\n        persons_count: parseInt(personsCount),\r\n        comment: comment\r\n    };\r\n\r\n\r\n    $.ajax({\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        contentType: \"application/json\",\r\n        url: serverUrl + '/api/v3/orders/create',\r\n        data: JSON.stringify(params),\r\n        success: function(data) {\r\n            if(!data.err){\r\n                $('.checkout-cancel').click();\r\n                clearCart();\r\n                console.log('createOrder: success: ', data);\r\n                orderSuccess(data);\r\n                if (callback) callback(data);\r\n            } else {\r\n                console.log('createOrder: ERROR: ', data.err);\r\n                toastr.error('Заполните пожалуйста все обязательные поля', 'Недостаточно информации');\r\n            }\r\n        }\r\n    });\r\n}\r\n","export function reservationAdded(){\r\n    toastr.success('Заявка на резервацвацию в вашей корзине', 'Стол добавлен');\r\n    swal({\r\n      title:'Стол добавлен в корзину! ',\r\n      text:`Вы можете прикрепить блюда, которые подадут к заказанному столу. Перейдите в меню для выбора блюд. Или продолжите самостоятельно.`,\r\n      type:'success',\r\n      confirmButtonText: 'Перейти в меню',\r\n      cancelButtonText: 'Продолжить',\r\n      showCancelButton: true\r\n    },\r\n    function(isConfirm) {\r\n      if (isConfirm) {\r\n        $('a[href=\"#tab-food\"').click();\r\n      }\r\n    });\r\n}\r\n\r\nfunction reservationSuccess(){\r\n    localStorage.removeItem('theReservation');\r\n    swal({\r\n      title:'Стол забронирован! ',\r\n      text:`В течении нескольких минут вам перезвонит сотрудник ресторана для подтверждения. Статус вашего заказа смотрите в разделе \"История\"`,\r\n      type:'success',\r\n      confirmButtonText: 'Продолжить',\r\n\r\n      animation:'slide-from-top'\r\n    }, function(){\r\n        toastr.success('Стол успешно забронирован!');\r\n    });\r\n\r\n}\r\n\r\n\r\nexport function createReservation(){\r\n    var table = getStorage('theReservation');\r\n\r\n    if ( table == null ){\r\n        toastr.error('Вы не выбрали ни одного стола на резервацию', 'Стол не выбран!');\r\n    } else {\r\n        var params = {\r\n            token: userToken,\r\n            restaurantId: currentCompany,\r\n            hallId: table.hall,\r\n            phone: $('#checkout-phone').val(),\r\n            tableId: table.id,\r\n            date: table.date\r\n        };\r\n\r\n        console.log('createReservation: params = ',params);\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            contentType: \"application/json\",\r\n            url: serverUrl + '/api/v3/reservation/create',\r\n            data: JSON.stringify(params),\r\n            success: function(data) {\r\n                if(!data.err){\r\n                    $('.checkout-cancel').click();\r\n                    console.log('createReservation: Success',   data);\r\n                    reservationSuccess(data);\r\n                } else {\r\n                    console.log('createReservation: ERROR: ', data.err);\r\n                    if(data.err == 'Table already reserved'){\r\n                        toastr.error('Стол уже зарезервирован на это время', 'Ошибка');\r\n                        localStorage.removeItem('theReservation');\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    console.log('createReservation: Table = ', table);\r\n\r\n}\r\n\r\n\r\n","\r\n  function editUserField(fieldId, callback) {\r\n      var theOptions = {};\r\n      var theParameter = $('#' + fieldId).data('id');\r\n\r\n      theOptions['userToken'] = userToken;\r\n      theOptions['cityId'] = cityId;\r\n      theOptions[theParameter] = $('#' + fieldId).val();\r\n\r\n      console.log('editUserField: AJAX: ' + theParameter + ' = ' + fieldId);\r\n      $.ajax({\r\n          url: serverUrl + '/api/v2/user/profile/edit',\r\n          dataType: 'json',\r\n          type: 'POST',\r\n          data: theOptions,\r\n          success: function(data) {\r\n              console.log('editUserField: ', data);\r\n              if (data.err === undefined || data.err === null) {\r\n                  toastr.success('Данные профиля сохранены');\r\n              }\r\n              $('#' + fieldId).parent().addClass('has-success');\r\n              refreshUserProfile();\r\n              if (callback) callback(data);\r\n          }\r\n      });\r\n  }\r\n\r\n    function createProfileEditor(profile, callback) {\r\n\r\n        var birthDate = moment(profile.userBirthdate, \"MM-DD-YYYY\");\r\n        var userAvatar = imageBaseUrl + profile.userAvatarUrl;\r\n        if (profile.userAvatarUrl === undefined || profile.userAvatarUrl === null) {\r\n            userAvatar = 'images/samples/user.png';\r\n        }\r\n\r\n        var htmlTemplate =\r\n            `<div class=\"user-editor container\">\r\n           <div class=\"row\">\r\n              <div class=\"col-lg-2 text-center\">\r\n                 <div class=\"avatar round\">\r\n                    <img src=\"${userAvatar}\" alt=\"...\">\r\n                 </div>\r\n                 <div class=\"btn-group\">\r\n                    <a class=\"button light small\">Изменить аватар</a>\r\n                 </div>\r\n              </div>\r\n              <div class=\"col-lg-10 the-info\">\r\n                 <div class=\"row delivery\">\r\n                    <div class=\"col-lg-4\">\r\n                     <div class=\"title user-name-edit\">\r\n                        <div class=\"form-group\" style=\"width:48%; display: inline-block\">\r\n                          <label class=\"control-label\" for=\"userName\">Имя</label>\r\n                          <input type=\"text\" class=\"form-control focus-out autoupdate\" data-id=\"name\" id=\"userName\" value=\"${profile.userName}\">\r\n                        </div>\r\n                        <div class=\"form-group\" style=\"width:48%; display: inline-block\">\r\n                          <label class=\"control-label\" for=\"userSurname\">Фамилия</label>\r\n                          <input type=\"text\" class=\"form-control focus-out autoupdate\" data-id=\"surname\" id=\"userSurname\" value=\"${profile.userSurname}\">\r\n                        </div>\r\n                     </div>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                       <div class=\"form-group\">\r\n                          <label class=\"control-label\" for=\"userEmail\">Электронная почта</label>\r\n                          <input type=\"email\" class=\"form-control focus-out autoupdate\" data-id=\"email\" id=\"userEmail\" value=\"${profile.userEmail}\">\r\n                       </div>\r\n                    </div>\r\n                    <div class=\"col-lg-3\" style=\"display:none\">\r\n                       <div class=\"form-group\">\r\n                          <label class=\"control-label\" for=\"userPhone\">Номер телефона</label>\r\n                          <input type=\"tel\" class=\"form-control focus-out\" id=\"userPhone\" value=\"${profile.userPhone}\">\r\n                       </div>\r\n                    </div>\r\n                    <div class=\"col-lg-3\">\r\n                       <div class=\"form-group\">\r\n                          <label class=\"control-label\" for=\"userBirth\">Дата рождения</label>\r\n                          <input type=\"date\" class=\"form-control focus-out\" data-id=\"birthdate\" id=\"userBirth\" value=\"${profile.userPhone}\">\r\n                       </div>\r\n                    </div>\r\n                    <div class=\"col-lg-3\" style=\"display:none\">\r\n                       <div class=\"form-group\">\r\n                          <label class=\"control-label\" for=\"userCity\">Город</label>\r\n                          <input type=\"text\" class=\"form-control\" id=\"userCity\" value=\"Оренбург\">\r\n                       </div>\r\n                    </div>\r\n                 </div>\r\n                 <div class=\"line delivery\" style=\"padding-top:20px\">\r\n                    <div id=\"profile-addresses\" data-id=\"1\" class=\"inline-block float-left\">\r\n                       <i class=\"icon icon-location-pin\"></i>\r\n                       <div class=\"box\">\r\n                          <div class=\"form-group label-placeholder is-empty\" title=\"Введите адреса для доставки\">\r\n                             <input type=\"text\" class=\"form-control\" id=\"profile-address-1\">\r\n                          </div>\r\n                       </div>\r\n                    </div>\r\n                    <div class=\"box\">\r\n                       <a href=\"#\" class=\"button button-plus tip\" id=\"profile-address-add\">\r\n                       <i class=\"icon fa fa-plus-square-o\"></i>\r\n                       <span>Добавить адрес</span>\r\n                       </a>\r\n                    </div>\r\n                    <div class=\"box\" id=\"addCards\">\r\n                    </div>\r\n                 </div>\r\n              </div>\r\n           </div>\r\n           <div class=\"row buttons-line\">\r\n              <div class=\"col-lg-2\">\r\n              </div>\r\n              <div class=\"col-lg-10 buttons-tabs\">\r\n                 <div class=\"btn-group btn-group-justified\" data-tabs=\"tabs-profile\">\r\n                    <a href=\"#tab-order-history\" class=\"tab-toggle btn button light\" id=\"tabOrderHistory\">\r\n                    <span>История заказов</span>\r\n                    </a>\r\n                    <a href=\"#tab-reservation-history\" class=\"tab-toggle btn button light\">\r\n                    <span>История бронирования</span>\r\n                    </a>\r\n                    <a href=\"#tab-comments-history\" class=\"tab-toggle btn button light\">\r\n                    <span>Оставленные отзывы</span>\r\n                    </a>\r\n                    <a id=\"buttonReturnShop\" href=\"#\" class=\"btn button main\">\r\n                    <span>Вернуться к ресторану</span>\r\n                    </a>\r\n                 </div>\r\n              </div>\r\n           </div>\r\n        </div>`;\r\n        $('#profileEditor').prepend(htmlTemplate);\r\n        if (callback) callback();\r\n    }\r\n\r\n    function emptyProfile() {\r\n        var token = userToken;\r\n        getUserProfile(token, function(data) {\r\n            var userBonus = getUserBonus(userToken);\r\n            var userInfo = data;\r\n            $('#userBadgeTop').html(`\r\n              <div class=\"user-text\" id=\"buttonEmptyProfile\">\r\n                <b class=\"user-name\">Добро пожаловать!</b>\r\n                <a class=\"r-bonus\">У вас <b>${userBonus}</b> <span class=\"fa fa-rouble\"></span>-бонусов</a>\r\n              </div>\r\n            `);\r\n        });\r\n    }\r\n\r\n    function refreshUserProfile() {\r\n        var token = userToken;\r\n        getUserProfile(token, function(data) {\r\n            var userBonus = getUserBonus(userToken);\r\n            var userInfo = data;\r\n            var userAvatar = data.userAvatarUrl;\r\n            if (data.userAvatarUrl === undefined || data.userAvatarUrl === null) {\r\n                userAvatar = 'images/samples/user.png';\r\n            }\r\n            $('#userBadgeTop').html(`\r\n          <div class=\"user-text\">\r\n            <b class=\"user-name\">${data.userName} ${data.userSurname}</b>\r\n            <a class=\"r-bonus\"><b>${userBonus}</b> <span class=\"fa fa-rouble\"></span>-бонусов</a>\r\n          </div>\r\n          <div class=\"user-avatar\" style=\"background-image:url(${userAvatar})\"></div>\r\n        `);\r\n        });\r\n    }\r\n\r\n    function getUserBonus(userToken) {\r\n        var bonus;\r\n        $.ajax({\r\n            url: serverUrl + '/api/v2/user/bonus/' + userToken,\r\n            async: false,\r\n            dataType: 'json',\r\n            success: function(data) {\r\n                bonus = data.result.userBonus;\r\n            }\r\n        });\r\n        return bonus;\r\n    }\r\n\r\n    $(function() {\r\n\r\n /*       getUserProfile(userToken, function(data) {\r\n            console.log('getUserProfile:', data);\r\n            createProfileEditor(data, function() {\r\n                $('.user-editor .control-label').each(function() {\r\n                    $(this).append('<i class=\"status-icon its-ok icon-check\"></i>');\r\n                });\r\n            });\r\n        });*/\r\n\r\n        $(document).on('click', '#buttonReturnShop', function(event) {\r\n            easyVelocity('.page-wrapper', 'transition.flipXOut', function() {\r\n                easyVelocity('#pageCompany', 'transition.flipXIn');\r\n            });\r\n        });\r\n\r\n        refreshUserProfile();\r\n\r\n        $(document).on('focusout', \".user-editor .autoupdate\", function() {\r\n            var fieldId = $(this).attr('id');\r\n            console.log('Editing: #' + fieldId + ', data-id=' + $(this).data('id'));\r\n            editUserField(fieldId);\r\n        });\r\n\r\n    });\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-04-02 14:06:53\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-02 14:07:37\r\n*/\r\n\r\nvar CardsActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nCardsActions.fetchList();\r\n","var CategoriesListActions = Reflux.createActions([\n    'fetchList', 'updateData'\n]);\n\nmodule.exports = CategoriesListActions;\n","var CityActions = Reflux.createActions([\n    'fetchList'\n]);\n\nmodule.exports = CityActions;\n","var CompanyDetailsActions = Reflux.createActions([\n    'fetchList', 'updateData'\n]);\n\nmodule.exports = CompanyDetailsActions;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 13:41:13\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 22:30:31\r\n*/\r\n\r\nvar CompanyListActions = Reflux.createActions([\r\n    'fetchList', 'updateData', 'filterData', 'selectByCuisine', 'getCurrentCuisine', 'setCurrentCity'\r\n]);\r\n\r\nmodule.exports = CompanyListActions;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 20:10:48\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 20:37:37\r\n*/\r\n\r\nvar CuisinesActions = Reflux.createActions([\r\n    'fetchList', 'getCuisineById'\r\n]);\r\n\r\nmodule.exports = CuisinesActions;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-31 23:13:33\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-01 00:37:36\r\n*/\r\n\r\nvar MenuItemsActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nmodule.exports = MenuItemsActions;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-04-02 16:46:11\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-02 16:50:39\r\n*/\r\n\r\nvar ProfileEditorActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nmodule.exports = ProfileEditorActions;\r\n","var CardsStore = require('./stores/cardsStore.js');\r\nvar CardsActions = require('./actions/cardsActions.js');\r\n\r\nvar CardsList = React.createClass({\r\n    mixins: [Reflux.connect(CardsStore, 'cardsData')],\r\n    getInitialState: function(){\r\n      return {\r\n        data: [],\r\n        cardsData: []\r\n      };\r\n    },\r\n    componentDidMount: function() {\r\n     //   OrdersHistoryActions.updateData();\r\n    },\r\n    render: function() {\r\n        console.log(this.state.cardsData);\r\n        return (\r\n            <div>\r\n                test\r\n            </div>\r\n        )\r\n    }\r\n});\r\n","var CategoriesListStore = require('./stores/categoriesListStore.js');\nvar CategoresListActions = require('./actions/categoriesListActions.js');\nvar MenuItemsActions = require('./actions/menuItemsActions.js');\n\nvar CategoryItem = React.createClass({\n\tcategoryToggle: function(el){\n\t\tvar newId = this.props.item.category_id;\n\t\tconsole.log('CategoryItem: categoryToggle: newId = ', newId);\n    var the = el.target;\n    var others = document.getElementsByClassName('category-toggle');\n    console.log(others);\n/*    $('.category-toggle.active').removeClass('active');\n    the.addClass('active');*/\n\t\tMenuItemsActions.updateData(newId);\n\t},\n\trender: function(){\n\t\tvar item = this.props.item;\n\t\treturn (\n\t\t<li className=\"category-line\">\n\t\t\t<button onClick={this.categoryToggle} className=\"category-toggle\">\n        <i className=\"icon\"></i>{item.category_name}\n      </button>\n    </li>\n\t\t)\n\t}\n});\n\nvar CategoriesList = React.createClass({\n    mixins: [Reflux.connect(CategoriesListStore, 'categories')],\n    getInitialState: function() {\n      return {\n        data: [],\n        categories: []\n      };\n    },\n    componentDidMount: function() {\n     //   OrdersHistoryActions.updateData();\n    },\n    render: function() {\n     //   OrdersHistoryActions.updateData();\n        var list = this.state.categories;\n\n\t\t\t\tconsole.log('CategoriesList: ', list);\n        var everything = list.map(function(the, i) {\n            return <CategoryItem item={the} key={i} />\n        });\n        return (\n            <div className=\"categories-list\">\n            \t<ul className=\"menu\">\n            \t{everything}\n            \t</ul>\n            </div>\n        )\n    }\n});\n\nmodule.exports = CategoriesList;\n","var CityListActions = require('./actions/cityListActions.js');\nvar CityListStore = require('./stores/cityListStore.js');\nvar CompanyListActions = require('./actions/companyListActions.js');\n\nvar Option = React.createClass({\n  render: function(){\n    return (\n      <option value={this.props.value}>{this.props.name}</option>\n    )\n  }\n});\n\nvar CityList = React.createClass({\n    mixins: [Reflux.connect(CityListStore, 'cityList')],\n    limit: 12,\n    getInitialState: function() {\n      return {\n        data: [],\n        cityList: [],\n        selected: 0,\n        value: 3\n      };\n    },\n    changeHandler: function(e) {\n        console.log('CityList: change value = '+e.target.value);\n        this.setState({\n            value: e.target.value\n        });\n        CompanyListActions.setCurrentCity(e.target.value);\n    },\n    componentDidMount: function() {\n        var selectedCity = getStorage('city');\n        if ( selectedCity ) {\n          this.setState({\n            value:selectedCity.city_id\n          });\n          CompanyListActions.setCurrentCity(selectedCity.city_id);\n        }\n    },\n    render: function() {\n      var totalList = this.state.cityList.map(function(the, i) {\n          return <Option name={the.city_name} value={the.city_id} key={i} />\n      });\n      CompanyListActions.setCurrentCity(this.state.value);\n      return (\n      <div className=\"city-select\">\n        <div className=\"form-group\">\n          <b>Ваш город</b>\n          <select id=\"cityListSelect\" onChange={this.changeHandler} className=\"form-control\">\n            {totalList}\n          </select>\n        </div>\n      </div>\n      )\n    }\n});\n\nmodule.exports = CityList;\n\nReactDOM.render(<CityList />, document.getElementById('selectCityField'));\n","var CompanyDetailsStore = require('./stores/companyDetailsStore.js');\r\nvar CompanyListActions = require('./actions/companyListActions.js');\r\n\r\nvar CompanyDetails = React.createClass({\r\n    mixins: [Reflux.connect(CompanyDetailsStore, 'companyData')],\r\n    limit: 12,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        companyData: []\r\n      };\r\n    },\r\n\r\n    componentDidMount: function() {\r\n\r\n    },\r\n\r\n  render: function() {\r\n    var company = this.state.companyData;\r\n    if(company.restaurant_main_image) var image = imageBaseUrl+company.restaurant_main_image;\r\n\r\n    return (\r\n    <div className=\"container\">\r\n        <div className=\"row\">\r\n            <div className=\"col-lg-2 col-xs-12 text-center\">\r\n                <div className=\"logo round\">\r\n                    <img src={image} />\r\n                </div>\r\n                <div className=\"title\"><h2>{company.restaurant_name}</h2><span>{company.restaurant_info}</span></div>\r\n            </div>\r\n            <div className=\"col-lg-10 the-info\">\r\n                <div className=\"line types\">\r\n                    <i className=\"icon icn-restaurant\"></i>\r\n                    <a className=\"food\" href=\"#\">Европейская</a>\r\n                    <a className=\"food\" href=\"#\">Японская</a>\r\n                    <a className=\"food\" href=\"#\">Китайская</a>\r\n                </div>\r\n                <div className=\"line delivery\">\r\n                    <i className=\"icon icn-cab\"></i>\r\n                    <div className=\"box cost\">\r\n                        <span className=\"detail-title\">стоимость</span>\r\n                        <b>{company.restaurant_delivery_cost}</b>\r\n                    </div>\r\n                    <div className=\"box time\">\r\n                        <span className=\"detail-title\">среднее время</span>\r\n                        <b>{company.restaurant_delivery_time} минут</b>\r\n                    </div>\r\n                    <div className=\"box min\">\r\n                        <span className=\"detail-title\">мин. сумма</span>\r\n                        <b>{company.restaurant_min_order} <i className=\"rouble\">e</i></b>\r\n                    </div>\r\n                    <div className=\"box min\">\r\n                        <span className=\"detail-title\">средний чек</span>\r\n                        <b>{company.restaurant_average_check} <i className=\"rouble\">e</i></b>\r\n                    </div>\r\n                    <div className=\"box pay\">\r\n                        <div className=\"cards\">\r\n                            <div className=\"card-icon mastercard\"><img src=\"images/cards/mastercard.png\" /></div>\r\n                            <div className=\"card-icon visa\"><img src=\"images/cards/visa.png\" /></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div className=\"row buttons-line\">\r\n            <div className=\"col-lg-2\">\r\n            </div>\r\n            <div className=\"col-lg-6 buttons-tabs\" data-tabs=\"tabs-shop\">\r\n                <a className=\"button tab-toggle light\" data-tab=\"tab-comments\" href=\"#tab-comments\">\r\n                    <span>Отзывы</span>\r\n                </a>\r\n                <a className=\"button tab-toggle light active\" data-tab=\"tab-food\" href=\"#tab-food\">\r\n                    <span>Доставка</span>\r\n                </a>\r\n                <a className=\"button tab-toggle light\" data-tab=\"tab-reservation\" href=\"#tab-reservation\">\r\n                    <span>Бронирование</span>\r\n                </a>\r\n            </div>\r\n            <div className=\"col-lg-4 buttons-reserv\">\r\n                <a className=\"button light\" href=\"#\">\r\n                    <i className=\"icon icon-eye\"></i>\r\n                    <span>3D тур</span>\r\n                </a>\r\n                <button className=\"button main screen-toggle\" data-screen=\"pageCompanyList\" id=\"buttonRestaurantList\">\r\n                    <i className=\"icon icon-list\"></i>\r\n                    <span>К списку ресторанов</span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n});\r\n\r\nReactDOM.render(\r\n  <CompanyDetails companyId=\"1\"/>,\r\n  document.getElementById('companyDetails')\r\n);\r\n","var ButtonMore = require('./components/buttonMore.js');\r\nvar CuisinesList = require('./cuisinesList.react.jsx');\r\nvar CompanyListStore = require('./stores/companyListStore.js');\r\nvar CompanyListSidebar = require('./components/companyListSidebar.js');\r\nvar QuicklyLogo = require('./components/quicklyLogo.js');\r\nvar CuisinesActions = require('./actions/cuisinesActions.js');\r\nvar SingleCompany = require('./components/singleCompany.js');\r\nvar CompanyListActions = require('./actions/companyListActions.js');\r\nvar CuisinesList = require('./companyList.react.jsx');\r\n// CompanyListActions.selectByCuisine(this.props.cuisine);\r\n\r\nvar CompanyListHeader = React.createClass({\r\n    render: function(){\r\n        var cuisine = this.props.cuisine;\r\n            return (\r\n            <section className=\"company-list-header\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-4\">\r\n                            <div className=\"row main-logo\">\r\n                                <div className=\"col-lg-6\">\r\n                                    <div className=\"cuisine-thumb\">\r\n                                        <img src={imageBaseUrl+cuisine.cuisine_image} alt={cuisine.cuisine_name} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-lg-6 text\">\r\n                                    <h1>{cuisine.cuisine_name}</h1>\r\n                                    <p>Выберите ресторан из списка</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row bottom-line\">\r\n                        <div className=\"col-lg-8\">\r\n                            <div className=\"back-to-home align-left back-left\">\r\n                                <button className=\"button light screen-toggle\" data-screen=\"pageMain\" id=\"buttonPageMain\">\r\n                                    <i className=\"icon icon-arrow-left\"></i><span> К списку</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-4 align-right\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            )\r\n\r\n    }\r\n});\r\n\r\nvar CompanyList = React.createClass({\r\n    mixins: [Reflux.connect(CompanyListStore, 'companyData')],\r\n    limit: 5,\r\n    cuisineId: 0,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        companyData: [],\r\n        cuisines: []\r\n      };\r\n    },\r\n    componentDidMount: function() {;\r\n        this.state.cuisines = getStorage('cuisines');\r\n    },\r\n    loadMore: function(){\r\n        this.limit += 5;\r\n        CompanyStore.updateData();\r\n    },\r\n    render: function() {\r\n        var cuisineId = CompanyListStore.getCurrentCuisine();\r\n\r\n        var theData = this.state.companyData;\r\n        console.log('CompanyList: companyData = ', this.state.companyData);\r\n        var totalList = this.state.companyData.map(function(the, i) {\r\n            return <SingleCompany company={the} key={i} />\r\n        });\r\n\r\n        console.log('CompanyList: this.state.cuisines = ', this.state.cuisines);\r\n\r\n        var overall, single, cuisines, cuisine;\r\n\r\n        console.log('CompanyListHeader: cuisineId = ', cuisineId);\r\n        if (cuisineId > 0) {\r\n            cuisines = getStorage('cuisines');\r\n            single = _.where(cuisines,{cuisine_id:cuisineId});\r\n\r\n            single.forEach(function (val, index) {\r\n                cuisine = <CompanyListHeader cuisine={val} />;\r\n            });\r\n        }\r\n        console.log('CompanyListHeader: cuisine = ', cuisine);\r\n\r\n        return (\r\n        <div className=\"company-list-wrap\">\r\n            <div className=\"gray header-gray\">\r\n                {cuisine}\r\n            </div>\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"no-padding col-lg-9\">\r\n                        <div className=\"company-list\" id=\"companyList\">\r\n                            <div>\r\n                                <div className=\"row\">\r\n                                    {totalList}\r\n                                </div>\r\n                                <div className=\"full-width align-center\">\r\n                                    <ButtonMore onClick={this.loadMore} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3 mobile sidebar\" id=\"companyListSidebarWrap\">\r\n                        <div className=\"button-close\" id=\"menu-close\"><i className=\"icn-cancel\"></i></div>\r\n                        <div className=\"button-open\" id=\"menu-open\"><i className=\"icn-menu\"></i></div>\r\n                        <div className=\"sidebar-wrap\">\r\n                            <div id=\"companyListSidebar\" className=\"company-list-sidebar\">\r\n                                <CompanyListSidebar />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\n\r\nReactDOM.render(<CompanyList />, document.getElementById('pageCompanyList'));\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-30 02:11:05\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-30 02:22:37\r\n*/\r\n\r\nvar ButtonBack = React.createClass({\r\n    render: function(){\r\n        return(\r\n            <div className=\"button-back\">\r\n                <i className=\"icon-arrow-left\"></i>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ButtonBack;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-24 15:45:19\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-02 13:26:10\r\n*/\r\n\r\nvar ButtonMore = React.createClass({\r\n    render: function (){\r\n        return (\r\n            <button onClick={this.props.onClick} className=\"button button-more\"><i className=\"icon-reload\"></i> Загрузить ещё</button>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ButtonMore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 19:17:52\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 19:20:04\r\n*/\r\n\r\nvar CompanyListSidebar = React.createClass({\r\n    filterCardCourier: function(e){\r\n        console.log(e.target.value);\r\n        if ( e.target.value == 'on' ){\r\n            CompanyListActions.filterData(3);\r\n        }\r\n    },\r\n    render: function(){\r\n        console.log('CompanyListSidebar: init');\r\n        return(\r\n        <div className=\"sidebar-wrap company-list-sidebar\">\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Бесплатная доставка</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Есть акции</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" onChange={this.filterCardCourier} name=\"somename\" /> <span className=\"filter-name\">Оплата картой курьеру</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Онлайн оплата</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Еда за баллы</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Работает сейчас</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Рядом со мной</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Новые</span></label>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = CompanyListSidebar;\r\n","var CuisinesStore = require('../stores/cuisinesStore.js');\r\nvar CompanyListActions = require('../actions/companyListActions.js');\r\n\r\nimport {showScreen} from '../../screens.jsx';\r\n\r\nvar SingleCuisine = React.createClass({\r\n    toggleCategory: function(cuisine){\r\n        CompanyListActions.selectByCuisine(this.props.cuisine);\r\n        showScreen('pageCompanyList');\r\n    },\r\n    render: function(){\r\n        return(\r\n        <div onClick={this.toggleCategory} className=\"cuisine-select-item col-lg-4 col-xs-6 category-item\" data-id={this.props.cuisine.cuisine_id}>\r\n            <a href=\"#\">\r\n                <div className=\"image\">\r\n                    <img src={imageBaseUrl+this.props.cuisine.cuisine_image} alt=\"...\" />\r\n                    <div className=\"overlay\"></div>\r\n                </div>\r\n                <div className=\"food-type\">\r\n                    <b>{this.props.cuisine.cuisine_name}</b>\r\n                    <div className=\"information\">\r\n                        <span className=\"total total-delivery\">\r\n                            <span>Доставка:</span>\r\n                            <span className=\"sum\"> {this.props.cuisine.delivery_count}</span>\r\n                        </span>\r\n                        <span className=\"total total-delivery\">\r\n                            <span>Бронь:</span>\r\n                            <span className=\"sum\"> {this.props.cuisine.reservations_count}</span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\n\r\nvar CuisinesSelectList = React.createClass({\r\n    mixins: [Reflux.connect(CuisinesStore, 'cuisinesData')],\r\n    limit: 5,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        cuisinesData: []\r\n      };\r\n    },\r\n    componentDidMount: function() {\r\n\r\n    },\r\n    render: function() {\r\n        var allCuisines = this.state.cuisinesData;\r\n        var list = allCuisines.map(function(the, key) {\r\n            if (key < 6) return (\r\n                <SingleCuisine cuisine={the} key={key} />\r\n            )\r\n        });\r\n        return (\r\n        <section className=\"the-tab tab-active main-categories types-grid\">\r\n            <div className=\"container\">\r\n                <div className=\"row\" id=\"cuisinesList\">\r\n                    {list}\r\n                </div>\r\n            </div>\r\n        </section>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = CuisinesSelectList;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 19:22:53\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 19:24:29\r\n*/\r\n\r\nvar QuicklyLogo = React.createClass({\r\n    render: function(){\r\n        return (\r\n            <svg className=\"logo-svg zoomer-image\" xmlns=\"http://www.w3.org/2000/svg\" id=\"svg-quickly\" fill-rule=\"evenodd\" viewBox=\"0 0 13214.144 12912.382\" clip-rule=\"evenodd\" image-rendering=\"optimizeQuality\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\">\r\n              <g>\r\n                <g>\r\n                  <path className=\"disappear svg-text\" fill-rule=\"nonzero\" d=\"M2552.117 9764.941c-82.4915 24.232-156.2183 36.6058-220.1493 36.6058-163.4363 0-323.2637-48.9794-477.4198-147.4537-97.4433-62.8997-225.3052-172.201-384.617-327.3882-100.5365 11.3426-188.6994 17.014-264.4885 17.014-347.4957 0-636.7317-121.1596-867.1924-363.994C112.4296 8741.5302-.481 8448.1697-.481 8099.643c0-354.198 121.1596-645.4964 363.994-874.4105 238.71-224.7894 535.6796-336.6686 889.8777-336.6686 351.1047 0 638.2784 117.5503 860.49 353.6824 218.087 231.492 327.3883 524.337 327.3883 877.504 0 452.1567-176.8412 793.981-530.5237 1026.504 117.0348 168.0766 210.3534 286.6582 278.9245 355.2293 86.1006 85.0695 206.7445 172.7167 362.4473 263.4574zm-499.5894-1567.855c0-265.5196-74.2424-496.496-224.274-693.4445-163.4363-216.0247-374.3053-323.7793-634.6693-323.7793-244.3812 0-441.3298 82.4915-591.3613 247.9902-142.8135 159.3118-214.478 362.9628-214.478 608.8908 0 263.4573 75.2735 493.918 226.3362 691.8978 166.0142 216.0248 376.8833 323.7794 634.6694 323.7794 238.71 0 434.6273-84.0383 586.2055-253.146 144.876-161.8896 217.5716-362.4472 217.5716-602.1883zM4091.1 9309.1754h-395.4438v-280.9868l-250.0525 274.2844c-79.3982 27.3252-153.125 41.2457-219.6338 41.2457-183.5438 0-310.3745-53.6196-378.9456-160.343-52.5884-83.007-79.9137-221.696-80.945-417.098-1.031-57.744-.5155-140.2355 1.5468-247.4745 3.609-114.457 5.1558-196.9486 5.1558-249.0214 0-252.1148-24.232-459.3748-72.6957-621.78h464.5305c-43.8236 117.0348-65.4776 256.2393-65.4776 415.551v628.9982c0 123.2217 16.4983 207.7756 50.0105 254.177 40.2146 56.713 118.5816 85.0695 234.5853 85.0695 85.0694 0 187.6683-28.872 308.3122-86.616v-838.836c0-166.53-22.1696-319.1393-65.9933-458.3438H4091.1c-44.3392 142.298-65.9932 252.6304-65.9932 330.4818v806.8705c0 211.3846 21.654 385.648 65.9932 523.8213zm756.86-2089.0985c0 64.962-18.5606 122.7062-55.1662 174.779-41.7613 55.1662-93.834 83.007-156.2184 83.007-67.54 0-122.1906-26.294-164.983-79.398-38.1524-48.9794-57.2286-107.7546-57.2286-178.388 0-67.54 19.0762-125.7996 57.2285-175.81 41.7614-55.1663 95.381-83.0072 161.374-83.0072 61.3532 0 113.9416 28.3564 156.2185 85.0694 39.1835 51.5572 58.7752 109.817 58.7752 173.7478zm21.1385 2089.0985h-465.046c43.8235-135.5955 65.993-300.5786 65.993-494.9493v-622.2956c0-146.938-2.5778-239.741-6.7023-279.9557-6.7025-75.789-26.8098-163.4364-59.2908-263.973h465.046c-32.481 126.3152-52.5883 214.478-59.2907 262.9418-4.6402 42.7925-6.7025 131.471-6.7025 266.0353v637.2472c0 196.9486 21.654 361.416 65.9933 494.9493zm1494.1282-343.371l-130.9553 318.6236c-110.848 39.699-219.1182 59.2907-324.295 59.2907-246.959 0-443.392-76.8203-586.721-230.4608-140.2357-149.0005-210.3536-348.0113-210.3536-596.517 0-271.191 80.945-489.7937 243.35-654.7768 161.8898-166.0143 378.9457-248.5058 650.6522-248.5058 133.0176 0 239.741 11.858 320.1703 35.5745l-17.0138 387.7102c-76.8203-69.0867-131.9865-114.457-167.561-134.5644-59.2908-35.059-128.3775-53.104-205.7133-53.104-152.6094 0-272.7377 60.8376-361.9317 182.5126-78.8825 109.817-118.5816 243.35-118.5816 402.1463 0 182.5126 40.73 332.0285 122.1905 448.5478 93.8342 131.9865 227.883 197.9798 402.662 197.9798 118.066 0 246.4434-38.1524 384.1012-114.457zm1617.8655 343.371h-492.3714c7.7336-53.104-64.962-201.073-217.5715-443.9076-92.2874-141.2668-185.0904-282.018-278.409-423.2848v447.001c0 118.066 2.0623 190.7617 6.7025 218.6026 5.1557 43.308 25.263 110.3324 59.2908 201.5887h-465.046c32.481-87.6473 53.1038-170.1388 60.8374-245.4123 3.609-38.1524 5.1557-125.7997 5.1557-260.8796V7410.323c0-137.1423-22.1696-263.4574-65.9932-379.4612l465.046-93.834c-44.339 148.4847-65.9932 311.921-65.9932 489.278v997.1165c82.4916-118.066 164.983-237.1632 248.5058-356.776 112.395-180.9658 167.561-320.686 163.952-418.6446h551.6623c-130.9553 100.5366-244.3812 215.5092-341.8243 345.4334-15.4672 20.623-108.7858 160.8586-278.9246 421.2226 151.0627 236.6476 251.0837 391.8348 300.5786 464.015 117.5505 169.1076 232.0075 313.4678 344.4022 430.5027zm583.1122 0h-464.5306c43.8237-168.0765 65.9933-337.1842 65.9933-506.292V7571.1816c0-172.7167-22.1695-353.167-65.9932-540.3197l464.5306-93.834c-43.8237 230.9762-65.9933 436.6895-65.9933 616.1086v1288.415c0 161.8896 22.1697 317.5924 65.9934 467.624zm1744.1807-1661.1736c-111.879 159.3118-226.336 405.7553-344.9177 738.815-160.343 455.2502-260.8795 726.4412-300.5786 813.573-128.893 288.2047-277.8934 496.496-447.001 625.389H8800.852c139.72-116.0038 250.568-232.523 331.513-349.0424 68.571-97.9587 144.8757-240.2567 228.914-426.8938l-293.8762-722.3166c-124.7684-287.1738-252.6303-513.51-385.648-679.5243h457.828c24.7476 125.284 86.6163 313.468 184.575 564.036 73.7268 180.9658 146.4225 361.9317 218.6026 542.8975 62.3842-180.9658 124.253-362.4472 186.637-544.4442 72.6958-227.883 107.239-415.5512 103.63-562.4893h475.3577z\" className=\"fil0\"/>\r\n                  <path className=\"disappear svg-line\" fill-rule=\"nonzero\" d=\"M6594.203 1912.7767c1257.9962-46.4015 2415.9713 421.738 3271.3056 1215.7192 831.1023 771.8115 1376.0622 1852.4508 1448.2423 3068.17l.5154 13.405-202.6198 7.7335 202.6198-7.7336c2.0623 30.4186 3.0935 60.3218 4.6402 90.7406 40.2146 1094.0442-308.3122 2112.2993-922.3587 2921.7476l-188.184-88.163c602.704-778.514 946.5906-1764.8035 907.407-2825.851-1.031-30.4188-2.5777-60.8375-4.1244-90.7407l-1.0312-11.3426c-69.0867-1160.553-589.8146-2192.213-1383.2802-2929.4813-817.182-758.4067-1923.5998-1205.4078-3125.3986-1161.0686-1202.3143 44.3393-2272.6422 571.7697-3031.5645 1388.436-758.4066 817.182-1205.4076 1923.6-1161.0684 3125.3986-146.938 4.6402-137.1422 22.6852-203.1355 7.7336-46.4014-1258.5117 421.7382-2415.9713 1215.7193-3271.3055 793.9812-854.8187 1914.3196-1406.9965 3172.3157-1453.398z\" className=\"fil0\"/>\r\n                  <path className=\"the-path disappear svg-red-angle\" id=\"svg-logo-red\" fill=\"#e80707\" d=\"M9674.2313 9575.726l3266.6654 1479.6923-1312.6468 1493.097z\" className=\"fil2\"/>\r\n                  <path className=\"the-path disappear svg-blue\" id=\"svg-logo-blue\" fill=\"#1620e0\" d=\"M1893.7314 6475.075l-1593.6337 2.0623c-2.0623-1716.3398 677.462-3363.593 1889.572-4578.7966l1123.9475 1120.854c-877.504 880.0816-1420.4014 2094.254-1420.4014 3435.2574 0 6.7025.5156 13.9206.5156 20.623z\" className=\"fil3\"/>\r\n                  <path className=\"the-path disappear svg-green\" id=\"svg-logo-green\" fill=\"#109634\" d=\"M3303.3057 3030.0216l-1131.1653-1128.072C3384.2506 686.2305 5029.4414 2.5817 6745.7814.004c945.0437-1.0313 1878.745 204.682 2736.1415 602.7037L8812.1945 2043.732c-624.358-291.2983-1319.8648-454.219-2054.0396-454.219-1351.3147 0-2573.2208 551.1466-3454.8493 1440.5086z\" className=\"fil4\"/>\r\n                  <path className=\"the-path disappear svg-yellow\" id=\"svg-logo-yellow\" fill=\"#f0c800\" d=\"M8800.852 2038.5763l668.697-1439.4776c2280.8915 1060.0165 3741.5075 3345.548 3744.601 5860.509 2.0622 1325.0207-402.662 2610.8577-1148.695 3689.9503l-1446.6955-735.7215c629.5137-819.7598 1003.819-1845.7485 1003.819-2959.3844 0-1957.112-1155.3972-3644.064-2821.7265-4415.8757z\" className=\"fil5\"/>\r\n                  <path className=\"the-path disappear svg-red\" id=\"svg-logo-red-2\" fill=\"#e00909\" d=\"M6600.39 12910.447c-2169.528-53.104-4062.1934-1170.3488-5192.8432-2839.7716h2080.8494c865.13 782.123 2011.7626 1259.0273 3269.7588 1259.0273 1071.359 0 2062.2887-345.949 2867.097-932.1545l768.2025 1394.6228c-1078.0615 735.7215-2388.646 1152.3038-3793.0646 1118.276z\" className=\"fil6\"/>\r\n                </g>\r\n              </g>\r\n            </svg>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = QuicklyLogo;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 20:59:52\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-30 02:26:15\r\n*/\r\n\r\nvar CuisinesList = require('../cuisinesList.react.jsx');\r\nvar MenuItemsActions = require('../actions/menuItemsActions.js');\r\nvar CategoriesListActions = require('../actions/categoriesListActions.js');\r\nvar CompanyDetailsActions = require('../actions/companyDetailsActions.js');\r\nimport {showScreen} from \"../../screens.jsx\";\r\n\r\n//<span className=\"desc\"><i>наличными</i><i>картой курьеру</i></span>\r\n//<span className=\"desc\">только наличные</span>\r\n\r\nvar PaymentTypes = React.createClass({\r\n    render: function(){\r\n        console.log('payment: ', this.props.type);\r\n        if (this.props.type == 0) return (\r\n            <div className=\"payment-type\">\r\n                <div className=\"payment-icons\">\r\n                    <span><i className=\"pay-icon fi-payment-cash\"></i></span>\r\n                </div>\r\n                <div className=\"payment-text\">\r\n                     <span>только наличными</span>\r\n                </div>\r\n            </div>\r\n        );\r\n        if (this.props.type == 1) return (\r\n            <div className=\"payment-type\">\r\n                <div className=\"payment-icons\">\r\n                    <span><i className=\"pay-icon fi-card-detail\" /></span>\r\n                    <span><i className=\"pay-icon fi-payment-cash\" /></span>\r\n                </div>\r\n                <div className=\"payment-text\">\r\n                     <span>наличными</span>\r\n                     <span>картой курьеру</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n\r\nvar PaymentTypesCards = React.createClass({\r\n    render: function(){\r\n        console.log('payment: ', this.props.type);\r\n        if (this.props.type == 0) return (\r\n            <div className=\"payment-type\">\r\n                <div className=\"payment-icons\">\r\n                    <span><i className=\"pay-icon fi-payment-cash\"></i></span>\r\n                </div>\r\n                <div className=\"payment-text\">\r\n                     <span>только наличными</span>\r\n                </div>\r\n            </div>\r\n        );\r\n        if (this.props.type == 1) return (\r\n            <div className=\"payment-type\">\r\n                <div className=\"payment-icons\">\r\n                    <span><i className=\"pay-icon fi-card-detail\" /></span>\r\n                    <span><i className=\"pay-icon fi-payment-cash\" /></span>\r\n                </div>\r\n                <div className=\"payment-text\">\r\n                     <span>наличными</span>\r\n                     <span>картой курьеру</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n\r\nvar StarYes = React.createClass({\r\n    render: function(){\r\n        return(\r\n            <i className=\"fa yes fa-star\"></i>\r\n        )\r\n    }\r\n});\r\n\r\nvar StarNo = React.createClass({\r\n    render: function(){\r\n        return(\r\n            <i className=\"fa yes fa-star-o\"></i>\r\n        )\r\n    }\r\n});\r\n\r\nvar RatingStars = React.createClass({\r\n    render: function(){\r\n        var count = this.props.count;\r\n        var stars = '';\r\n        for(var i=0; i<count; i++){\r\n            stars += '<i className=\"fa yes fa-star\"></i>';\r\n        }\r\n        return (\r\n        <div className=\"rating\">\r\n            {stars}\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\nvar SingleCompany = React.createClass({\r\n    toggleCompany: function(el){\r\n        var company = this.props.company.restaurant_id;\r\n        console.log('SingleCompany: Next ID: ' ,company);\r\n        currentCompany = company;\r\n        CompanyDetailsActions.updateData(company);\r\n        MenuItemsActions.updateData(company);\r\n        CategoriesListActions.updateData(company);\r\n        showScreen('pageCompany');\r\n    },\r\n    render: function(){\r\n        var total = 0;\r\n        var that = this.props.company;\r\n        var paymentType;\r\n\r\n        var imageUrl = imageBaseUrl+that.restaurant_main_image;\r\n        var bgImage = imageBaseUrl+that.restaurant_interior_image;\r\n\r\n        var style = {\r\n            backgroundImage: 'url('+bgImage+')',\r\n        }\r\n        var rating = 4;\r\n        if( that.restaurant_online_payment = 1 )\r\n        // <PaymentTypes type={that.restaurant_payment_type} />\r\n        return(\r\n        <div className=\"col-lg-6\">\r\n        <section style={style} onClick={this.toggleCompany} className=\"company-item company-toggle\" data-company={that.restaurant_id}>\r\n            <div className=\"the-box row\">\r\n                <div className=\"company-logo col-lg-3 col-xs-4 col-sm-4\">\r\n                    <div className=\"image-thumb\">\r\n                        <img src={imageUrl} />\r\n                    </div>\r\n                    <div className=\"c-payment\">\r\n                        <img src=\"images/cards/mastercard.png\" alt=\"...\" />\r\n                        <img src=\"images/cards/visa.png\" alt=\"...\" />\r\n                        <div className=\"is-online\">\r\n                            онлайн оплата\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"company-description col-lg-9 col-xs-8 col-sm-8\">\r\n                    <h2>\r\n                        {that.restaurant_name}\r\n                        <div className=\"rating\">\r\n                            {rating}\r\n                        </div>\r\n                    </h2>\r\n                    <div className=\"address\">\r\n                        <span>{that.restaurant_address}</span>\r\n                    </div>\r\n                    <div className=\"text-line cuisines-list\">\r\n                        <span className=\"text-line\">\r\n                            <CuisinesList cuisines={that.restaurant_cuisines} />\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"row btm-line\">\r\n                       <div className=\"col-lg-3 col-xs-3 kal\">\r\n                            <div className=\"box-info\">\r\n                                <b className=\"value\">{that.restaurant_min_order} <i className=\"fa fa-rouble\"></i></b>\r\n                                <span className=\"description\">заказ от</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-3 col-xs-3 kal\">\r\n                            <div className=\"box-info\">\r\n                                <b className=\"value\">{that.restaurant_delivery_cost} <i className=\"fa fa-rouble\"></i></b>\r\n                                <span className=\"description\">доставка</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-lg-3 col-xs-3 kal\">\r\n                            <div className=\"box-info\">\r\n                                <b className=\"value\">{that.restaurant_delivery_time} <i className=\"icon icon-clock\"></i></b>\r\n                                <span className=\"description\">время</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-3 col-xs-3 kal\">\r\n                            <div className=\"box-info\">\r\n                                <b className=\"value\">{that.restaurant_average_check} <i className=\"fa fa-rouble\"></i></b>\r\n                                <span className=\"description\">средний чек</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"c-payment mobile\">\r\n                        <img src=\"images/cards/mastercard.png\" alt=\"...\" />\r\n                        <img src=\"images/cards/visa.png\" alt=\"...\" />\r\n                        <div className=\"is-online\">\r\n                            онлайн\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                <div className=\"row btm-line mobile\">\r\n                   <div className=\"col-lg-3 col-xs-3 kal\">\r\n                        <div className=\"box-info\">\r\n                            <b className=\"value\">{that.restaurant_min_order} <i className=\"fa fa-rouble\"></i></b>\r\n                            <span className=\"description\">заказ от</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-xs-3 kal\">\r\n                        <div className=\"box-info\">\r\n                            <b className=\"value\">{that.restaurant_delivery_cost} <i className=\"fa fa-rouble\"></i></b>\r\n                            <span className=\"description\">доставка</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-3 col-xs-3 kal\">\r\n                        <div className=\"box-info\">\r\n                            <b className=\"value\">{that.restaurant_delivery_time} <i className=\"icon icon-clock\"></i></b>\r\n                            <span className=\"description\">время</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-xs-3 kal\">\r\n                        <div className=\"box-info\">\r\n                            <b className=\"value\">{that.restaurant_average_check} <i className=\"fa fa-rouble\"></i></b>\r\n                            <span className=\"description\">средний чек</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <div className=\"the-footer\">\r\n                <div className=\"row\">\r\n                    <div className=\"align-left col-xs-6 col-lg-6\">\r\n                        <div className=\"comments-count\">\r\n                            <i className=\"icon fi-comment\"></i>\r\n                            <span className=\"count\">{that.restaurant_comments_count}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"align-right col-xs-6 col-lg-6\">\r\n                        <div className=\"right-icons\">\r\n                            <button className=\"bt-round delivery\">\r\n                                <i className=\"icon fi-dish\"></i>\r\n                            </button>\r\n                            <button className=\"bt-round reservation\">\r\n                                <i className=\"icon fi-table\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        </div>\r\n        );\r\n    }\r\n});\r\n\r\nmodule.exports = SingleCompany;\r\n","var CuisinesStore = require('./stores/cuisinesStore.js');\r\n\r\nvar CuisinesList = React.createClass({\r\n    mixins: [Reflux.connect(CuisinesStore, 'cuisinesData')],\r\n    limit: 3,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        cuisinesData: []\r\n      };\r\n    },\r\n    componentDidMount: function() {\r\n\r\n    },\r\n    render: function() {\r\n        var companyCuisines = JSON.parse(this.props.cuisines);\r\n        var limit = this.limit;\r\n        var allCuisines = getStorage('cuisines');\r\n\r\n        var sorted = _.sortBy(allCuisines, function(o) { return o.cuisine_id; });\r\n\r\n        console.log('CuisinesList: sorted = ', sorted);\r\n        var totalList = companyCuisines.map(function(the, key) {\r\n            if(key < limit){\r\n                var pick = sorted[key+1];\r\n                return (\r\n                    <button className=\"button light button-cuisine\" key={key}>{pick.cuisine_name}</button>\r\n                )\r\n            }\r\n        });\r\n        return (\r\n            <div className=\"cuisinesList\">\r\n            {totalList}\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = CuisinesList;\r\n\r\n","var CuisinesStore = require('./stores/cuisinesStore.js');\r\nvar QuicklyLogo = require('./components/quicklyLogo.js');\r\nvar ButtonBack = require('./components/buttonBack.js');\r\nvar CuisinesSelectList = require('./components/cuisinesSelectList.js');\r\nvar CityList = require('./cityList.react.jsx');\r\n\r\nimport {showScreen} from '../screens.jsx';\r\n\r\nvar ButtonBackTop = React.createClass({\r\n    render: function(){\r\n        <ButtonBack />\r\n    }\r\n});\r\n\r\nvar MainSlider = React.createClass({\r\n    render: function(){\r\n        return (\r\n            <section className=\"hero\">\r\n            <ul className=\"quickly-slider autoplay\">\r\n                <li className=\"selected\">\r\n                    <div className=\"half-width\">\r\n                        <h2>Сытые выходные с Квикли</h2>\r\n                        <p>Вторая мировая с ее сверхжестким регулированием массовыми разрушениями нанесла группировке серьезный удар. </p>\r\n                        <a href=\"#0\" className=\"button main\">Подробнее об акции</a>\r\n                    </div>\r\n\r\n                    <div className=\"half-width img-container\">\r\n                        <img src=\"images/samples/app-1.png\" alt=\"...\" />\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div className=\"half-width img-container\">\r\n                        <img src=\"images/samples/pizza.png\" alt=\"...\" />\r\n                    </div>\r\n                    <div className=\"half-width\">\r\n                        <h2>Супер-пицца в подарок</h2>\r\n                        <p>После смерти Таоки для клана Кенити Ямамото отбывал срок в тюрьме, где скоропостижно скончался полгода спустя</p>\r\n                        <a href=\"#0\" className=\"button\">Что-то там</a>\r\n                        <a href=\"#0\" className=\"button main\">Подробнее</a>\r\n                    </div>\r\n                </li>\r\n                <li className=\"bg-video\">\r\n                    <div className=\"full-width\">\r\n                        <h2>Ещё что-то интересное</h2>\r\n                        <p>Следующий, пятый оябун не просто восстановил влияние группировки, но и привел ее к невиданному процветанию. </p>\r\n                        <a href=\"#0\" className=\"button main\">Узнать больше</a>\r\n                    </div>\r\n\r\n                    <div className=\"bg-video-wrapper\" data-video=\"assets/video/video\">\r\n\r\n                    </div>\r\n                </li>\r\n\r\n                <li>\r\n                    <div className=\"full-width\">\r\n                        <h2>Вваываывавы</h2>\r\n                        <p>Не просто восстановил влияние группировки смерти Таоки для клана Кенити Ямамото отбывал срок в тюрьме, где скоропостижно </p>\r\n                        <a href=\"#0\" className=\"button\">Узнать больше</a>\r\n                        <a href=\"#0\" className=\"button main\">Или ещё что-то</a>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n            <div className=\"slider-nav\">\r\n                <nav>\r\n                    <span className=\"marker item-1\"></span>\r\n                    <ul>\r\n                        <li className=\"selected\">\r\n                            <a href=\"#0\"><i className=\"icon fi-dish\"></i></a>\r\n                        </li>\r\n                        <li>\r\n                            <a href=\"#0\"><i className=\"icon fi-table\"></i></a>\r\n                        </li>\r\n                        <li><a href=\"#0\"><i className=\"icon fi-dish\"></i></a></li>\r\n                        <li><a href=\"#0\"><i className=\"icon fi-table\"></i></a></li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </section>\r\n\r\n        )\r\n    }\r\n});\r\n\r\nvar MainPageHeader = React.createClass({\r\n    render: function(){\r\n        return (\r\n        <section className=\"main-header\">\r\n            <MainSlider />\r\n        </section>\r\n        )\r\n    }\r\n});\r\n\r\nvar ButtonBack = React.createClass({\r\n    render: function(){\r\n        return(\r\n            <div className=\"button-back\">\r\n                <i className=\"icon-arrow-left\"></i>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nReactDOM.render(<MainPageHeader />, document.getElementById('mainPageHeader'));\r\nReactDOM.render(<CuisinesSelectList />, document.getElementById('cuisinesSelectList'));\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-24 17:32:25\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-24 17:41:56\r\n*/\r\n\r\nvar MenuItemsStore = require('./stores/menuItemsStore.js');\r\nvar CategoriesListActions = require('./actions/categoriesListActions.js');\r\nvar CategoriesList = require('./categoriesList.react.jsx');\r\n\r\nvar SingleMenuItem = React.createClass({\r\n    render: function(){\r\n        var item = this.props.item;\r\n        var itemImage = imageBaseUrl+item.menu_item_image;\r\n        if (item.menu_item_image === undefined || item.menu_item_image === null || item.menu_item_image == '') { itemImage = 'images/samples/2.png'; }\r\n        return(\r\n        <div className=\"col-lg-4 col-xs-6 food-item\">\r\n            <a href=\"#\">\r\n                <div className=\"product-image\">\r\n                    <img src={itemImage} />\r\n                    <div className=\"product-controls\">\r\n                        <button className=\"button main add-to-cart\"\r\n                        data-name={item.menu_item_name}\r\n                        data-price={item.menu_item_price}\r\n                        data-id={item.menu_item_id}>В корзину</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"product-info\">\r\n                    <div className=\"major\">\r\n                        <div className=\"product-name\">\r\n                            <b>{item.menu_item_name}</b>\r\n                        </div>\r\n                        <div className=\"product-price\">\r\n                            <span>{item.menu_item_price} <i className=\"rouble\">i</i></span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"product-description\">\r\n                        <span>{item.menu_item_full_description}</span>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n        );\r\n    }\r\n});\r\n\r\nvar MenuItemsSidebar = React.createClass({\r\n    render: function(){\r\n        return (\r\n            <div>\r\n                <div className=\"button-close\" id=\"menu-close\"><i className=\"icon-close\"></i></div>\r\n                <div className=\"button-open\" id=\"menu-open\"><i className=\"icn-menu\"></i></div>\r\n                <div className=\"sidebar-wrap\">\r\n                    <div className=\"form-group label-floating is-empty\">\r\n                        <label htmlFor=\"i5\" className=\"control-label\">Поиск блюда</label>\r\n                        <input type=\"search\" className=\"form-control\" id=\"i5\" />\r\n                        <span className=\"help-block\"></span>\r\n                        <span className=\"material-input\"></span>\r\n                    </div>\r\n                    <CategoriesList />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nvar MenuItemsList = React.createClass({\r\n    mixins: [Reflux.connect(MenuItemsStore, 'menuItems')],\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        menuItems: []\r\n      };\r\n    },\r\n    render: function(){\r\n        var theData = this.state.menuItems;\r\n        var total = 0;\r\n        var items = theData.map(function(the, i) {\r\n            return <SingleMenuItem item={the} key={i} />\r\n        });\r\n        return (\r\n            <div>{items}</div>\r\n        )\r\n    }\r\n});\r\n\r\nvar MenuItems = React.createClass({\r\n    render: function() {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-9\">\r\n                    <div className=\"row\">\r\n                        <MenuItemsList />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-lg-3 mobile sidebar\" id=\"sidebar\">\r\n                    <MenuItemsSidebar />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nReactDOM.render(<MenuItems />, document.getElementById('menuItems'));\r\n","var ButtonMore = require('./components/buttonMore.js');\r\nimport {addToCart, repeatOrder} from '../engine/addToCart.js';\r\nvar OrdersHistoryStore = require('./stores/ordersHistoryStore.js');\r\n\r\nvar SingleOrderItem = React.createClass({\r\n    render: function(){\r\n        var single = this.props.item, thumb = 'http://fakeimg.pl/37x37/ddd/';\r\n        if( single.menu_item_image !== '' ) thumb = imageBaseUrl+single.menu_item_image;\r\n        var idAttr = \"singleItem-\"+single.menu_item_id;\r\n        return (\r\n        <div className=\"item\" id={idAttr} >\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-3 no-padding-right align-right\">\r\n                    <div className=\"thumb-tiny\">\r\n                        <img src={thumb} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-lg-9 no-padding-left\">\r\n                    <div className=\"text\">\r\n                        <b>{single.menu_item_name}</b>\r\n                        <span className=\"price\">{single.menu_item_price*single.count} <i className=\"rouble\">o</i>,  <span className=\"count\">{single.count} шт.</span></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n});\r\n\r\nvar SingleOrder = React.createClass({\r\n    repeatThis: function(){\r\n        repeatOrder(this.props.list.order_menu_items);\r\n    },\r\n    render: function(){\r\n        var total = 0;\r\n        var data = this.props.list;\r\n        console.log('DATA signle: ', data);\r\n\r\n        var items = data.order_menu_items.map(function(the, i) {\r\n            total += (the.menu_item_price*the.count);\r\n            return (\r\n                <SingleOrderItem item={the} key={i} />\r\n            )\r\n        });\r\n\r\n        return(\r\n        <div className=\"history-item row\" key={this.props.key}>\r\n            <div className=\"date-time\">{moment.unix(data.created_at).format(\"DD MMMM YYYY HH:mm\")}</div>\r\n            <div className=\"col-lg-2\">\r\n                <div className=\"box-company medium\">\r\n                    <div className=\"thumb-round\">\r\n                        <img src={imageBaseUrl+data.restaurant_main_image} alt=\"...\" />\r\n                    </div>\r\n                    <span className=\"title\">{data.restaurant_name}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-5\">\r\n                <div className=\"history-items\">\r\n                    {items}\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-2 summary\">\r\n                <div className=\"total\">\r\n                    <span className=\"total-title\">итого:</span>\r\n                    <b className=\"sum-total\">{total} <i className=\"rouble\">o</i></b>\r\n                </div>\r\n\r\n                <div className=\"bonus\">\r\n                    <span className=\"total-title\"><i className=\"r fa fa-rub\"></i>-бонусов</span>\r\n                    <b className=\"sum-bonus\">+ {data.bonus}</b>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-3 actions\">\r\n                <span className=\"title\">поделится:</span>\r\n                <div className=\"social-share\">\r\n                    <a href=\"#\"><i className=\"fa fa-facebook\"></i></a>\r\n                    <a href=\"#\"><i className=\"fa fa-vk\"></i></a>\r\n                    <a href=\"#\"><i className=\"fa fa-twitter\"></i></a>\r\n                    <a href=\"#\"><i className=\"fa fa-odnoklassniki\"></i></a>\r\n                </div>\r\n                <button onClick={this.repeatThis} className=\"button light round button-history-repeat\" id=\"button-history-repeat\">\r\n                    <i className=\"icon-refresh\"></i><span>Повторить заказ</span>\r\n                </button>\r\n\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n})\r\n\r\nvar OrdersHistory = React.createClass({\r\n    mixins: [Reflux.connect(OrdersHistoryStore, 'historyData')],\r\n    limit: 5,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        historyData: []\r\n      };\r\n    },\r\n    componentDidMount: function() {\r\n     //   OrdersHistoryActions.updateData();\r\n    },\r\n    loadMore: function(){\r\n        this.limit += 5;\r\n        OrdersHistoryActions.updateData();\r\n    },\r\n    render: function() {\r\n     //   OrdersHistoryActions.updateData();\r\n        var theData = this.state.historyData;\r\n        var total = 0;\r\n        var sorted = _.first(_.sortBy(theData, 'order_id').reverse(), this.limit);\r\n        var messages = sorted.map(function(the, i) {\r\n            return <SingleOrder list={the} key={i} />\r\n        });\r\n        return (\r\n            <div>{messages}\r\n                <div className=\"full-width align-center\">\r\n                    <ButtonMore onClick={this.loadMore} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nReactDOM.render(<OrdersHistory />, document.getElementById('ordersHistory'));\r\n","var ButtonMore = require('./components/buttonMore.js');\r\nvar ProfileEditorStore = require('./stores/profileEditorStore.js');\r\nvar ProfileEditorActions = require('./actions/profileEditorActions.js');\r\n\r\nfunction editUserField(obj, callback) {\r\n    var theOptions = {};\r\n    var theParameter = $('#' + fieldId).data('id');\r\n\r\n    theOptions['userToken'] = userToken;\r\n    theOptions['cityId'] = cityId;\r\n    theOptions[theParameter] = $('#' + fieldId).val();\r\n\r\n    console.log('editUserField: AJAX: ' + theParameter + ' = ' + fieldId);\r\n    $.ajax({\r\n        url: serverUrl + '/api/v2/user/profile/edit',\r\n        dataType: 'json',\r\n        type: 'POST',\r\n        data: theOptions,\r\n        success: function(data) {\r\n            console.log('editUserField: ', data);\r\n            if (data.err === undefined || data.err === null) {\r\n                toastr.success('Данные профиля сохранены');\r\n            }\r\n            $('#' + fieldId).parent().addClass('has-success');\r\n            refreshUserProfile();\r\n            if (callback) callback(data);\r\n        }\r\n    });\r\n}\r\n\r\n\r\nvar Field = React.createClass({\r\n  render: function () {\r\n      return (\r\n        <div className=\"form-group\">\r\n          <label className=\"control-label\" htmlFor={this.props.id}>{this.props.name}</label>\r\n          <input type={this.props.type } ref={this.props.id} data-id={this.props.id} type=\"text\" className=\"form-control\" value={this.props.value} defaultValue={this.props.default} onChange={this.props.onChange} id={this.props.id} defaultValue={this.props.value} />\r\n        </div>\r\n      );\r\n  }\r\n});\r\n\r\nvar AddressAddForm = React.createClass({\r\n    render: function () {\r\n        return (\r\n          <div>\r\n           test\r\n          </div>\r\n        )\r\n    }\r\n});\r\n\r\nvar ProfileEditorForm = React.createClass({\r\n    getInitalState: function(){\r\n        console.log('ProfileEditorForm getInitalState profile = ', this.props.profile);\r\n        return {\r\n          profile: {\r\n            userAvatarUrl: '',\r\n            userBirthdate: null,\r\n            userEmail: '',\r\n            userGender: 0,\r\n            userName: '',\r\n            userSurname: '',\r\n            userPhone: ''\r\n          }\r\n        }\r\n    },\r\n    onFieldChange: function(value){\r\n        console.log('ProfileEditorForm onFieldChange: value = ', value.target);\r\n    },\r\n    addCardForm: function(){\r\n      swal({\r\n        title: 'Введите номер карты',\r\n        html: '<input id=\"inputCardNumber\" type=\"text\" class=\"form-control\">',\r\n        showCancelButton: true,\r\n        closeOnConfirm: false,\r\n        allowOutsideClick: false\r\n      },\r\n      function() {\r\n        swal({\r\n          html:\r\n            'Номер карты: <strong>' +\r\n            $('#inputCardNumber').val() +\r\n            '</strong>'\r\n        });\r\n      })\r\n    },\r\n    render: function(){\r\n        var total = 0;\r\n        var profile = this.props.profile;\r\n        var userAvatar;\r\n        if (profile.userAvatarUrl === undefined || profile.userAvatarUrl === null) {\r\n            userAvatar = 'images/samples/user.png';\r\n        } else userAvatar = profile.userAvatarUrl;\r\n\r\n        console.log('ProfileEditorForm: profile = ', this.state);\r\n        return (\r\n        <div className=\"user-editor container\">\r\n           <div className=\"row\">\r\n              <div className=\"col-lg-2 text-center\">\r\n                 <div className=\"avatar round\">\r\n                    <img src={userAvatar} alt=\"...\" />\r\n                 </div>\r\n                 <div className=\"btn-group\">\r\n                    <a className=\"button light small\">Изменить аватар</a>\r\n                 </div>\r\n              </div>\r\n              <div className=\"col-lg-10 the-info\">\r\n                 <div className=\"row delivery\">\r\n                    <div className=\"col-lg-2\">\r\n                      <Field type=\"text\" name=\"Имя\" id=\"userName\" default={profile.userName} />\r\n                    </div>\r\n                    <div className=\"col-lg-2\">\r\n                      <Field type=\"text\" name=\"Фамилия\" id=\"userSurname\" default={profile.userName} />\r\n                    </div>\r\n                    <div className=\"col-lg-2\">\r\n                      <Field type=\"datetime\" name=\"Дата рождения\" id=\"userBirthdate\" default={profile.userName} />\r\n                    </div>\r\n                    <div className=\"col-lg-3\">\r\n\r\n                    </div>\r\n                 </div>\r\n                  <div className=\"line row\">\r\n                    <div className=\"col-lg-6\">\r\n                      <b className=\"el-title\">Привязка карты</b>\r\n                      <button className=\"button main\" onClick={this.addCardForm}>Добавить карту</button>\r\n                    </div>\r\n                  </div>\r\n              </div>\r\n           </div>\r\n           <div className=\"row buttons-line\">\r\n              <div className=\"col-lg-2\">\r\n              </div>\r\n              <div className=\"col-lg-10 buttons-tabs\">\r\n                 <div className=\"btn-group btn-group-justified\" data-tabs=\"tabs-profile\">\r\n                    <a href=\"#tab-order-history\" className=\"tab-toggle btn button light\" id=\"tabOrderHistory\">\r\n                    <span>История заказов</span>\r\n                    </a>\r\n                    <a href=\"#tab-reservation-history\" className=\"tab-toggle btn button light\">\r\n                    <span>История бронирования</span>\r\n                    </a>\r\n                    <a href=\"#tab-comments-history\" className=\"tab-toggle btn button light\">\r\n                    <span>Оставленные отзывы</span>\r\n                    </a>\r\n                    <a id=\"buttonReturnShop\" href=\"#\" className=\"btn button main\">\r\n                    <span>Вернуться к ресторану</span>\r\n                    </a>\r\n                 </div>\r\n              </div>\r\n           </div>\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\nvar ProfileEditor = React.createClass({\r\n    mixins: [Reflux.connect(ProfileEditorStore, 'profileData')],\r\n    limit: 5,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        profileData: {\r\n          userAvatarUrl: '',\r\n          userBirthdate: null,\r\n          userEmail: '',\r\n          userGender: 0,\r\n          userName: '',\r\n          userSurname: '',\r\n          userPhone: ''\r\n        }\r\n      };\r\n    },\r\n    componentDidMount: function() {\r\n        ProfileEditorActions.updateData();\r\n    },\r\n    render: function() {\r\n     //   profileEditorActions.updateData();\r\n        var theData = this.state.profileData;\r\n        console.log('ProfileEditor: theData = ',theData);\r\n        return (\r\n            <ProfileEditorForm profile={theData} />\r\n        )\r\n    }\r\n});\r\n\r\nReactDOM.render(<ProfileEditor />, document.getElementById('profileEditor'));\r\n\r\n","var ButtonMore = require('./components/buttonMore.js');\r\nvar ReservationHistoryStore = require('./stores/reservationHistoryStore.js');\r\n\r\nvar SingleReservation = React.createClass({\r\n    render: function(){\r\n        var total = 0;\r\n        var data = this.props.list;\r\n        // console.log('SingleReservation: data = ', data);\r\n\r\n        return(\r\n        <div className=\"history-item row\" key={this.props.key}>\r\n             <div className=\"date-time\">{moment.unix(data.reservation_date).format(\"DD MMMM YYYY HH:mm\")}</div>\r\n            <div className=\"col-lg-2\">\r\n                <div className=\"box-company medium\">\r\n                    <div className=\"thumb-round\">\r\n                        <img src={imageBaseUrl+data.restaurant_main_image} alt=\"...\" />\r\n                    </div>\r\n                    <span className=\"title\">{data.restaurant_name}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-5\">\r\n                <div className=\"history-items\">\r\n                    <div className=\"item item-table\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-3 no-padding-right align-right\">\r\n                                <div className=\"icon-reservation\">\r\n                                    <i className=\"icon-anchor\"></i>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-lg-9\">\r\n                                <div className=\"text\">\r\n                                    <div className=\"table-num\">Столик №<b>{data.table_number}</b></div>\r\n                                    <div className=\"hall\">Зал: <span className=\"hall-name\">{data.hall_name}</span></div>\r\n                                    <div className=\"reservation-date\">{moment.unix(data.reservation_date).format(\"DD MMMM YYYY HH:mm\")}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-2 summary\">\r\n                <div className=\"total\">\r\n                    <span className=\"total-title\">итого:</span>\r\n                    <b className=\"sum-total\">{total} <i className=\"rouble\">o</i></b>\r\n                </div>\r\n\r\n                <div className=\"bonus\">\r\n                    <span className=\"total-title\"><i className=\"r fa fa-rub\"></i>-бонусов</span>\r\n                    <b className=\"sum-bonus\">+ {data.bonus}</b>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-3 actions\">\r\n                <span className=\"title\">поделится:</span>\r\n                <div className=\"social-share\">\r\n                    <a href=\"#\"><i className=\"fa fa-facebook\"></i></a>\r\n                    <a href=\"#\"><i className=\"fa fa-vk\"></i></a>\r\n                    <a href=\"#\"><i className=\"fa fa-twitter\"></i></a>\r\n                    <a href=\"#\"><i className=\"fa fa-odnoklassniki\"></i></a>\r\n                </div>\r\n                <a href=\"#\" className=\"button light round button-history-repeat\" id=\"button-history-repeat\">\r\n                    <span>Повторить заказ</span>\r\n                </a>\r\n\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n})\r\n\r\nvar OrdersReservation = React.createClass({\r\n    mixins: [Reflux.connect(ReservationHistoryStore, 'historyData')],\r\n    limit: 5,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        historyData: []\r\n      };\r\n    },\r\n    componentDidMount: function() {\r\n     //   OrdersHistoryActions.updateData();\r\n    },\r\n    loadMore: function(){\r\n        this.limit += 5;\r\n        ReservationHistoryActions.updateData();\r\n    },\r\n    render: function() {\r\n     //   OrdersHistoryActions.updateData();\r\n        var theData = this.state.historyData;\r\n        var total = 0;\r\n        var sorted = _.first(_.sortBy(theData, 'order_id').reverse(), this.limit);\r\n        var messages = sorted.map(function(the, i) {\r\n            return <SingleReservation list={the} key={i} />\r\n        });\r\n        return (\r\n            <div>{messages}\r\n                <div className=\"full-width align-center\">\r\n                    <ButtonMore onClick={this.loadMore} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nReactDOM.render(<OrdersReservation />, document.getElementById('reservationHistory'));\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-04-02 14:02:06\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-02 14:24:21\r\n*/\r\n\r\nvar CardsActions = require('../actions/cardsActions.js');\r\n\r\nvar CardsStore = Reflux.createStore({\r\n    listenables: [CardsActions],\r\n    cardsData: [],\r\n    sourceUrl: serverUrl+'/api/v2/cards/get/'+userToken,\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('CardsStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function(data){\r\n        some.cardsData = data.result.cards;\r\n        some.trigger(some.cardsData);\r\n        console.log('CardsStore fetchList', some.historyList);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = CardsStore;\r\n","var CategoriesListActions = require('../actions/categoriesListActions.js');\nvar MenuItemsActions = require('../actions/menuItemsActions.js');\n\nvar CategoriesListStore = Reflux.createStore({\n    listenables: [CategoriesListActions],\n    currentCompany:0,\n    categories: [],\n    sourceUrl: serverUrl+'/api/v2/categories/get/',\n    init: function() {\n      //something\n    },\n    updateData: function(companyId){\n        this.currentCompany = companyId;\n        console.log('CategoriesListStore: updateData: categoryId = '+companyId);\n        this.fetchList();\n    },\n    fetchList: function() {\n      var some = this;\n      var url = this.sourceUrl+this.currentCompany;\n      console.log('CategoriesListStore: fetchList: url = ', url);\n      $.getJSON(url, function (data) {\n        console.log('CategoriesListStore: fetchList: data = ', data);\n        some.categories = data.result.categories;\n        var firstCategory = some.categories[0];\n        if( firstCategory ){\n          console.log('CategoriesListStore: First Id = ', firstCategory.category_id);\n        }\n\n        some.trigger(some.categories);\n      });\n    }\n});\n\nmodule.exports = CategoriesListStore;\n","var CityListActions = require('../actions/cityListActions.js');\nvar resultCity;\n\nfunction selectCityByName(cityName){\n    var cities = getStorage('cities');\n    var single = _.where(cities,{city_name:cityName.trim()});\n    var selected;\n\n    console.log('selectCityByName: cityName = '+cityName, 'Cities = ', cities, single);\n\n    single.forEach(function (val, index) {\n        console.log('selectCityByName: selected: ', val);\n        selected = val;\n    });\n\n    var isLocked = getStorage('cityLocked', 1);\n\n    if( isLocked !== 1 ){\n      setStorage('city', selected);\n\n      var currentCityId = selected.city_id;\n\n      $('#cityListSelect option').each(function(el){\n          if( currentCityId == $(this).val() ){\n            console.log('selectCityByName: selected');\n            $(this).attr('selected', 'selected');\n          }\n      });\n\n      currentCity = selected;\n    } else {\n      console.log('City is locked!');\n      var city = getStorage('city');\n      currentCity = city.city_id;\n    }\n}\n\nfunction getCity(position) {\n  var lat = position.coords.latitude;\n  var long = position.coords.longitude;\n  console.log('getCity: '+lat+' / '+long);\n  console.log('getCity: ', position);\n  var geocoder;\n  geocoder = new google.maps.Geocoder();\n  var latlng = new google.maps.LatLng(lat, long);\n  geocoder.geocode(\n      {'latLng': latlng},\n      function(results, status) {\n          if (status == google.maps.GeocoderStatus.OK) {\n                console.log('getCity: results = ', results);\n                  if (results[0]) {\n                      var add= results[0].formatted_address ;\n                      var value=add.split(\",\");\n                      console.log('getCity: ')\n                      var count=value.length;\n                      var country=value[count-1];\n                      var state=value[count-2];\n                      var city=value[count-4];\n                      console.log('getCity: City detected: ', city.trim());\n                      selectCityByName(city.trim());\n                  }\n                  else  {\n                      alert(\"address not found\");\n                  }\n          }\n           else {\n              alert(\"Geocoder failed due to: \" + status);\n          }\n      }\n  );\n}\n\nvar CityListStore = Reflux.createStore({\n    listenables: [CityListActions],\n    cityList: [],\n    sourceUrl: serverUrl+'/api/v4/cities/get',\n    init: function() {\n        this.fetchList();\n    },\n    getCity: function(){\n      getCurrentCity();\n      console.log('getCIty: '+resultCity);\n    },\n    fetchList: function() {\n      var some = this;\n      $.getJSON(this.sourceUrl, function (data) {\n        setStorage('cityList', data.result.cities);\n        some.cityList = data.result.cities;\n        some.trigger(some.cityList);\n   //     this.getCity();\n        cities = some.cityList;\n        setStorage('cities', cities);\n        navigator.geolocation.getCurrentPosition(getCity);\n        console.log('REFLUX: CityListStore fetchList', some.cityList);\n      });\n    }\n});\n\nmodule.exports = CityListStore;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:33:15\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 22:20:25\r\n*/\r\nvar CompanyDetailsActions = require('../actions/companyDetailsActions.js');\r\n\r\nvar CompanyDetailsStore = Reflux.createStore({\r\n    listenables: [CompanyDetailsActions],\r\n    companyData: [],\r\n    companyId: 0,\r\n    sourceUrl: serverUrl+'/api/v2/restaurants/get/',\r\n    init: function() {\r\n        this.companyId = currentCompany;\r\n        this.fetchList();\r\n    },\r\n    updateData: function(newId){\r\n        console.log('CompanyDetailsStore updateData() newId = ', newId);\r\n        this.companyId = newId;\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      var url = this.sourceUrl + this.companyId;\r\n\r\n      console.log('CompanyDetailsStore: fetchList Url = ', url);\r\n      $.getJSON(url, function (data) {\r\n        some.companyData = data.result.restaurant;\r\n        console.log('CompanyDetailsStore: result = ', some.companyData);\r\n        some.trigger(some.companyData);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = CompanyDetailsStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:41:34\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 22:49:28\r\n*/\r\n\r\nvar CompanyListActions = require('../actions/companyListActions.js');\r\nvar CuisinesActions = require('../actions/cuisinesActions.js');\r\nvar CuisinesStore = require('./cuisinesStore.js');\r\n\r\nvar CompanyListStore = Reflux.createStore({\r\n    listenables: [CompanyListActions],\r\n    cuisine: [],\r\n    currentCuisine:0,\r\n    currentCity:0,\r\n    companyList: [],\r\n    sourceUrl: serverUrl+'/api/v4/restaurants/get',\r\n    init: function() {\r\n      //  this.fetchList();\r\n    },\r\n    setCurrentCity: function(cityId){\r\n      console.log('CompanyListStore: setCurrentCity('+cityId+')');\r\n      this.currentCity = cityId;\r\n      this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('CompanyStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    showAll: function(){\r\n        this.cuisine = 0;\r\n    },\r\n    selectByCuisine: function(cuisine){\r\n        console.log('CompanyListStore: selectByCuisine, cuisine = ', cuisine);\r\n        this.cuisine = cuisine;\r\n        currentCuisine = cuisine;\r\n        this.currentCuisine = cuisine.cuisine_id;\r\n        this.fetchList(cuisine.cuisine_id);\r\n    },\r\n    getCurrentCuisine: function(){\r\n         console.log('CompanyListStore: getCurrentCuisine, CurrentCuisine = ', this.currentCuisine);\r\n         return this.currentCuisine;\r\n    },\r\n    filterData: function(cuisine, type){\r\n        var data = this.companyList;\r\n        var filtered;\r\n\r\n        console.log('CompanyListStore: filterData: type = '+type);\r\n\r\n        if (type == 3) filtered = _.filter(data, function(element){\r\n            return element.restaurant_payment_type == 1;\r\n        });\r\n\r\n        if (type == 0) { this.fetchList(); } else {\r\n            this.companyList = filtered;\r\n            this.trigger(this.companyList);\r\n            console.log('CompanyListStore: filterData: ', filtered);\r\n        }\r\n        return filtered;\r\n    },\r\n\r\n    fetchList: function(cuisineId) {\r\n      var some = this;\r\n      var queryUrl = this.sourceUrl;\r\n\r\n      this.cuisine = CuisinesActions.getCuisineById(cuisineId);\r\n\r\n      console.log('CompanyListStore: fetchList: this.cuisine = '+this.cuisine, 'this.currentCity', this.currentCity);\r\n\r\n      queryUrl += '?restaurantType=3';\r\n      if( cuisineId ) {\r\n        queryUrl += '&cuisineId='+cuisineId;\r\n      }\r\n      if( this.currentCity > 0 ){\r\n        queryUrl += '&cityId='+this.currentCity;\r\n      }\r\n      console.log('CompanyListStore: queryUrl = ',queryUrl);\r\n\r\n      $.getJSON(queryUrl, function (data) {\r\n\r\n        console.log('CompanyListStore fetchList', data);\r\n        some.companyList = data.result.restaurants;\r\n        some.trigger(some.companyList);\r\n\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = CompanyListStore;\r\n","var CuisinesActions = require('../actions/cuisinesActions.js');\r\n\r\nvar CuisinesStore = Reflux.createStore({\r\n    listenables: [CuisinesActions],\r\n    cuisinesData: [],\r\n    sourceUrl: serverUrl+'/api/v2/cuisines/get',\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    getCuisineById: function(id){\r\n        var cuisine = _.where(this.cuisinesData,{cuisine_id:id});\r\n        console.log('CuisinesStore: getCuisineById('+id+'): ',cuisine);\r\n        return cuisine;\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        setStorage('cuisines', data.result.cuisines);\r\n        some.cuisinesData = data.result.cuisines;\r\n        some.trigger(some.cuisinesData);\r\n        console.log('REFLUX: CuisinesStore fetchList', some.cuisinesData);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = CuisinesStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:40:22\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-04 22:33:02\r\n*/\r\n\r\nvar MenuItemsActions = require('../actions/menuItemsActions.js');\r\n\r\nvar MenuItemsStore = Reflux.createStore({\r\n    listenables: [MenuItemsActions],\r\n    currentCategory:1,\r\n    menuItems: [],\r\n    sourceUrl: serverUrl+'/api/v2/menu-items/get/',\r\n    init: function() {\r\n//        this.fetchList();\r\n    },\r\n    updateData: function(newId){\r\n        this.currentCategory = newId;\r\n        console.log('MenuItemsStore: updateData() companyId = '+newId);\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      var url = this.sourceUrl+this.currentCategory;\r\n      console.log('MenuItemsStore: fetchList() url = ', url);\r\n      $.getJSON(url, function (data) {\r\n        console.log('REFLUX: MenuItemsStore fetchList', some.menuItems);\r\n        some.menuItems = data.result.menuItems;\r\n        some.trigger(some.menuItems);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = MenuItemsStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:35:29\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 09:36:01\r\n*/\r\n\r\nvar OrdersHistoryActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar OrdersHistoryStore = Reflux.createStore({\r\n    listenables: [OrdersHistoryActions],\r\n    historyList: [],\r\n    sourceUrl: serverUrl+'/api/v2/history/orders/'+userToken,\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('OrdersHistoryStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        some.historyList = data.result.orders;\r\n        some.trigger(some.historyList);\r\n        console.log('REFLUX: OrdersHistoryStore fetchList', some.historyList);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = OrdersHistoryStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:37:12\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-02 16:49:43\r\n*/\r\nvar ProfileEditorActions = require('../actions/profileEditorActions.js');\r\n\r\nvar ProfileEditorStore = Reflux.createStore({\r\n    listenables: [ProfileEditorActions],\r\n    profileData: [],\r\n    sourceUrl: serverUrl+'/api/v2/user/profile/get',\r\n    init: function() {\r\n      //  this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('ProfileEditorStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n        var some = this;\r\n        $.ajax({\r\n            type: 'POST',\r\n            async: 'false',\r\n            dataType: 'json',\r\n            url: this.sourceUrl,\r\n            data: {\r\n                'userToken': userToken\r\n            },\r\n            success: function(data) {\r\n                some.profileData = data.result.profile;\r\n                console.log('profileEditorStore: AJAX result: ',data);\r\n                some.trigger(some.profileData);\r\n                console.log('ProfileEditorStore some.profileData = ', some.profileData);\r\n                setStorage('profile', data.result.profile);\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\nmodule.exports = ProfileEditorStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:39:19\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 09:39:24\r\n*/\r\n\r\nvar ReservationHistoryActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar ReservationHistoryStore = Reflux.createStore({\r\n    listenables: [ReservationHistoryActions],\r\n    historyList: [],\r\n    sourceUrl: serverUrl+'/api/v3/history/reservations/'+userToken,\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('ReservationHistoryStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        some.historyList = data.result.reservations;\r\n        some.trigger(some.historyList);\r\n        console.log('REFLUX: ReservationHistoryStore fetchList', some.historyList);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = ReservationHistoryStore;\r\n","import {clearCart,refreshCart} from \"./engine/checkout.func.jsx\";\r\nimport {createOrder} from \"./engine/createOrder.jsx\";\r\nimport {reservationAdded, createReservation} from \"./engine/createReservation.jsx\";\r\n\r\nfunction pasteMenu(categoryId){\r\n    $.getJSON(serverUrl+'/api/v2/menu-items/get/'+categoryId, function(data){\r\n        $('#foodItems').html('');\r\n        console.log(data);\r\n        $.each(data.result.menuItems, function(key, item){\r\n            if( item.menu_item_image == \"\"){\r\n                item.menu_item_image = \"images/samples/9-tiny.jpg\";\r\n            } else item.menu_item_image = \"http://176.112.201.81/static/cdn/\"+item.menu_item_image;\r\n\r\n            var output = `\r\n                <div class=\"col-lg-4 col-xs-6 food-item\">\r\n                    <a href=\"#\">\r\n                        <div class=\"product-image\">\r\n                            <img src=\"${item.menu_item_image}\" />\r\n                            <div class=\"product-controls\">\r\n                                <button class=\"button main add-to-cart\"\r\n                                data-name=\"${item.menu_item_name}\"\r\n                                data-price=\"${item.menu_item_price}\"\r\n                                data-id=\"${item.menu_item_id}\">В корзину</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"product-info\">\r\n                            <div class=\"major\">\r\n                                <div class=\"product-name\">\r\n                                    <b>${item.menu_item_name}</b>\r\n                                </div>\r\n                                <div class=\"product-price\">\r\n                                    <span>${item.menu_item_price} <i class=\"rouble\">i</i></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"product-description\">\r\n                                <span>${item.menu_item_full_description}</span>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </div>`;\r\n            $('#foodItems').append(output);\r\n        });\r\n    });\r\n}\r\n\r\nfunction pasteCartElement(cartElement, elementCount){\r\n    var el = `\r\n    <tr class=\"reservation-${cartElement.type}\">\r\n        <td>${cartElement.name}</td>\r\n        <td>${cartElement.price} р.</td>\r\n        <td>\r\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\r\n                <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\r\n                <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\r\n                <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\r\n            </div>\r\n        </td>\r\n        <td>\r\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\r\n        </td>\r\n    </tr>\r\n    `;\r\n\r\n    return el;\r\n}\r\n\r\nfunction getHallsList(restaurantId, callback){\r\n    $.getJSON(serverUrl+'/api/v2/reservation/halls/'+restaurantId, function(data){\r\n        console.log('getHallsList: ', data)\r\n        callback(data);\r\n    });\r\n}\r\n\r\nfunction showReservationMap(halls){\r\n    $.each(data, function(index,value){\r\n        console.log(value);\r\n    });\r\n}\r\n\r\n\r\nfunction getReservationPointsList(hallId, theDate){\r\n    $.getJSON(serverUrl+'/api/v2/reservation/tables/'+hallId+'/'+theDate, function(data){\r\n        console.log('getReservationPointsList: Using Timestamp = ', theDate);\r\n        console.log('getReservationPointsList: ', data);\r\n        var tableType = 0;\r\n        $('#roomBox').append(`\r\n            <div class=\"the-room\">\r\n            <img src=\"${hallsUrl}${data.params.hall.hall_image}\"></div>`);\r\n            $.each(data.params.tables, function(index,value){\r\n\r\n                if( value.table_type == 0 ) tableType = `\r\n                    <div class=\"type\">Беплатный</div>\r\n                    `;\r\n\r\n                if( value.table_type == 1 ) tableType = `\r\n                    <div class=\"type\">Платный</div>\r\n                    <div class=\"price\">Стоимость заказа: <b></b></div>\r\n                    `;\r\n\r\n                if( value.table_type == 2 ) tableType = `\r\n                    <div class=\"type\">Депозитный</dive>\r\n                    <div class=\"price\">Стоимость депозита: <b>${table_deposit}</b></div>;\r\n                    `;\r\n\r\n                var theOptions;\r\n                for(var i = 1; i <= value.table_seats_count; i++){\r\n                    theOptions += '<option>'+i+'</option>';\r\n                }\r\n\r\n                $('#roomBox .the-room').append(`\r\n                    <div class=\"table\" data-hall=\"${value.hall_id}\" id=\"table-${value.table_id}\" data-id=\"${value.table_id}\" data-reserved=\"${data.params.reservations[value.table_id]}\" data-seats=\"${value.table_seats_count}\" data-deposit=\"${value.table_deposit}\" data-price=\"${value.table_price}\" data-restaurant=\"${value.restaurant_id}\" data-hall=\"${value.hall_id}\" style=\"left:${value.table_coord_x-10}px; top:${value.table_coord_y-20}px\">\r\n                        <div class=\"table-number\">${value.table_number}</div>\r\n                        <div class=\"table-everything\">\r\n                            <div class=\"table-desc\">\r\n                                ${tableType}\r\n                                <span>Мест: ${value.table_seats_count}</span>\r\n                            </div>\r\n                            <div class=\"form-group label-static\" style=\"margin-top:35px\">\r\n                                <label for=\"tableOption-${value.table_id}\" class=\"control-label\">На сколько человек?</label>\r\n                                <select id=\"tableOption-${value.table_id}\" data-object=\"table-${value.table_id}\" class=\"form-control\">\r\n                                  ${theOptions}\r\n                                </select>\r\n                                <button class=\"button main round\" style=\"width:100%; margin-top:10px;\">Забронировать</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                `);\r\n            });\r\n    });\r\n}\r\n\r\nfunction getReservationUnixTime(e){\r\n    var theTime = $('#reservationTimePicker').val();\r\n    var dateTime = $('#reservationDatePicker').val()+' '+$('#reservationTimePicker').val();\r\n    var unixTime = moment(dateTime, 'DD-MM-YYYY HH:mm').zone(350).unix();\r\n\r\n    console.log('getReservationUnixTime: dateTime = ',dateTime);\r\n    console.log('getReservationUnixTime: UNIX Timestamp = ', unixTime);\r\n    return unixTime;\r\n}\r\n\r\n$(function() {\r\n\r\n    $('#reservationTimePicker').datetimepicker({\r\n        format: 'LT',\r\n        format: 'HH:mm',\r\n        locale: 'ru',\r\n        defaultDate: moment().valueOf()\r\n    });\r\n\r\n    $('#reservationDatePicker').datetimepicker({\r\n        format: 'DD-MM-YYYY',\r\n        locale: 'ru',\r\n        defaultDate: moment().valueOf()\r\n    });\r\n\r\n    $(document).on('click', '#buttonCheckoutDelivery', function(event){\r\n        createOrder();\r\n    });\r\n\r\n    $(document).on({\r\n        mouseenter: function () {\r\n            $('.the-room .table').removeClass('reserved');\r\n            $(this).parent().addClass('reserved');\r\n        },\r\n    }, '.the-room .table .table-number');\r\n\r\n    $(document).on('mouseleave', '.the-room .table .table-everything', function(event){\r\n        $(this).parent().removeClass('reserved');\r\n    });\r\n\r\n    $(document).on('click', '#buttonCheckoutReservation', function(event){\r\n        createReservation();\r\n    });\r\n\r\n    var currentReservationTime;\r\n\r\n    $(document).on('click', '.reserved .button', function(event) {\r\n        console.log('#buttonReserve clicked');\r\n        flyToCart( $(this) );\r\n        console.log('currentReservationTime: ', getReservationUnixTime());\r\n\r\n        $('.the-room .table.reserved').each(function(){\r\n            var jsonObj = {};\r\n            var reservation = getStorage('theReservation');\r\n\r\n            jsonObj['id'] = $(this).data('id');\r\n            jsonObj['name'] = $('section.company-about .title h2').html()+', Стол #'+$(this).data('id');\r\n            jsonObj['count'] = $('select', $(this).parent()).val();\r\n            jsonObj['price'] = $(this).data('price');\r\n            jsonObj['hall'] = $(this).data('hall');\r\n\r\n            jsonObj['date'] = getReservationUnixTime();\r\n            jsonObj['type'] = 'table';\r\n\r\n            console.log('RES = ', isEmpty(reservation));\r\n\r\n            if(isEmpty(reservation) === false){\r\n                swal({\r\n                  title: 'В корзине уже есть один стол.',\r\n                  text: \"Одновременно в корзине может быть только один стол на резервацию! Отменить прошлый заказ и добавить этот?\",\r\n                  type: 'warning',\r\n                  showCancelButton: true,\r\n                  confirmButtonText: 'Да, заменить!',\r\n                  cancelButtonText: 'Нет, оставить тот',\r\n                  closeOnConfirm: true\r\n                },\r\n                function(isConfirm) {\r\n                  if (isConfirm) {\r\n                    setStorage('theReservation', jsonObj);\r\n                    toastr.warning('Предидущий заказ стола отменён', 'Внимание!');\r\n                    reservationAdded();\r\n                    refreshCart();\r\n                  } else {\r\n                    toastr.warning('Завершите предидущий заказ', 'Стол не добавлен!');\r\n                  }\r\n                });\r\n\r\n            } else {\r\n                setStorage('theReservation', jsonObj);\r\n                reservationAdded();\r\n\r\n                refreshCart();\r\n            }\r\n\r\n        });\r\n\r\n        $('.reserved').removeClass('reserved').addClass('yours');\r\n    });\r\n\r\n    $(document).on('click', '.reservation-table .checkout-action', function(e){\r\n        $(this).parent().parent().velocity({opacity:0}, 500, function(){\r\n            setTimeout(function(){\r\n               $('.reservation-table').remove();\r\n               localStorage.removeItem('theReservation');\r\n               refreshCart();\r\n            },500)\r\n        });\r\n    });\r\n\r\n\r\n    $(document).on('dp.change', function(e) {\r\n        currentReservationTime = getReservationUnixTime();\r\n        getReservationPointsList(currentCompany, getReservationUnixTime());\r\n    });\r\n\r\n    var currentTime = moment().add(30, 'm').unix();\r\n\r\n    getReservationPointsList(currentCompany, currentTime);\r\n\r\n});\r\n","var CompanyDetailsActions = require('./react/stores/companyDetailsStore.js');\r\nvar MenuItemsActions = require('./react/stores/menuItemsStore.js');\r\n\r\nexport function showScreen(screenId){\r\n    var aniOut = 'transition.flipXOut';\r\n    var aniIn = 'transition.flipXIn'; // 'transition.flipXIn';\r\n\r\n    var screenId = '#'+screenId;\r\n\r\n    if( $(screenId).length ){\r\n\r\n        $('.screen-toggle').removeClass('active');\r\n\r\n        console.log('showScreen: Screen = '+screenId);\r\n\r\n        easyVelocity('.page-wrapper', aniOut, function(){\r\n            easyVelocity(screenId, aniIn, function(){\r\n              // im done yo\r\n            });\r\n        });\r\n\r\n        $(this).addClass('active');\r\n\r\n        $(screenId).addClass('screen-active');\r\n    } else console.log('showScreen: Screen not exists. ID: '+screenId);\r\n}\r\n\r\n$(function() {\r\n\r\n    showScreen('pageMain');\r\n/*\r\n    $(document).on('click', '.company-toggle', function(event) {\r\n        var company = $(this).data('company');\r\n        console.log('CompanyToggle: Toggling: ', company);\r\n        currentCompany = company;\r\n        console.log(CompanyDetailsActions);\r\n        CompanyDetailsActions.updateData(company);\r\n        MenuItemsActions.updateData(company);\r\n        showScreen('pageCompany');\r\n    });*/\r\n\r\n    $(document).on('click', '.screen-toggle', function(event) {\r\n        event.preventDefault();\r\n        var screenId = $(this).data('screen');\r\n        showScreen(screenId);\r\n    });\r\n\r\n});\r\n\r\n$(function() {\r\n\r\n    var hash = window.location.hash.replace(\"#\", \"\");\r\n\r\n    if(hash !== ''){\r\n      console.log('Hash = '+hash);\r\n      showScreen(hash);\r\n    }\r\n\r\n    $(document).on('click', '#buttonReturnShop', function(event) {\r\n        showShop();\r\n    });\r\n});\r\n","    import {clearCart,refreshCart} from \"./engine/checkout.func.jsx\";\r\n\r\nfunction pasteMenu(categoryId){\r\n    $.getJSON(serverUrl+'/api/v2/menu-items/get/'+categoryId, function(data){\r\n        $('#foodItems').html('');\r\n        console.log(data);\r\n        $.each(data.result.menuItems, function(key, item){\r\n            if( item.menu_item_image == \"\"){\r\n                item.menu_item_image = \"images/samples/9-tiny.jpg\";\r\n            } else item.menu_item_image = \"http://176.112.201.81/static/cdn/\"+item.menu_item_image;\r\n\r\n            var output = `\r\n                <div class=\"col-lg-4 col-xs-6 food-item\">\r\n                    <a href=\"#\">\r\n                        <div class=\"product-image\">\r\n                            <img src=\"${item.menu_item_image}\" />\r\n                            <div class=\"product-controls\">\r\n                                <button class=\"button main add-to-cart\"\r\n                                data-name=\"${item.menu_item_name}\"\r\n                                data-price=\"${item.menu_item_price}\"\r\n                                data-id=\"${item.menu_item_id}\">В корзину</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"product-info\">\r\n                            <div class=\"major\">\r\n                                <div class=\"product-name\">\r\n                                    <b>${item.menu_item_name}</b>\r\n                                </div>\r\n                                <div class=\"product-price\">\r\n                                    <span>${item.menu_item_price} <i class=\"rouble\">i</i></span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"product-description\">\r\n                                <span>${item.menu_item_full_description}</span>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                </div>`;\r\n            $('#foodItems').append(output);\r\n        });\r\n    });\r\n}\r\n\r\nfunction pasteCartElement(cartElement, elementCount){\r\nvar el = `\r\n<tr class=\"reservation-${cartElement.type}\">\r\n    <td>${cartElement.name}</td>\r\n    <td>${cartElement.price} р.</td>\r\n    <td>\r\n        <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\r\n            <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\r\n            <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\r\n            <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\r\n        </div>\r\n    </td>\r\n    <td>\r\n        <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\r\n    </td>\r\n</tr>\r\n`;\r\n\r\nreturn el;\r\n}\r\n\r\nfunction pasteCheckoutFormUnregistered(){\r\n    var profile = getStorage('profile');\r\n    var bonusCount = '100';\r\n    var userName = '', userPhone = '';\r\n    if(profile){\r\n        if(profile.userName) userName = profile.userName;\r\n        if(profile.userPhone) userPhone = profile.userPhone;\r\n    }\r\n    var out = `\r\n    <div class=\"checkout-form\">\r\n        <div class=\"control-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-xs-6\">\r\n                    <div class=\"form-group label-floating required\">\r\n                        <label for=\"checkout-name\" class=\"control-label\">Ваше имя</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-name\" value=${userName}>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-6 col-xs-6\">\r\n                    <div class=\"form-group label-floating required\">\r\n                        <label for=\"checkout-phone\" class=\"control-label\">Телефон</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-phone\" value=\"${userPhone}\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-4 col-xs-4\">\r\n                    <div class=\"form-group label-floating required\">\r\n                        <label for=\"checkout-street\" class=\"control-label\">Улица</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-street\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-2 col-xs-2\">\r\n                    <div class=\"form-group label-floating required\">\r\n                        <label for=\"checkout-building\" class=\"control-label\">Дом</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-building\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-2 col-xs-2\">\r\n                    <div class=\"form-group label-floating required\">\r\n                        <label for=\"checkout-apartment\" class=\"control-label\">Квартира</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-apartment\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-2 col-xs-2\">\r\n                    <div class=\"form-group label-floating\">\r\n                        <label for=\"checkout-porch\" class=\"control-label\">Подьезд</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-porch\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-2 col-xs-2\">\r\n                    <div class=\"form-group label-floating\">\r\n                        <label for=\"checkout-floor\" class=\"control-label\">Этаж</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-floor\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-4 col-xs-12\">\r\n                    <div class=\"form-group label-floating required\" style=\"margin-top:30px\">\r\n                        <label for=\"checkout-persons\" class=\"control-label\" value=\"1\">Количество персон</label>\r\n                        <input type=\"search\" class=\"form-control\" id=\"checkout-persons\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"control-group\">\r\n            <div class=\"row radio-box\">\r\n                <div class=\"col-lg-6\">\r\n                    <div class=\"the-label\">\r\n                        <span>Способ оплаты</span>\r\n                    </div>\r\n                    <div class=\"form-group radio-group\">\r\n                        <div class=\"radio radio-primary\">\r\n                            <label>\r\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-cash\" value=\"0\" checked>\r\n                              <span class=\"circle\"></span><span class=\"check\"></span>\r\n                              Наличными\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"radio radio-primary\">\r\n                            <label>\r\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-card-courier\" value=\"1\">\r\n                              <span class=\"circle\"></span><span class=\"check\"></span>\r\n                              По карте курьеру\r\n                            </label>\r\n                        </div>\r\n                        <div class=\"radio radio-primary\" class=\"display:none\">\r\n                            <label>\r\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-card\" value=\"2\">\r\n                              <span class=\"circle\"></span><span class=\"check\"></span>\r\n                              По карте онлайн\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-6\">\r\n                    <div class=\"form-group label-floating\">\r\n                        <label for=\"checkout-phone\" class=\"control-label\">Сколько наличными?</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-cash\">\r\n                    </div>\r\n                    <div class=\"form-group label-floating\">\r\n                        <label for=\"checkout-phone\" class=\"control-label\">Сколько <span class=\"fa fa-rouble\"></span>-бонусов использовать?</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-bonus\">\r\n                        <div class=\"bonus-count\">\r\n                            У вас есть ${bonusCount} <span class=\"fa fa-rouble\"></span>-бонусов\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"control-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-8\">\r\n                    <div class=\"form-group label-floating\" style=\"margin-top:30px\">\r\n                        <label for=\"checkout-comment\" class=\"control-label\">Комментарий</label>\r\n                        <input type=\"search\" class=\"form-control\" id=\"checkout-comment\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"checkout-buttons\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6 col-xs-6\">\r\n                    <div class=\"button main\" id=\"buttonCheckoutDelivery\">оформить доставку</div>\r\n                </div>\r\n                <div class=\"col-lg-6 col-xs-6\">\r\n                    <div class=\"button main\" id=\"buttonCheckoutReservation\">Забронировать стол</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    `;\r\n    return out;\r\n}\r\n\r\nfunction removeItemById(itemId){\r\n    var cart = getStorage('theCart');\r\n    console.log('removeItemById: before = ',cart);\r\n    cart = _.without(cart, _.findWhere(cart, {id: itemId}));\r\n    console.log('removeItemById: after = ',cart);\r\n    setStorage('theCart', cart);\r\n    theCart.contents = cart;\r\n    refreshCart();\r\n}\r\n\r\n$(function() {\r\n\r\n    if (localStorage.getItem('theCart') === null) {\r\n        console.log('localStorage: no cart stored');\r\n    } else {\r\n        console.log('Getting Cart Contents..');\r\n        theCart.contents = getStorage('theCart');\r\n    }\r\n\r\n  //  pasteMenu(currentCompany);\r\n\r\n    $('#checkoutForm').html(pasteCheckoutFormUnregistered());\r\n\r\n    $(document).on('click', '.add-to-cart', function(event) {\r\n        var jsonObj = {};\r\n        jsonObj['id'] = $(this).data('id');\r\n        jsonObj['name'] = $(this).data('name');\r\n        jsonObj['price'] = $(this).data('price');\r\n        jsonObj['type'] = 'food';\r\n        theCart.contents.push(jsonObj);\r\n        console.log('addToCart: theCart = ', theCart);\r\n        setStorage('theCart', theCart.contents);\r\n\r\n        flyToCart($(this).parent().parent().find(\"img\").eq(0));\r\n        toastr.success(`${jsonObj.name}, ${jsonObj.price} р.`);\r\n        refreshCart();\r\n    });\r\n\r\n    $(document).on('click', '.reservation-food .checkout-action', function(e){\r\n        var theItem = $(this).parent().parent();\r\n        var theId = theItem.data('id');\r\n        removeItemById(theId);\r\n        theItem.velocity({opacity:0}, 500, function(){\r\n            setTimeout(function(){\r\n               $('.reservation-table').remove();\r\n            },500)\r\n        });\r\n    });\r\n\r\n    $(document).on('click', '.checkout .control-plus', function(event) {\r\n        var jsonObj = {};\r\n        jsonObj['id'] = $(this).parent().data('id');\r\n        jsonObj['name'] = $(this).parent().data('name');\r\n        jsonObj['price'] = $(this).parent().data('price');\r\n        jsonObj['type'] = 'food';\r\n        theCart.contents.push(jsonObj);\r\n        setStorage('theCart', theCart.contents);\r\n        refreshCart();\r\n    });\r\n\r\n    $(document).on('click', '.checkout .control-minus', function(event) {\r\n        var theId = $(this).parents('tr:first').data('id');\r\n        removeItemById(theId);\r\n    });\r\n\r\n    $(document).on('click', '.checkout-icon', function(event){\r\n        clearCart();\r\n    });\r\n\r\n\r\n    $(document).on('click', '.category-toggle', function(event) {\r\n        event.preventDefault();\r\n        $('.category-toggle').removeClass('active');\r\n        $(this).addClass('active');\r\n    });\r\n\r\n    refreshCart();\r\n});\r\n"]}