{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/scripts/es6/checkout.jsx","app/scripts/es6/engine/addToCart.js","app/scripts/es6/engine/checkout.func.jsx","app/scripts/es6/engine/createOrder.jsx","app/scripts/es6/engine/createReservation.jsx","app/scripts/es6/profile.jsx","app/scripts/es6/react/actions/companyListActions.js","app/scripts/es6/react/actions/cuisinesActions.js","app/scripts/es6/react/companyDetails.react.jsx","app/scripts/es6/react/companyList.react.jsx","app/scripts/es6/react/components/buttonBack.js","app/scripts/es6/react/components/buttonMore.js","app/scripts/es6/react/components/companyListSidebar.js","app/scripts/es6/react/components/cuisinesSelectList.js","app/scripts/es6/react/components/quicklyLogo.js","app/scripts/es6/react/components/singleCompany.js","app/scripts/es6/react/cuisinesList.react.jsx","app/scripts/es6/react/mainPage.react.jsx","app/scripts/es6/react/menuItems.react.jsx","app/scripts/es6/react/ordersHistory.react.jsx","app/scripts/es6/react/profileEditor.react.jsx","app/scripts/es6/react/reservationHistory.react.jsx","app/scripts/es6/react/stores/companyDetailsStore.js","app/scripts/es6/react/stores/companyListStore.js","app/scripts/es6/react/stores/cuisinesStore.js","app/scripts/es6/react/stores/menuItemsStore.js","app/scripts/es6/react/stores/ordersHistoryStore.js","app/scripts/es6/react/stores/profileEditorStore.js","app/scripts/es6/react/stores/reservationHistoryStore.js","app/scripts/es6/reservation.jsx","app/scripts/es6/screens.jsx","app/scripts/es6/shop.jsx"],"names":[],"mappings":"AAAA;;;ACAA;;AAEA,CAAC,YAAW;AACR,OAAG,KAAH,CAAS,IAAT,CAAe,SAAS,gBAAT,CAA2B,WAA3B,CAAf,EAA0D,OAA1D,CAAmE,UAAU,EAAV,EAAe;AAC9E,YAAI,WAAW,GAAG,aAAH,CAAkB,kBAAlB,CAAX;YACA,YAAY,GAAG,aAAH,CAAkB,kBAAlB,CAAZ;YACA,gBAAgB,GAAG,aAAH,CAAkB,eAAlB,CAAhB,CAH0E;;AAK9E,iBAAS,gBAAT,CAA2B,OAA3B,EAAoC,UAAS,EAAT,EAAa;AAC7C,eAAG,cAAH,GAD6C;AAE7C,oBAAQ,GAAR,CAAa,EAAb,EAAiB,iBAAjB,EAF6C;AAG7C,cAAE,UAAF,EAAc,QAAd,CAAuB,SAAvB,EAH6C;AAI7C,cAAE,kBAAF,EAAsB,WAAtB,CAAkC,iBAAlC,EAJ6C;AAK7C,6CAL6C;SAAb,CAApC,CAL8E;;AAa9E,kBAAU,gBAAV,CAA4B,OAA5B,EAAqC,YAAW;AAC5C,oBAAQ,MAAR,CAAgB,EAAhB,EAAoB,iBAApB,EAD4C;AAE5C,cAAE,UAAF,EAAc,WAAd,CAA0B,SAA1B,EAF4C;AAG5C,cAAE,kBAAF,EAAsB,QAAtB,CAA+B,iBAA/B,EAH4C;AAI5C,6CAJ4C;SAAX,CAArC,CAb8E;KAAf,CAAnE,CADQ;CAAX,CAAD;;;;;;;;QCOgB;QAYA;;AAdhB;;AAEO,SAAS,SAAT,CAAmB,EAAnB,EAAuB,IAAvB,EAA6B,KAA7B,EAAoC,MAApC,EAA2C;AAC9C,QAAI,UAAU,EAAV,CAD0C;AAE9C,YAAQ,IAAR,IAAgB,EAAhB,CAF8C;AAG9C,YAAQ,MAAR,IAAkB,IAAlB,CAH8C;AAI9C,YAAQ,OAAR,IAAmB,KAAnB,CAJ8C;AAK9C,YAAQ,QAAR,CAAiB,IAAjB,CAAsB,OAAtB,EAL8C;AAM9C,YAAQ,GAAR,CAAY,uBAAZ,EAAqC,OAArC,EAN8C;AAO9C,eAAW,SAAX,EAAsB,QAAQ,QAAR,CAAtB,CAP8C;AAQ9C,cAAU,EAAE,MAAF,CAAV,EAR8C,eAQzB,CARyB;AAS9C,qCAT8C;CAA3C;;;;;;;AAYA,SAAS,WAAT,CAAqB,KAArB,EAA2B;AAC9B,YAAQ,GAAR,CAAY,uBAAZ,EAAqC,KAArC,EAD8B;AAE9B,QAAI,MAAM,MAAM,GAAN,CAAU,UAAS,GAAT,EAAc,CAAd,EAAiB;AACjC,kBAAU,IAAI,YAAJ,EAAkB,IAAI,cAAJ,EAAoB,IAAI,eAAJ,EAAqB,MAAI,aAAJ,GAAkB,IAAI,YAAJ,CAAvF,CADiC;KAAjB,CAAhB,CAF0B;CAA3B;;;;;;;;QCKS;QAOA;;AAhChB,SAAS,kBAAT,GAA6B;AACzB,QAAI,aAAa,CAAb,CADqB;AAEzB,QAAI,aAAa,CAAb,CAFqB;AAGzB,MAAE,IAAF,CAAO,QAAQ,QAAR,EAAkB,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AAC3C,sBAAc,MAAM,KAAN,CAD6B;AAE3C,qBAF2C;KAAtB,CAAzB,CAHyB;;AAQzB,QAAI,+JAIkC,iDAA4C,qHAJ9E,CARqB;;AAkBzB,WAAO,GAAP,CAlByB;CAA7B;;AAqBA,SAAS,QAAT,GAAmB;AACf,MAAE,kBAAF,EAAsB,QAAtB,CAA+B,qBAA/B,EAAsD,EAAE,UAAU,GAAV,EAAxD,EADe;CAAnB;;AAIO,SAAS,SAAT,GAAoB;AACvB,iBAAa,UAAb,CAAwB,SAAxB,EADuB;AAEvB,YAAQ,QAAR,GAAmB,EAAnB,CAFuB;AAGvB,YAAQ,GAAR,CAAY,oBAAZ,EAHuB;AAIvB,eAJuB;CAApB;;AAOA,SAAS,WAAT,GAAsB;AACzB,QAAI,YAAY,EAAE,kBAAF,CAAZ,CADqB;AAEzB,QAAI,eAAe,WAAW,SAAX,CAAf,CAFqB;AAGzB,QAAI,SAAS,WAAW,gBAAX,CAAT,CAHqB;;AAKrB,QAAI,YAAY,CAAZ;QAAe,cAAc,CAAd;QAAiB,UAApC,CALqB;;AAOrB,QAAG,iBAAiB,IAAjB,EAAuB,YAAY,aAAa,MAAb,CAAtC;AACA,QAAG,WAAW,IAAX,EAAiB,cAAc,CAAd,CAApB;;AAEA,iBAAa,cAAY,SAAZ,CAVQ;AAWrB,QAAI,cAAc,CAAd,EAAkB;AAClB,gBAAQ,GAAR,CAAY,4BAAZ,EADkB;AAElB,qBAAa,UAAb,CAAwB,SAAxB,EAFkB;AAGlB,oBAHkB;KAAtB,MAIO;AACH,UAAE,iBAAF,EAAqB,IAArB,CAA0B,UAA1B,EADG;;AAGH,YAAG,UAAU,QAAV,CAAmB,YAAnB,CAAH,EAAoC;AAChC,sBAAU,WAAV,CAAsB,YAAtB,EADgC;AAEhC,sBAAU,GAAV,CAAc,EAAC,cAAc,SAAd,EAAyB,UAAU,MAAV,EAAxC,EAA2D,QAA3D,CAAoE,yBAApE,EAA+F,EAAE,UAAU,GAAV,EAAjG,EAFgC;SAApC;AAIA,YAAI,UAAJ,CAPG;AAQH,YAAI,cAAc,EAAE,OAAF,CAAU,YAAV,EAAwB,IAAxB,CAAd,CARD;AASH,YAAI,aAAa,EAAE,IAAF,CAAO,YAAP,EAAqB,IAArB,CAAb,CATD;AAUH,YAAI,aAAa,EAAE,IAAF,CAAO,MAAP,EAAe,IAAf,CAAb,CAVD;;AAYH,YAAI,YAAY,IAAZ,CAZD;;AAcH,YAAI,UAAJ,EAAgB,QAAhB,CAdG;;AAgBH,YAAG,WAAW,IAAX,EAAiB,cAAc,eAAe,MAAf,CAAd,CAApB;;AAEA,UAAE,IAAF,CAAO,UAAP,EAAmB,UAAS,GAAT,EAAc,KAAd,EAAoB;AACpC,wBAAY,iBAAiB,KAAjB,EAAuB,YAAY,MAAM,EAAN,CAAnC,EAA8C,GAA9C,CAAZ,CADoC;SAApB,CAAnB,CAlBG;;AAsBH,UAAE,oBAAF,EAAwB,IAAxB,CAA6B,aAAW,QAAX,CAA7B,CAtBG;AAuBH,UAAE,kBAAF,EAAsB,IAAtB,CAA2B,oBAA3B,EAvBG;KAJP;CAXD;;AA2CP,SAAS,cAAT,CAAwB,WAAxB,EAAqC,YAArC,EAAmD,GAAnD,EAAuD;AACnD,QAAI,uCACqB,YAAY,IAAZ,mBAA8B,YAAY,EAAZ,wBAC7C,YAAY,IAAZ,4BACA,YAAY,KAAZ,wGAE4D,YAAY,EAAZ,qBAA8B,YAAY,IAAZ,sBAAiC,YAAY,KAAZ,sDAC7F,YAAY,KAAZ,4CAAwD,YAAY,EAAZ,6KAN5F,CAD+C;;AAgBnD,WAAO,EAAP,CAhBmD;CAAvD;;AAmBA,SAAS,gBAAT,CAA0B,WAA1B,EAAuC,YAAvC,EAAoD;AAChD,QAAI,uCACqB,YAAY,IAAZ,mBAA8B,YAAY,EAAZ,wBAC7C,YAAY,IAAZ,2BACA,YAAY,KAAZ,wGAE4D,YAAY,EAAZ,qBAA8B,YAAY,IAAZ,sBAAiC,YAAY,KAAZ,0EACzE,YAAY,EAAZ,8DACpB,wDAAmD,YAAY,EAAZ,yEAChC,YAAY,EAAZ,qLARvD,CAD4C;;AAkBhD,WAAO,EAAP,CAlBgD;CAApD;;;;;;;;QChFgB;;AAfhB;;AAEA,SAAS,YAAT,CAAsB,IAAtB,EAA2B;AACvB,SAAK;AACH,eAAM,uBAAN;AACA,uGAFG;AAGH,cAAK,SAAL;AACA,2BAAmB,YAAnB;AACA,wBAAgB,OAAhB;AACA,mBAAU,gBAAV;KANF,EAOG,YAAU;AACT,eAAO,OAAP,CAAe,oDAAf,EAAoE,eAApE,EADS;KAAV,CAPH,CADuB;CAA3B;;AAaO,SAAS,WAAT,CAAqB,QAArB,EAA8B;AACjC,QAAI,eAAe,WAAW,SAAX,CAAf,CAD6B;AAEjC,QAAI,aAAa,EAAE,IAAF,CAAO,YAAP,EAAqB,IAArB,CAAb,CAF6B;AAGjC,QAAI,cAAc,EAAE,OAAF,CAAU,YAAV,EAAwB,IAAxB,CAAd,CAH6B;AAIjC,QAAI,cAAc,WAAW,SAAX,CAAd,CAJ6B;;AAMjC,QAAI,cAAc,EAAE,wBAAF,EAA4B,GAA5B,EAAd;QACA,eAAe,EAAE,mBAAF,EAAuB,GAAvB,EAAf;QACA,SAAS,EAAE,kBAAF,EAAsB,GAAtB,EAAT;QACA,WAAW,EAAE,oBAAF,EAAwB,GAAxB,EAAX;QACA,YAAY,EAAE,iBAAF,EAAqB,GAArB,EAAZ;QACA,OAAO,EAAE,gBAAF,EAAoB,GAApB,EAAP;QACA,UAAU,EAAE,mBAAF,EAAuB,GAAvB,EAAV;QACA,QAAQ,EAAE,iBAAF,EAAqB,GAArB,EAAR;QACA,QAAQ,EAAE,iBAAF,EAAqB,GAArB,EAAR;QACA,QAAQ,EAAE,iBAAF,EAAqB,GAArB,EAAR;QACA,YAAY,EAAE,qBAAF,EAAyB,GAAzB,EAAZ;QACA,gBAAgB,cAAhB,CAjB6B;;AAmBjC,YAAQ,GAAR,CAAY,4BAAZ,EAA0C,UAA1C,EAnBiC;AAoBjC,YAAQ,GAAR,CAAY,6BAAZ,EAA2C,WAA3C,EApBiC;AAqBjC,YAAQ,GAAR,CAAY,6BAAZ,EAA2C,WAA3C,EArBiC;;AAuBjC,QAAI,UAAU,EAAV,CAvB6B;AAwBjC,QAAI,SAAS,EAAT,CAxB6B;;AA0BjC,SAAI,IAAI,CAAJ,EAAO,IAAI,WAAW,MAAX,EAAmB,GAAlC,EAAsC;AAClC,YAAI,MAAM,EAAN,CAD8B;;AAGlC,YAAK,WAAW,CAAX,EAAc,IAAd,IAAsB,MAAtB,EAA6B;AAC9B,gBAAI,cAAJ,IAAsB,WAAW,CAAX,EAAc,EAAd,EACtB,IAAI,iBAAJ,IAAyB,WAAW,CAAX,EAAc,KAAd,EACzB,IAAI,OAAJ,IAAe,YAAY,WAAW,CAAX,EAAc,EAAd,CAA3B,CAH8B;AAI9B,oBAAQ,IAAR,CAAa,GAAb,EAJ8B;SAAlC,MAKO;AACH,gBAAI,IAAJ,IAAY,WAAW,CAAX,EAAc,EAAd,EACZ,IAAI,OAAJ,IAAe,WAAW,CAAX,EAAc,KAAd,EACf,IAAI,OAAJ,IAAe,WAAW,CAAX,EAAc,KAAd,EACf,IAAI,MAAJ,IAAc,WAAW,CAAX,EAAc,IAAd,CAJX;AAKH,mBAAO,IAAP,CAAY,GAAZ,EALG;SALP;KAHJ;;AAiBA,YAAQ,GAAR,CAAY,yBAAZ,EAAuC,OAAvC,EA3CiC;;AA6CjC,QAAI,cAAc,WAAW,gBAAX,CAAd,CA7C6B;;AA+CjC,QAAI,SAAS;AACT,eAAO,SAAP;AACA,sBAAc,cAAd;AACA,mBAAW,OAAX;AACA,gBAAQ,MAAR;AACA,mBAAW,SAAX;AACA,eAAO,KAAP;AACA,eAAO,KAAP;AACA,mBAAW,SAAX;AACA,kBAAU,QAAV;AACA,sBAAc,WAAd;AACA,cAAM,IAAN;AACA,uBAAe,SAAS,YAAT,CAAf;AACA,iBAAS,OAAT;KAbA,CA/C6B;;AAgEjC,MAAE,IAAF,CAAO;AACH,cAAM,MAAN;AACA,kBAAU,MAAV;AACA,qBAAa,kBAAb;AACA,aAAK,YAAY,uBAAZ;AACL,cAAM,KAAK,SAAL,CAAe,MAAf,CAAN;AACA,iBAAS,iBAAS,IAAT,EAAe;AACpB,gBAAG,CAAC,KAAK,GAAL,EAAS;AACT,kBAAE,kBAAF,EAAsB,KAAtB,GADS;AAET,+CAFS;AAGT,wBAAQ,GAAR,CAAY,wBAAZ,EAAsC,IAAtC,EAHS;AAIT,6BAAa,IAAb,EAJS;AAKT,oBAAI,QAAJ,EAAc,SAAS,IAAT,EAAd;aALJ,MAMO;AACH,wBAAQ,GAAR,CAAY,sBAAZ,EAAoC,KAAK,GAAL,CAApC,CADG;AAEH,uBAAO,KAAP,CAAa,4CAAb,EAA2D,yBAA3D,EAFG;aANP;SADK;KANb,EAhEiC;CAA9B;;;;;;;;QCfS;QAiCA;AAjCT,SAAS,gBAAT,GAA2B;AAC9B,WAAO,OAAP,CAAe,yCAAf,EAA0D,eAA1D,EAD8B;AAE9B,SAAK;AACH,eAAM,2BAAN;AACA,iJAFG;AAGH,cAAK,SAAL;AACA,2BAAmB,gBAAnB;AACA,0BAAkB,YAAlB;AACA,0BAAkB,IAAlB;KANF,EAQA,UAAS,SAAT,EAAoB;AAClB,YAAI,SAAJ,EAAe;AACb,cAAE,oBAAF,EAAwB,KAAxB,GADa;SAAf;KADF,CARA,CAF8B;CAA3B;;AAiBP,SAAS,kBAAT,GAA6B;AACzB,iBAAa,UAAb,CAAwB,gBAAxB,EADyB;AAEzB,SAAK;AACH,eAAM,qBAAN;AACA,kJAFG;AAGH,cAAK,SAAL;AACA,2BAAmB,YAAnB;;AAEA,mBAAU,gBAAV;KANF,EAOG,YAAU;AACT,eAAO,OAAP,CAAe,4BAAf,EADS;KAAV,CAPH,CAFyB;CAA7B;;AAgBO,SAAS,iBAAT,GAA4B;AAC/B,QAAI,QAAQ,WAAW,gBAAX,CAAR,CAD2B;;AAG/B,QAAK,SAAS,IAAT,EAAe;AAChB,eAAO,KAAP,CAAa,6CAAb,EAA4D,iBAA5D,EADgB;KAApB,MAEO;AACH,YAAI,SAAS;AACT,mBAAO,SAAP;AACA,0BAAc,cAAd;AACA,oBAAQ,MAAM,IAAN;AACR,mBAAO,EAAE,iBAAF,EAAqB,GAArB,EAAP;AACA,qBAAS,MAAM,EAAN;AACT,kBAAM,MAAM,IAAN;SANN,CADD;;AAUH,gBAAQ,GAAR,CAAY,8BAAZ,EAA2C,MAA3C,EAVG;;AAYH,UAAE,IAAF,CAAO;AACH,kBAAM,MAAN;AACA,sBAAU,MAAV;AACA,yBAAa,kBAAb;AACA,iBAAK,YAAY,4BAAZ;AACL,kBAAM,KAAK,SAAL,CAAe,MAAf,CAAN;AACA,qBAAS,iBAAS,IAAT,EAAe;AACpB,oBAAG,CAAC,KAAK,GAAL,EAAS;AACT,sBAAE,kBAAF,EAAsB,KAAtB,GADS;AAET,4BAAQ,GAAR,CAAY,4BAAZ,EAA4C,IAA5C,EAFS;AAGT,uCAAmB,IAAnB,EAHS;iBAAb,MAIO;AACH,4BAAQ,GAAR,CAAY,4BAAZ,EAA0C,KAAK,GAAL,CAA1C,CADG;AAEH,wBAAG,KAAK,GAAL,IAAY,wBAAZ,EAAqC;AACpC,+BAAO,KAAP,CAAa,sCAAb,EAAqD,QAArD,EADoC;AAEpC,qCAAa,UAAb,CAAwB,gBAAxB,EAFoC;qBAAxC;iBANJ;aADK;SANb,EAZG;KAFP;AAmCA,YAAQ,GAAR,CAAY,6BAAZ,EAA2C,KAA3C,EAtC+B;CAA5B;;;;;ACjCH,SAAS,mBAAT,CAA6B,OAA7B,EAAsC,QAAtC,EAAgD;;AAE5C,OAAI,YAAY,OAAO,QAAQ,aAAR,EAAuB,YAA9B,CAAZ,CAFwC;AAG5C,OAAI,aAAa,eAAe,QAAQ,aAAR,CAHY;AAI5C,OAAI,QAAQ,aAAR,KAA0B,SAA1B,IAAuC,QAAQ,aAAR,KAA0B,IAA1B,EAAgC;AACvE,mBAAa,yBAAb,CADuE;IAA3E;;AAIA,OAAI,oNAKoB,osBAY6F,QAAQ,QAAR,kWAIM,QAAQ,WAAR,kaAOH,QAAQ,SAAR,yXAM7B,QAAQ,SAAR,wXAMqB,QAAQ,SAAR,q2EAxC5G,CARwC;AAiG5C,KAAE,kBAAF,EAAsB,OAAtB,CAA8B,YAA9B,EAjG4C;AAkG5C,OAAI,QAAJ,EAAc,WAAd;CAlGJ;;AAqGA,SAAS,YAAT,GAAwB;AACpB,OAAI,QAAQ,SAAR,CADgB;AAEpB,kBAAe,KAAf,EAAsB,UAAS,IAAT,EAAe;AACjC,UAAI,YAAY,aAAa,SAAb,CAAZ,CAD6B;AAEjC,UAAI,WAAW,IAAX,CAF6B;AAGjC,QAAE,eAAF,EAAmB,IAAnB,mKAG8B,6FAH9B,EAHiC;IAAf,CAAtB,CAFoB;CAAxB;;AAcA,SAAS,kBAAT,GAA8B;AAC1B,OAAI,QAAQ,SAAR,CADsB;AAE1B,kBAAe,KAAf,EAAsB,UAAS,IAAT,EAAe;AACjC,UAAI,YAAY,aAAa,SAAb,CAAZ,CAD6B;AAEjC,UAAI,WAAW,IAAX,CAF6B;AAGjC,UAAI,aAAa,eAAe,KAAK,aAAL,CAHC;AAIjC,UAAI,KAAK,aAAL,KAAuB,SAAvB,IAAoC,KAAK,aAAL,KAAuB,IAAvB,EAA6B;AACjE,sBAAa,yBAAb,CADiE;OAArE;AAGA,QAAE,eAAF,EAAmB,IAAnB,4EAEuB,KAAK,QAAL,SAAiB,KAAK,WAAL,gDAChB,uJAE6B,kCALrD,EAPiC;IAAf,CAAtB,CAF0B;CAA9B;;AAmBA,SAAS,YAAT,CAAsB,SAAtB,EAAiC;AAC7B,OAAI,KAAJ,CAD6B;AAE7B,KAAE,IAAF,CAAO;AACH,WAAK,YAAY,qBAAZ,GAAoC,SAApC;AACL,aAAO,KAAP;AACA,gBAAU,MAAV;AACA,eAAS,iBAAS,IAAT,EAAe;AACpB,iBAAQ,KAAK,MAAL,CAAY,SAAZ,CADY;OAAf;IAJb,EAF6B;AAU7B,UAAO,KAAP,CAV6B;CAAjC;;AAaA,SAAS,aAAT,CAAuB,OAAvB,EAAgC,QAAhC,EAA0C;AACtC,OAAI,aAAa,EAAb,CADkC;AAEtC,OAAI,eAAe,EAAE,MAAM,OAAN,CAAF,CAAiB,IAAjB,CAAsB,IAAtB,CAAf,CAFkC;;AAItC,cAAW,WAAX,IAA0B,SAA1B,CAJsC;AAKtC,cAAW,QAAX,IAAuB,MAAvB,CALsC;AAMtC,cAAW,YAAX,IAA2B,EAAE,MAAM,OAAN,CAAF,CAAiB,GAAjB,EAA3B,CANsC;;AAQtC,WAAQ,GAAR,CAAY,0BAA0B,YAA1B,GAAyC,KAAzC,GAAiD,OAAjD,CAAZ,CARsC;AAStC,KAAE,IAAF,CAAO;AACH,WAAK,YAAY,2BAAZ;AACL,gBAAU,MAAV;AACA,YAAM,MAAN;AACA,YAAM,UAAN;AACA,eAAS,iBAAS,IAAT,EAAe;AACpB,iBAAQ,GAAR,CAAY,iBAAZ,EAA+B,IAA/B,EADoB;AAEpB,aAAI,KAAK,GAAL,KAAa,SAAb,IAA0B,KAAK,GAAL,KAAa,IAAb,EAAmB;AAC7C,mBAAO,OAAP,CAAe,0BAAf,EAD6C;UAAjD;AAGA,WAAE,MAAM,OAAN,CAAF,CAAiB,MAAjB,GAA0B,QAA1B,CAAmC,aAAnC,EALoB;AAMpB,8BANoB;AAOpB,aAAI,QAAJ,EAAc,SAAS,IAAT,EAAd;OAPK;IALb,EATsC;CAA1C;;AA0BA,EAAE,YAAW;;AAET,kBAAe,SAAf,EAA0B,UAAS,IAAT,EAAe;;AAErC,cAAQ,GAAR,CAAY,iBAAZ,EAA+B,IAA/B,EAFqC;AAGrC,0BAAoB,IAApB,EAA0B,YAAW;AACjC,WAAE,6BAAF,EAAiC,IAAjC,CAAsC,YAAW;AAC7C,cAAE,IAAF,EAAQ,MAAR,CAAe,+CAAf,EAD6C;UAAX,CAAtC,CADiC;OAAX,CAA1B,CAHqC;IAAf,CAA1B,CAFS;;AAYT,KAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,mBAAxB,EAA6C,UAAS,KAAT,EAAgB;AACzD,mBAAa,eAAb,EAA8B,qBAA9B,EAAqD,YAAW;AAC5D,sBAAa,cAAb,EAA6B,oBAA7B,EAD4D;OAAX,CAArD,CADyD;IAAhB,CAA7C,CAZS;;AAkBT,wBAlBS;;AAoBT,KAAE,QAAF,EAAY,EAAZ,CAAe,UAAf,EAA2B,0BAA3B,EAAuD,YAAW;AAC9D,UAAI,UAAU,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,CAAV,CAD0D;AAE9D,cAAQ,GAAR,CAAY,eAAe,OAAf,GAAyB,YAAzB,GAAwC,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,CAAxC,CAAZ,CAF8D;AAG9D,oBAAc,OAAd,EAH8D;IAAX,CAAvD,CApBS;CAAX,CAAF;;;;;;;;;;;;ACtKJ,IAAI,qBAAqB,OAAO,aAAP,CAAqB,CAC1C,WAD0C,EAC7B,YAD6B,EACf,YADe,EACD,iBADC,EACkB,mBADlB,CAArB,CAArB;;AAIJ,OAAO,OAAP,GAAiB,kBAAjB;;;;;;;;;;;;ACJA,IAAI,kBAAkB,OAAO,aAAP,CAAqB,CACvC,WADuC,EAC1B,gBAD0B,CAArB,CAAlB;;AAIJ,OAAO,OAAP,GAAiB,eAAjB;;;;;ACXA,IAAI,sBAAsB,QAAQ,iCAAR,CAAtB;AACJ,IAAI,qBAAqB,QAAQ,iCAAR,CAArB;;AAEJ,IAAI,iBAAiB,MAAM,WAAN,CAAkB;;;AACnC,YAAQ,CAAC,OAAO,OAAP,CAAe,mBAAf,EAAoC,aAApC,CAAD,CAAR;AACA,WAAO,EAAP;AACA,qBAAiB,2BAAW;AAC1B,eAAO;AACL,kBAAM,EAAN;AACA,yBAAa,EAAb;SAFF,CAD0B;KAAX;;AAOjB,uBAAmB,6BAAW,EAAX;;AAIrB,YAAQ,kBAAW;AACjB,YAAI,UAAU,KAAK,KAAL,CAAW,WAAX,CADG;AAEjB,YAAG,QAAQ,qBAAR,EAA+B,IAAI,QAAQ,eAAa,QAAQ,qBAAR,CAA3D;;AAEA,eACA;;cAAK,WAAU,WAAV,EAAL;YACI;;kBAAK,WAAU,KAAV,EAAL;gBACI;;sBAAK,WAAU,gCAAV,EAAL;oBACI;;0BAAK,WAAU,YAAV,EAAL;wBACI,6BAAK,KAAK,KAAL,EAAL,CADJ;qBADJ;oBAII;;0BAAK,WAAU,OAAV,EAAL;wBAAuB;;;4BAAK,QAAQ,eAAR;yBAA5B;wBAAyD;;;4BAAO,QAAQ,eAAR;yBAAhE;qBAJJ;iBADJ;gBAOI;;sBAAK,WAAU,oBAAV,EAAL;oBACI;;0BAAK,WAAU,YAAV,EAAL;wBACI,2BAAG,WAAU,qBAAV,EAAH,CADJ;wBAEI;;8BAAG,WAAU,MAAV,EAAiB,MAAK,GAAL,EAApB;;yBAFJ;wBAGI;;8BAAG,WAAU,MAAV,EAAiB,MAAK,GAAL,EAApB;;yBAHJ;wBAII;;8BAAG,WAAU,MAAV,EAAiB,MAAK,GAAL,EAApB;;yBAJJ;qBADJ;oBAOI;;0BAAK,WAAU,eAAV,EAAL;wBACI,2BAAG,WAAU,cAAV,EAAH,CADJ;wBAEI;;8BAAK,WAAU,UAAV,EAAL;4BACI;;kCAAM,WAAU,cAAV,EAAN;;6BADJ;4BAEI;;;gCAAI,QAAQ,wBAAR;6BAFR;yBAFJ;wBAMI;;8BAAK,WAAU,UAAV,EAAL;4BACI;;kCAAM,WAAU,cAAV,EAAN;;6BADJ;4BAEI;;;gCAAI,QAAQ,wBAAR;wCAAJ;6BAFJ;yBANJ;wBAUI;;8BAAK,WAAU,SAAV,EAAL;4BACI;;kCAAM,WAAU,cAAV,EAAN;;6BADJ;4BAEI;;;gCAAI,QAAQ,oBAAR;mCAAJ;gCAAkC;;sCAAG,WAAU,QAAV,EAAH;;iCAAlC;6BAFJ;yBAVJ;wBAcI;;8BAAK,WAAU,SAAV,EAAL;4BACI;;kCAAM,WAAU,cAAV,EAAN;;6BADJ;4BAEI;;;gCAAI,QAAQ,wBAAR;mCAAJ;gCAAsC;;sCAAG,WAAU,QAAV,EAAH;;iCAAtC;6BAFJ;yBAdJ;wBAkBI;;8BAAK,WAAU,SAAV,EAAL;4BACI;;kCAAK,WAAU,OAAV,EAAL;gCACI;;sCAAK,WAAU,sBAAV,EAAL;oCAAsC,6BAAK,KAAI,6BAAJ,EAAL,CAAtC;iCADJ;gCAEI;;sCAAK,WAAU,gBAAV,EAAL;oCAAgC,6BAAK,KAAI,uBAAJ,EAAL,CAAhC;iCAFJ;6BADJ;yBAlBJ;qBAPJ;iBAPJ;aADJ;YA0CI;;kBAAK,WAAU,kBAAV,EAAL;gBACI,6BAAK,WAAU,UAAV,EAAL,CADJ;gBAGI;;sBAAK,WAAU,uBAAV,EAAkC,aAAU,WAAV,EAAvC;oBACI;;0BAAG,WAAU,yBAAV,EAAoC,YAAS,cAAT,EAAwB,MAAK,eAAL,EAA/D;wBACI;;;;yBADJ;qBADJ;oBAII;;0BAAG,WAAU,gCAAV,EAA2C,YAAS,UAAT,EAAoB,MAAK,WAAL,EAAlE;wBACI;;;;yBADJ;qBAJJ;oBAOI;;0BAAG,WAAU,yBAAV,EAAoC,YAAS,iBAAT,EAA2B,MAAK,kBAAL,EAAlE;wBACI;;;;yBADJ;qBAPJ;iBAHJ;gBAcI;;sBAAK,WAAU,yBAAV,EAAL;oBACI;;0BAAG,WAAU,cAAV,EAAyB,MAAK,GAAL,EAA5B;wBACI,2BAAG,WAAU,eAAV,EAAH,CADJ;wBAEI;;;;yBAFJ;qBADJ;oBAKI;;0BAAQ,WAAU,2BAAV,EAAsC,eAAY,iBAAZ,EAA8B,IAAG,sBAAH,EAA5E;wBACI,2BAAG,WAAU,gBAAV,EAAH,CADJ;wBAEI;;;;yBAFJ;qBALJ;iBAdJ;aA1CJ;SADA,CAJiB;KAAX;CAdW,CAAjB;;AA2FJ,SAAS,MAAT,CACE,oBAAC,cAAD,IAAgB,WAAU,GAAV,EAAhB,CADF,EAEE,SAAS,cAAT,CAAwB,gBAAxB,CAFF;;;;;AC9FA,IAAI,aAAa,QAAQ,4BAAR,CAAb;AACJ,IAAI,eAAe,QAAQ,0BAAR,CAAf;AACJ,IAAI,mBAAmB,QAAQ,8BAAR,CAAnB;AACJ,IAAI,qBAAqB,QAAQ,oCAAR,CAArB;AACJ,IAAI,cAAc,QAAQ,6BAAR,CAAd;AACJ,IAAI,kBAAkB,QAAQ,8BAAR,CAAlB;AACJ,IAAI,gBAAgB,QAAQ,+BAAR,CAAhB;AACJ,IAAI,qBAAqB,QAAQ,iCAAR,CAArB;AACJ,IAAI,eAAe,QAAQ,yBAAR,CAAf;;;AAGJ,IAAI,oBAAoB,MAAM,WAAN,CAAkB;;;AACtC,YAAQ,kBAAU;AACd,YAAI,UAAU,KAAK,KAAL,CAAW,OAAX,CADA;AAEV,eACA;;cAAS,WAAU,qBAAV,EAAT;YACI;;kBAAK,WAAU,WAAV,EAAL;gBACI;;sBAAK,WAAU,KAAV,EAAL;oBACI;;0BAAK,WAAU,UAAV,EAAL;wBACI;;8BAAK,WAAU,eAAV,EAAL;4BACI;;kCAAK,WAAU,UAAV,EAAL;gCACI;;sCAAK,WAAU,eAAV,EAAL;oCACI,6BAAK,KAAK,eAAa,QAAQ,aAAR,EAAuB,KAAK,QAAQ,YAAR,EAAnD,CADJ;iCADJ;6BADJ;4BAMI;;kCAAK,WAAU,eAAV,EAAL;gCACI;;;oCAAK,QAAQ,YAAR;iCADT;gCAEI;;;;iCAFJ;6BANJ;yBADJ;qBADJ;oBAcI;;0BAAK,WAAU,6BAAV,EAAL;wBACI;;8BAAQ,WAAU,gBAAV,EAAR;;yBADJ;wBAEI;;8BAAQ,WAAU,gBAAV,EAAR;;yBAFJ;wBAGI;;8BAAQ,WAAU,gBAAV,EAAR;;yBAHJ;qBAdJ;iBADJ;gBAqBI;;sBAAK,WAAU,iBAAV,EAAL;oBACI;;0BAAK,WAAU,UAAV,EAAL;wBACI;;8BAAK,WAAU,mCAAV,EAAL;4BACI;;kCAAQ,WAAU,4BAAV,EAAuC,eAAY,UAAZ,EAAuB,IAAG,gBAAH,EAAtE;gCACI,2BAAG,WAAU,sBAAV,EAAH,CADJ;gCAC4C;;;;iCAD5C;6BADJ;yBADJ;qBADJ;oBAQI,6BAAK,WAAU,sBAAV,EAAL,CARJ;iBArBJ;aADJ;SADA,CAFU;KAAV;CADY,CAApB;;AA6CJ,IAAI,cAAc,MAAM,WAAN,CAAkB;;;AAChC,YAAQ,CAAC,OAAO,OAAP,CAAe,gBAAf,EAAiC,aAAjC,CAAD,CAAR;AACA,WAAO,CAAP;AACA,eAAW,CAAX;AACA,qBAAiB,2BAAW;AAC1B,eAAO;AACL,kBAAM,EAAN;AACA,yBAAa,EAAb;AACA,sBAAU,EAAV;SAHF,CAD0B;KAAX;AAOjB,uBAAmB,6BAAW;AAAC,SAAD;AAC1B,aAAK,KAAL,CAAW,QAAX,GAAsB,WAAW,UAAX,CAAtB,CAD0B;KAAX;AAGnB,cAAU,oBAAU;AAChB,aAAK,KAAL,IAAc,CAAd,CADgB;AAEhB,qBAAa,UAAb,GAFgB;KAAV;AAIV,YAAQ,kBAAW;AACf,YAAI,YAAY,iBAAiB,iBAAjB,EAAZ,CADW;;AAGf,YAAI,UAAU,KAAK,KAAL,CAAW,WAAX,CAHC;AAIf,gBAAQ,GAAR,CAAY,6BAAZ,EAA2C,KAAK,KAAL,CAAW,WAAX,CAA3C,CAJe;AAKf,YAAI,YAAY,KAAK,KAAL,CAAW,WAAX,CAAuB,GAAvB,CAA2B,UAAS,GAAT,EAAc,CAAd,EAAiB;AACxD,mBAAO,oBAAC,aAAD,IAAe,SAAS,GAAT,EAAc,KAAK,CAAL,EAA7B,CAAP,CADwD;SAAjB,CAAvC,CALW;;AASf,gBAAQ,GAAR,CAAY,qCAAZ,EAAmD,KAAK,KAAL,CAAW,QAAX,CAAnD,CATe;;AAWf,YAAI,OAAJ,EAAa,MAAb,EAAqB,QAArB,EAA+B,OAA/B,CAXe;;AAaf,gBAAQ,GAAR,CAAY,iCAAZ,EAA+C,SAA/C,EAbe;AAcf,YAAI,YAAY,CAAZ,EAAe;AACf,uBAAW,WAAW,UAAX,CAAX,CADe;AAEf,qBAAS,EAAE,KAAF,CAAQ,QAAR,EAAiB,EAAC,YAAW,SAAX,EAAlB,CAAT,CAFe;;AAIf,mBAAO,OAAP,CAAe,UAAU,GAAV,EAAe,KAAf,EAAsB;AACjC,0BAAU,oBAAC,iBAAD,IAAmB,SAAS,GAAT,EAAnB,CAAV,CADiC;aAAtB,CAAf,CAJe;SAAnB;AAQA,gBAAQ,GAAR,CAAY,+BAAZ,EAA6C,OAA7C,EAtBe;;AAwBf,eACA;;cAAK,WAAU,mBAAV,EAAL;YACI;;kBAAK,WAAU,kBAAV,EAAL;gBACK,OADL;aADJ;YAII;;kBAAK,WAAU,WAAV,EAAL;gBACI;;sBAAK,WAAU,KAAV,EAAL;oBACI;;0BAAK,WAAU,qBAAV,EAAL;wBACI;;8BAAK,WAAU,cAAV,EAAyB,IAAG,aAAH,EAA9B;4BACI;;;gCACI;;sCAAK,WAAU,KAAV,EAAL;oCACK,SADL;iCADJ;gCAII;;sCAAK,WAAU,yBAAV,EAAL;oCACI,oBAAC,UAAD,IAAY,SAAS,KAAK,QAAL,EAArB,CADJ;iCAJJ;6BADJ;yBADJ;qBADJ;oBAaI;;0BAAK,WAAU,yBAAV,EAAoC,IAAG,wBAAH,EAAzC;wBACI;;8BAAK,WAAU,cAAV,EAAyB,IAAG,YAAH,EAA9B;4BAA8C,2BAAG,WAAU,YAAV,EAAH,CAA9C;yBADJ;wBAEI;;8BAAK,WAAU,aAAV,EAAwB,IAAG,WAAH,EAA7B;4BAA4C,2BAAG,WAAU,UAAV,EAAH,CAA5C;yBAFJ;wBAGI;;8BAAK,WAAU,cAAV,EAAL;4BACI;;kCAAK,IAAG,oBAAH,EAAwB,WAAU,sBAAV,EAA7B;gCACI,oBAAC,kBAAD,OADJ;6BADJ;yBAHJ;qBAbJ;iBADJ;aAJJ;SADA,CAxBe;KAAX;CAlBM,CAAd;;AA8EJ,SAAS,MAAT,CAAgB,oBAAC,WAAD,OAAhB,EAAiC,SAAS,cAAT,CAAwB,iBAAxB,CAAjC;;;;;;;;;;;;AC/HA,IAAI,aAAa,MAAM,WAAN,CAAkB;;;AAC/B,YAAQ,kBAAU;AACd,eACI;;cAAK,WAAU,aAAV,EAAL;YACI,2BAAG,WAAU,iBAAV,EAAH,CADJ;SADJ,CADc;KAAV;CADK,CAAb;;AAUJ,OAAO,OAAP,GAAiB,UAAjB;;;;;;;;;;;;ACVA,IAAI,aAAa,MAAM,WAAN,CAAkB;;;AAC/B,YAAQ,kBAAW;AACf,eACI;;cAAQ,SAAS,KAAK,KAAL,CAAW,OAAX,EAAoB,WAAU,oBAAV,EAArC;YAAoE,2BAAG,WAAU,aAAV,EAAH,CAApE;;SADJ,CADe;KAAX;CADK,CAAb;;AAQJ,OAAO,OAAP,GAAiB,UAAjB;;;;;;;;;;;;ACRA,IAAI,qBAAqB,MAAM,WAAN,CAAkB;;;AACvC,qBAAmB,2BAAS,CAAT,EAAW;AAC1B,YAAQ,GAAR,CAAY,EAAE,MAAF,CAAS,KAAT,CAAZ,CAD0B;AAE1B,QAAK,EAAE,MAAF,CAAS,KAAT,IAAkB,IAAlB,EAAwB;AACzB,yBAAmB,UAAnB,CAA8B,CAA9B,EADyB;KAA7B;GAFe;AAMnB,UAAQ,kBAAU;AACd,WACA;;QAAK,WAAU,mCAAV,EAAL;MACI;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,MAAK,UAAL,EAAvB,CAAP;;UAAiD;;cAAM,WAAU,aAAV,EAAN;;WAAjD;SADF;OADJ;MAII;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,MAAK,UAAL,EAAvB,CAAP;;UAAiD;;cAAM,WAAU,aAAV,EAAN;;WAAjD;SADF;OAJJ;MAOI;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,UAAU,KAAK,iBAAL,EAAwB,MAAK,UAAL,EAAzD,CAAP;;UAAmF;;cAAM,WAAU,aAAV,EAAN;;WAAnF;SADF;OAPJ;MAUI;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,MAAK,UAAL,EAAvB,CAAP;;UAAiD;;cAAM,WAAU,aAAV,EAAN;;WAAjD;SADF;OAVJ;MAaI;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,MAAK,UAAL,EAAvB,CAAP;;UAAiD;;cAAM,WAAU,aAAV,EAAN;;WAAjD;SADF;OAbJ;MAgBI;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,MAAK,UAAL,EAAvB,CAAP;;UAAiD;;cAAM,WAAU,aAAV,EAAN;;WAAjD;SADF;OAhBJ;MAmBI;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,MAAK,UAAL,EAAvB,CAAP;;UAAiD;;cAAM,WAAU,aAAV,EAAN;;WAAjD;SADF;OAnBJ;MAsBI;;UAAK,WAAU,uBAAV,EAAL;QACE;;;UAAO,+BAAO,MAAK,UAAL,EAAgB,MAAK,UAAL,EAAvB,CAAP;;UAAiD;;cAAM,WAAU,aAAV,EAAN;;WAAjD;SADF;OAtBJ;KADA,CADc;GAAV;CAPa,CAArB;;AAuCJ,OAAO,OAAP,GAAiB,kBAAjB;;;;;AC3CA;;AAHA,IAAI,gBAAgB,QAAQ,4BAAR,CAAhB;AACJ,IAAI,qBAAqB,QAAQ,kCAAR,CAArB;;AAIJ,IAAI,gBAAgB,MAAM,WAAN,CAAkB;;;AAClC,oBAAgB,wBAAS,OAAT,EAAiB;AAC7B,2BAAmB,eAAnB,CAAmC,KAAK,KAAL,CAAW,OAAX,CAAnC,CAD6B;AAE7B,iCAAW,iBAAX,EAF6B;KAAjB;AAIhB,YAAQ,kBAAU;AACd,eACA;;cAAK,SAAS,KAAK,cAAL,EAAqB,WAAU,qDAAV,EAAgE,WAAS,KAAK,KAAL,CAAW,OAAX,CAAmB,UAAnB,EAA5G;YACI;;kBAAG,MAAK,GAAL,EAAH;gBACI;;sBAAK,WAAU,OAAV,EAAL;oBACI,6BAAK,KAAK,eAAa,KAAK,KAAL,CAAW,OAAX,CAAmB,aAAnB,EAAkC,KAAI,KAAJ,EAAzD,CADJ;oBAEI,6BAAK,WAAU,SAAV,EAAL,CAFJ;iBADJ;gBAKI;;sBAAK,WAAU,WAAV,EAAL;oBACI;;;wBAAI,KAAK,KAAL,CAAW,OAAX,CAAmB,YAAnB;qBADR;oBAEI;;0BAAK,WAAU,aAAV,EAAL;wBACI;;8BAAM,WAAU,sBAAV,EAAN;4BACI;;;;6BADJ;4BAEI;;kCAAM,WAAU,KAAV,EAAN;;gCAAwB,KAAK,KAAL,CAAW,OAAX,CAAmB,cAAnB;6BAF5B;yBADJ;wBAKI;;8BAAM,WAAU,sBAAV,EAAN;4BACI;;;;6BADJ;4BAEI;;kCAAM,WAAU,KAAV,EAAN;;gCAAwB,KAAK,KAAL,CAAW,OAAX,CAAmB,kBAAnB;6BAF5B;yBALJ;qBAFJ;iBALJ;aADJ;SADA,CADc;KAAV;CALQ,CAAhB;;AAiCJ,IAAI,qBAAqB,MAAM,WAAN,CAAkB;;;AACvC,YAAQ,CAAC,OAAO,OAAP,CAAe,aAAf,EAA8B,cAA9B,CAAD,CAAR;AACA,WAAO,CAAP;AACA,qBAAiB,2BAAW;AAC1B,eAAO;AACL,kBAAM,EAAN;AACA,0BAAc,EAAd;SAFF,CAD0B;KAAX;AAMjB,uBAAmB,6BAAW,EAAX;AAGnB,YAAQ,kBAAW;AACf,YAAI,cAAc,KAAK,KAAL,CAAW,YAAX,CADH;AAEf,YAAI,OAAO,YAAY,GAAZ,CAAgB,UAAS,GAAT,EAAc,GAAd,EAAmB;AAC1C,gBAAI,MAAM,CAAN,EAAS,OACT,oBAAC,aAAD,IAAe,SAAS,GAAT,EAAc,KAAK,GAAL,EAA7B,CADS,CAAb;SADuB,CAAvB,CAFW;AAOf,eACA;;cAAS,WAAU,+CAAV,EAAT;YACI;;kBAAK,WAAU,WAAV,EAAL;gBACI;;sBAAK,WAAU,KAAV,EAAgB,IAAG,cAAH,EAArB;oBACK,IADL;iBADJ;aADJ;SADA,CAPe;KAAX;CAZa,CAArB;;AA+BJ,OAAO,OAAP,GAAiB,kBAAjB;;;;;;;;;;;;;;AC9DA,IAAI,cAAc,MAAM,WAAN,CAAkB;;;AAChC,UAAQ,kBAAU;AACd,WACI;;QAAK,WAAU,uBAAV,EAAkC,OAAM,4BAAN,EAAmC,IAAG,aAAH,EAAiB,aAAU,SAAV,EAAoB,SAAQ,yBAAR,EAAkC,aAAU,SAAV,EAAoB,mBAAgB,iBAAhB,EAAkC,mBAAgB,oBAAhB,EAAqC,kBAAe,oBAAf,EAA5O;MACE;;;QACE;;;UACE,8CAAM,WAAU,oBAAV,EAA+B,aAAU,SAAV,EAAoB,GAAE,+nJAAF,iBAA4oJ,OAArsJ,CADF;UAEE,8CAAM,WAAU,oBAAV,EAA+B,aAAU,SAAV,EAAoB,GAAE,yxBAAF,iBAAsyB,OAA/1B,CAFF;UAGE,8CAAM,WAAU,kCAAV,EAA6C,IAAG,cAAH,EAAkB,MAAK,SAAL,EAAe,GAAE,6DAAF,iBAA0E,OAA9J,CAHF;UAIE,8CAAM,WAAU,6BAAV,EAAwC,IAAG,eAAH,EAAmB,MAAK,SAAL,EAAe,GAAE,4MAAF,iBAAyN,OAAzS,CAJF;UAKE,8CAAM,WAAU,8BAAV,EAAyC,IAAG,gBAAH,EAAoB,MAAK,SAAL,EAAe,GAAE,6QAAF,iBAA0R,OAA5W,CALF;UAME,8CAAM,WAAU,+BAAV,EAA0C,IAAG,iBAAH,EAAqB,MAAK,SAAL,EAAe,GAAE,qRAAF,iBAAkS,OAAtX,CANF;UAOE,8CAAM,WAAU,4BAAV,EAAuC,IAAG,gBAAH,EAAoB,MAAK,SAAL,EAAe,GAAE,2QAAF,iBAAwR,OAAxW,CAPF;SADF;OADF;KADJ,CADc;GAAV;CADM,CAAd;;AAoBJ,OAAO,OAAP,GAAiB,WAAjB;;;;;;;;;;;;ACpBA,IAAI,eAAe,QAAQ,2BAAR,CAAf;;;;;AAKJ,IAAI,eAAe,MAAM,WAAN,CAAkB;;;AACjC,YAAQ,kBAAU;AACd,gBAAQ,GAAR,CAAY,WAAZ,EAAyB,KAAK,KAAL,CAAW,IAAX,CAAzB,CADc;AAEd,YAAI,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAnB,EAAsB,OACtB;;cAAK,WAAU,cAAV,EAAL;YACI;;kBAAK,WAAU,eAAV,EAAL;gBACI;;;oBAAM,2BAAG,WAAU,0BAAV,EAAH,CAAN;iBADJ;aADJ;YAII;;kBAAK,WAAU,cAAV,EAAL;gBACK;;;;iBADL;aAJJ;SADsB,CAA1B;AAUA,YAAI,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAnB,EAAsB,OACtB;;cAAK,WAAU,cAAV,EAAL;YACI;;kBAAK,WAAU,eAAV,EAAL;gBACI;;;oBAAM,2BAAG,WAAU,yBAAV,EAAH,CAAN;iBADJ;gBAEI;;;oBAAM,2BAAG,WAAU,0BAAV,EAAH,CAAN;iBAFJ;aADJ;YAKI;;kBAAK,WAAU,cAAV,EAAL;gBACK;;;;iBADL;gBAEK;;;;iBAFL;aALJ;SADsB,CAA1B;KAZI;CADO,CAAf;;AA4BJ,IAAI,oBAAoB,MAAM,WAAN,CAAkB;;;AACtC,YAAQ,kBAAU;AACd,gBAAQ,GAAR,CAAY,WAAZ,EAAyB,KAAK,KAAL,CAAW,IAAX,CAAzB,CADc;AAEd,YAAI,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAnB,EAAsB,OACtB;;cAAK,WAAU,cAAV,EAAL;YACI;;kBAAK,WAAU,eAAV,EAAL;gBACI;;;oBAAM,2BAAG,WAAU,0BAAV,EAAH,CAAN;iBADJ;aADJ;YAII;;kBAAK,WAAU,cAAV,EAAL;gBACK;;;;iBADL;aAJJ;SADsB,CAA1B;AAUA,YAAI,KAAK,KAAL,CAAW,IAAX,IAAmB,CAAnB,EAAsB,OACtB;;cAAK,WAAU,cAAV,EAAL;YACI;;kBAAK,WAAU,eAAV,EAAL;gBACI;;;oBAAM,2BAAG,WAAU,yBAAV,EAAH,CAAN;iBADJ;gBAEI;;;oBAAM,2BAAG,WAAU,0BAAV,EAAH,CAAN;iBAFJ;aADJ;YAKI;;kBAAK,WAAU,cAAV,EAAL;gBACK;;;;iBADL;gBAEK;;;;iBAFL;aALJ;SADsB,CAA1B;KAZI;CADY,CAApB;;AA4BJ,IAAI,UAAU,MAAM,WAAN,CAAkB;;;AAC5B,YAAQ,kBAAU;AACd,eACI,2BAAG,WAAU,gBAAV,EAAH,CADJ,CADc;KAAV;CADE,CAAV;;AAQJ,IAAI,SAAS,MAAM,WAAN,CAAkB;;;AAC3B,YAAQ,kBAAU;AACd,eACI,2BAAG,WAAU,kBAAV,EAAH,CADJ,CADc;KAAV;CADC,CAAT;;AAQJ,IAAI,cAAc,MAAM,WAAN,CAAkB;;;AAChC,YAAQ,kBAAU;AACd,YAAI,QAAQ,KAAK,KAAL,CAAW,KAAX,CADE;AAEd,YAAI,QAAQ,EAAR,CAFU;AAGd,aAAI,IAAI,IAAE,CAAF,EAAK,IAAE,KAAF,EAAS,GAAtB,EAA0B;AACtB,qBAAS,oCAAT,CADsB;SAA1B;AAGA,eACA;;cAAK,WAAU,QAAV,EAAL;YACK,KADL;SADA,CANc;KAAV;CADM,CAAd;;AAeJ,IAAI,gBAAgB,MAAM,WAAN,CAAkB;;;AAClC,YAAQ,kBAAU;AACd,YAAI,QAAQ,CAAR,CADU;AAEd,YAAI,OAAO,KAAK,KAAL,CAAW,OAAX,CAFG;AAGd,YAAI,WAAJ,CAHc;;AAKd,YAAI,WAAW,eAAa,KAAK,qBAAL,CALd;AAMd,YAAI,UAAU,eAAa,KAAK,yBAAL,CANb;;AAQd,YAAI,QAAQ;AACR,6BAAiB,SAAO,OAAP,GAAe,GAAf;SADjB,CARU;AAWd,YAAI,SAAS,CAAT,CAXU;AAYd,YAAI,KAAK,yBAAL,GAAiC,CAAjC,EACJ,QAAQ,GAAR,CAAY,iBAAZ,EAA+B,KAAK,KAAL,CAAW,OAAX,CAA/B,CADA;;AAZc,eAgBd;;cAAK,WAAU,UAAV,EAAL;YACA;;kBAAS,OAAO,KAAP,EAAc,WAAU,6BAAV,EAAwC,gBAAc,KAAK,aAAL,EAA7E;gBACI;;sBAAK,WAAU,aAAV,EAAL;oBACI;;0BAAK,WAAU,yCAAV,EAAL;wBACI;;8BAAK,WAAU,aAAV,EAAL;4BACI,6BAAK,KAAK,QAAL,EAAL,CADJ;yBADJ;wBAII;;8BAAK,WAAU,WAAV,EAAL;4BACI,6BAAK,KAAI,6BAAJ,EAAkC,KAAI,KAAJ,EAAvC,CADJ;4BAEI,6BAAK,KAAI,uBAAJ,EAA4B,KAAI,KAAJ,EAAjC,CAFJ;4BAGI;;kCAAK,WAAU,WAAV,EAAL;;6BAHJ;yBAJJ;qBADJ;oBAaI;;0BAAK,WAAU,gDAAV,EAAL;wBACI;;;4BACK,KAAK,eAAL;4BACD;;kCAAK,WAAU,QAAV,EAAL;gCACK,MADL;6BAFJ;yBADJ;wBAOI;;8BAAK,WAAU,SAAV,EAAL;4BACI;;;gCAAO,KAAK,kBAAL;6BADX;yBAPJ;wBAUI;;8BAAK,WAAU,yBAAV,EAAL;4BACI;;kCAAM,WAAU,WAAV,EAAN;gCACI,oBAAC,YAAD,IAAc,UAAU,KAAK,mBAAL,EAAxB,CADJ;6BADJ;yBAVJ;wBAeI;;8BAAK,WAAU,cAAV,EAAL;4BACG;;kCAAK,WAAU,uBAAV,EAAL;gCACK;;sCAAK,WAAU,UAAV,EAAL;oCACI;;0CAAG,WAAU,OAAV,EAAH;wCAAsB,KAAK,oBAAL;2CAAtB;wCAAiD,2BAAG,WAAU,cAAV,EAAH,CAAjD;qCADJ;oCAEI;;0CAAM,WAAU,aAAV,EAAN;;qCAFJ;iCADL;6BADH;4BAOI;;kCAAK,WAAU,uBAAV,EAAL;gCACI;;sCAAK,WAAU,UAAV,EAAL;oCACI;;0CAAG,WAAU,OAAV,EAAH;wCAAsB,KAAK,wBAAL;2CAAtB;wCAAqD,2BAAG,WAAU,cAAV,EAAH,CAArD;qCADJ;oCAEI;;0CAAM,WAAU,aAAV,EAAN;;qCAFJ;iCADJ;6BAPJ;4BAcI;;kCAAK,WAAU,uBAAV,EAAL;gCACI;;sCAAK,WAAU,UAAV,EAAL;oCACI;;0CAAG,WAAU,OAAV,EAAH;wCAAsB,KAAK,wBAAL;2CAAtB;wCAAqD,2BAAG,WAAU,iBAAV,EAAH,CAArD;qCADJ;oCAEI;;0CAAM,WAAU,aAAV,EAAN;;qCAFJ;iCADJ;6BAdJ;4BAoBI;;kCAAK,WAAU,uBAAV,EAAL;gCACI;;sCAAK,WAAU,UAAV,EAAL;oCACI;;0CAAG,WAAU,OAAV,EAAH;wCAAsB,KAAK,wBAAL;2CAAtB;wCAAqD,2BAAG,WAAU,cAAV,EAAH,CAArD;qCADJ;oCAEI;;0CAAM,WAAU,aAAV,EAAN;;qCAFJ;iCADJ;6BApBJ;yBAfJ;qBAbJ;iBADJ;gBA0DI;;sBAAK,WAAU,YAAV,EAAL;oBACI;;0BAAK,WAAU,KAAV,EAAL;wBACI;;8BAAK,WAAU,8BAAV,EAAL;4BACI;;kCAAK,WAAU,gBAAV,EAAL;gCACI,2BAAG,WAAU,iBAAV,EAAH,CADJ;gCAEI;;sCAAM,WAAU,OAAV,EAAN;oCAAyB,KAAK,yBAAL;iCAF7B;6BADJ;yBADJ;wBAOI;;8BAAK,WAAU,+BAAV,EAAL;4BACI;;kCAAK,WAAU,aAAV,EAAL;gCACI;;sCAAQ,WAAU,mBAAV,EAAR;oCACI,2BAAG,WAAU,cAAV,EAAH,CADJ;iCADJ;gCAII;;sCAAQ,WAAU,sBAAV,EAAR;oCACI,2BAAG,WAAU,eAAV,EAAH,CADJ;iCAJJ;6BADJ;yBAPJ;qBADJ;iBA1DJ;aADA;SADA,CAfc;KAAV;CADQ,CAAhB;;AAsGJ,OAAO,OAAP,GAAiB,aAAjB;;;;;ACzMA,IAAI,gBAAgB,QAAQ,2BAAR,CAAhB;;AAEJ,IAAI,eAAe,MAAM,WAAN,CAAkB;;;AACjC,YAAQ,CAAC,OAAO,OAAP,CAAe,aAAf,EAA8B,cAA9B,CAAD,CAAR;AACA,WAAO,CAAP;AACA,qBAAiB,2BAAW;AAC1B,eAAO;AACL,kBAAM,EAAN;AACA,0BAAc,EAAd;SAFF,CAD0B;KAAX;AAMjB,uBAAmB,6BAAW,EAAX;AAGnB,YAAQ,kBAAW;AACf,YAAI,kBAAkB,KAAK,KAAL,CAAW,KAAK,KAAL,CAAW,QAAX,CAA7B,CADW;;AAGf,YAAI,cAAc,WAAW,UAAX,CAAd,CAHW;;AAKf,YAAI,SAAS,EAAE,MAAF,CAAS,WAAT,EAAsB,UAAS,CAAT,EAAY;AAAE,mBAAO,EAAE,UAAF,CAAT;SAAZ,CAA/B,CALW;;AAOf,gBAAQ,GAAR,CAAY,yBAAZ,EAAuC,MAAvC,EAPe;AAQf,YAAI,YAAY,gBAAgB,GAAhB,CAAoB,UAAS,GAAT,EAAc,GAAd,EAAmB;AACnD,gBAAI,OAAO,OAAO,MAAI,CAAJ,CAAd,CAD+C;AAEnD,mBACI;;kBAAQ,WAAU,6BAAV,EAAwC,KAAK,GAAL,EAAhD;gBAA2D,KAAK,YAAL;aAD/D,CAFmD;SAAnB,CAAhC,CARW;;AAef,eACI;;cAAK,WAAU,cAAV,EAAL;YACC,SADD;SADJ,CAfe;KAAX;CAZO,CAAf;;AAmCJ,OAAO,OAAP,GAAiB,YAAjB;;;;;AChCA;;AALA,IAAI,gBAAgB,QAAQ,2BAAR,CAAhB;AACJ,IAAI,cAAc,QAAQ,6BAAR,CAAd;AACJ,IAAI,aAAa,QAAQ,4BAAR,CAAb;AACJ,IAAI,qBAAqB,QAAQ,oCAAR,CAArB;;AAIJ,IAAI,gBAAgB,MAAM,WAAN,CAAkB;;;AAClC,YAAQ,kBAAU;AACd,4BAAC,UAAD,QADc;KAAV;CADQ,CAAhB;;AAMJ,IAAI,iBAAiB,MAAM,WAAN,CAAkB;;;AACnC,YAAQ,kBAAU;AACd,eACA;;cAAS,WAAU,aAAV,EAAT;YACI;;kBAAK,WAAU,WAAV,EAAL;gBACI;;sBAAK,WAAU,KAAV,EAAL;oBACI;;0BAAK,WAAU,UAAV,EAAL;wBACI;;8BAAK,WAAU,eAAV,EAAL;4BACI;;kCAAK,WAAU,UAAV,EAAL;gCACI;;sCAAK,WAAU,cAAV,EAAL;oCACI,oBAAC,WAAD,OADJ;iCADJ;6BADJ;4BAMI;;kCAAK,WAAU,eAAV,EAAL;gCACI;;;;iCADJ;gCAEI;;;;iCAFJ;6BANJ;yBADJ;qBADJ;oBAcI,6BAAK,WAAU,UAAV,EAAL,CAdJ;oBAiBI,6BAAK,WAAU,UAAV,EAAL,CAjBJ;iBADJ;aADJ;SADA,CADc;KAAV;CADS,CAAjB;;AAgCJ,IAAI,aAAa,MAAM,WAAN,CAAkB;;;AAC/B,YAAQ,kBAAU;AACd,eACI;;cAAK,WAAU,aAAV,EAAL;YACI,2BAAG,WAAU,iBAAV,EAAH,CADJ;SADJ,CADc;KAAV;CADK,CAAb;;AAUJ,SAAS,MAAT,CAAgB,oBAAC,cAAD,OAAhB,EAAoC,SAAS,cAAT,CAAwB,gBAAxB,CAApC;AACA,SAAS,MAAT,CAAgB,oBAAC,kBAAD,OAAhB,EAAwC,SAAS,cAAT,CAAwB,oBAAxB,CAAxC;;;;;;;;;;;;ACjDA,IAAI,iBAAiB,QAAQ,4BAAR,CAAjB;;;;;;;;;;;;;;AAcJ,IAAI,iBAAiB,MAAM,WAAN,CAAkB;;;AACnC,YAAQ,kBAAU;AACd,YAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CADG;AAEd,YAAI,YAAY,eAAa,KAAK,eAAL,CAFf;AAGd,YAAI,KAAK,eAAL,KAAyB,SAAzB,IAAsC,KAAK,eAAL,KAAyB,IAAzB,IAAiC,KAAK,eAAL,IAAwB,EAAxB,EAA4B;AAAE,wBAAY,sBAAZ,CAAF;SAAvG;AACA,eACA;;cAAK,WAAU,6BAAV,EAAL;YACI;;kBAAG,MAAK,GAAL,EAAH;gBACI;;sBAAK,WAAU,eAAV,EAAL;oBACI,6BAAK,KAAK,SAAL,EAAL,CADJ;oBAEI;;0BAAK,WAAU,kBAAV,EAAL;wBACI;;8BAAQ,WAAU,yBAAV;AACR,6CAAW,KAAK,cAAL;AACX,8CAAY,KAAK,eAAL;AACZ,2CAAS,KAAK,YAAL,EAHT;;yBADJ;qBAFJ;iBADJ;gBAWI;;sBAAK,WAAU,cAAV,EAAL;oBACI;;0BAAK,WAAU,OAAV,EAAL;wBACI;;8BAAK,WAAU,cAAV,EAAL;4BACI;;;gCAAI,KAAK,cAAL;6BADR;yBADJ;wBAII;;8BAAK,WAAU,eAAV,EAAL;4BACI;;;gCAAO,KAAK,eAAL;mCAAP;gCAA6B;;sCAAG,WAAU,QAAV,EAAH;;iCAA7B;6BADJ;yBAJJ;qBADJ;oBASI;;0BAAK,WAAU,qBAAV,EAAL;wBACI;;;4BAAO,KAAK,0BAAL;yBADX;qBATJ;iBAXJ;aADJ;SADA,CAJc;KAAV;CADS,CAAjB;;AAqCJ,IAAI,YAAY,MAAM,WAAN,CAAkB;;;AAC9B,YAAQ,CAAC,OAAO,OAAP,CAAe,cAAf,EAA+B,WAA/B,CAAD,CAAR;AACA,WAAO,EAAP;AACA,qBAAiB,2BAAW;AAC1B,eAAO;AACL,kBAAM,EAAN;AACA,uBAAW,EAAX;SAFF,CAD0B;KAAX;AAMjB,uBAAmB,6BAAW,EAAX;AAEnB,cAAU,oBAAU;AAChB,aAAK,KAAL,IAAc,CAAd,CADgB;AAEhB,yBAAiB,UAAjB,GAFgB;KAAV;AAIV,YAAQ,kBAAW;AACf,YAAI,UAAU,KAAK,KAAL,CAAW,SAAX,CADC;AAEf,YAAI,QAAQ,CAAR,CAFW;AAGf,YAAI,WAAW,QAAQ,GAAR,CAAY,UAAS,GAAT,EAAc,CAAd,EAAiB;AACxC,mBAAO,oBAAC,cAAD,IAAgB,MAAM,GAAN,EAAW,KAAK,CAAL,EAA3B,CAAP,CADwC;SAAjB,CAAvB,CAHW;AAMf,eACI;;;YAAM,QAAN;SADJ,CANe;KAAX;CAfI,CAAZ;;AA2BJ,SAAS,MAAT,CAAgB,oBAAC,SAAD,OAAhB,EAA+B,SAAS,cAAT,CAAwB,WAAxB,CAA/B;;;;;ACpFA;;AADA,IAAI,aAAa,QAAQ,4BAAR,CAAb;;AAEJ,IAAI,qBAAqB,QAAQ,gCAAR,CAArB;;AAEJ,IAAI,kBAAkB,MAAM,WAAN,CAAkB;;;AACpC,YAAQ,kBAAU;AACd,YAAI,SAAS,KAAK,KAAL,CAAW,IAAX;YAAiB,QAAQ,8BAAR,CADhB;AAEd,YAAI,OAAO,eAAP,KAA2B,EAA3B,EAAgC,QAAQ,eAAa,OAAO,eAAP,CAAzD;AACA,YAAI,SAAS,gBAAc,OAAO,YAAP,CAHb;AAId,eACA;;cAAK,WAAU,MAAV,EAAiB,IAAI,MAAJ,EAAtB;YACI;;kBAAK,WAAU,KAAV,EAAL;gBACI;;sBAAK,WAAU,uCAAV,EAAL;oBACI;;0BAAK,WAAU,YAAV,EAAL;wBACI,6BAAK,KAAK,KAAL,EAAL,CADJ;qBADJ;iBADJ;gBAMI;;sBAAK,WAAU,0BAAV,EAAL;oBACI;;0BAAK,WAAU,MAAV,EAAL;wBACI;;;4BAAI,OAAO,cAAP;yBADR;wBAEI;;8BAAM,WAAU,OAAV,EAAN;4BAAyB,OAAO,eAAP,GAAuB,OAAO,KAAP;+BAAhD;4BAA8D;;kCAAG,WAAU,QAAV,EAAH;;6BAA9D;;4BAA4F;;kCAAM,WAAU,OAAV,EAAN;gCAAyB,OAAO,KAAP;sCAAzB;6BAA5F;yBAFJ;qBADJ;iBANJ;aADJ;SADA,CAJc;KAAV;CADU,CAAlB;;AAyBJ,IAAI,cAAc,MAAM,WAAN,CAAkB;;;AAChC,gBAAY,sBAAU;AAClB,oCAAY,KAAK,KAAL,CAAW,IAAX,CAAgB,gBAAhB,CAAZ,CADkB;KAAV;AAGZ,YAAQ,kBAAU;AACd,YAAI,QAAQ,CAAR,CADU;AAEd,YAAI,OAAO,KAAK,KAAL,CAAW,IAAX,CAFG;AAGd,gBAAQ,GAAR,CAAY,eAAZ,EAA6B,IAA7B,EAHc;;AAKd,YAAI,QAAQ,KAAK,gBAAL,CAAsB,GAAtB,CAA0B,UAAS,GAAT,EAAc,CAAd,EAAiB;AACnD,qBAAU,IAAI,eAAJ,GAAoB,IAAI,KAAJ,CADqB;AAEnD,mBACI,oBAAC,eAAD,IAAiB,MAAM,GAAN,EAAW,KAAK,CAAL,EAA5B,CADJ,CAFmD;SAAjB,CAAlC,CALU;;AAYd,eACA;;cAAK,WAAU,kBAAV,EAA6B,KAAK,KAAK,KAAL,CAAW,GAAX,EAAvC;YACI;;kBAAK,WAAU,WAAV,EAAL;gBAA4B,OAAO,IAAP,CAAY,KAAK,UAAL,CAAZ,CAA6B,MAA7B,CAAoC,oBAApC,CAA5B;aADJ;YAEI;;kBAAK,WAAU,UAAV,EAAL;gBACI;;sBAAK,WAAU,oBAAV,EAAL;oBACI;;0BAAK,WAAU,aAAV,EAAL;wBACI,6BAAK,KAAK,eAAa,KAAK,qBAAL,EAA4B,KAAI,KAAJ,EAAnD,CADJ;qBADJ;oBAII;;0BAAM,WAAU,OAAV,EAAN;wBAAyB,KAAK,eAAL;qBAJ7B;iBADJ;aAFJ;YAUI;;kBAAK,WAAU,UAAV,EAAL;gBACI;;sBAAK,WAAU,eAAV,EAAL;oBACK,KADL;iBADJ;aAVJ;YAeI;;kBAAK,WAAU,kBAAV,EAAL;gBACI;;sBAAK,WAAU,OAAV,EAAL;oBACI;;0BAAM,WAAU,aAAV,EAAN;;qBADJ;oBAEI;;0BAAG,WAAU,WAAV,EAAH;wBAA0B,KAA1B;;wBAAiC;;8BAAG,WAAU,QAAV,EAAH;;yBAAjC;qBAFJ;iBADJ;gBAMI;;sBAAK,WAAU,OAAV,EAAL;oBACI;;0BAAM,WAAU,aAAV,EAAN;wBAA8B,2BAAG,WAAU,aAAV,EAAH,CAA9B;;qBADJ;oBAEI;;0BAAG,WAAU,WAAV,EAAH;;wBAA4B,KAAK,KAAL;qBAFhC;iBANJ;aAfJ;YA0BI;;kBAAK,WAAU,kBAAV,EAAL;gBACI;;sBAAM,WAAU,OAAV,EAAN;;iBADJ;gBAEI;;sBAAK,WAAU,cAAV,EAAL;oBACI;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,gBAAV,EAAH,CAAZ;qBADJ;oBAEI;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,UAAV,EAAH,CAAZ;qBAFJ;oBAGI;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,eAAV,EAAH,CAAZ;qBAHJ;oBAII;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,qBAAV,EAAH,CAAZ;qBAJJ;iBAFJ;gBAQI;;sBAAQ,SAAS,KAAK,UAAL,EAAiB,WAAU,0CAAV,EAAqD,IAAG,uBAAH,EAAvF;oBACI,2BAAG,WAAU,cAAV,EAAH,CADJ;oBACoC;;;;qBADpC;iBARJ;aA1BJ;SADA,CAZc;KAAV;CAJM,CAAd;;AA6DJ,IAAI,gBAAgB,MAAM,WAAN,CAAkB;;;AAClC,YAAQ,CAAC,OAAO,OAAP,CAAe,kBAAf,EAAmC,aAAnC,CAAD,CAAR;AACA,WAAO,CAAP;AACA,qBAAiB,2BAAW;AAC1B,eAAO;AACL,kBAAM,EAAN;AACA,yBAAa,EAAb;SAFF,CAD0B;KAAX;AAMjB,uBAAmB,6BAAW;;KAAX;AAGnB,cAAU,oBAAU;AAChB,aAAK,KAAL,IAAc,CAAd,CADgB;AAEhB,6BAAqB,UAArB,GAFgB;KAAV;AAIV,YAAQ,kBAAW;;AAEf,YAAI,UAAU,KAAK,KAAL,CAAW,WAAX,CAFC;AAGf,YAAI,QAAQ,CAAR,CAHW;AAIf,YAAI,SAAS,EAAE,KAAF,CAAQ,EAAE,MAAF,CAAS,OAAT,EAAkB,UAAlB,EAA8B,OAA9B,EAAR,EAAiD,KAAK,KAAL,CAA1D,CAJW;AAKf,YAAI,WAAW,OAAO,GAAP,CAAW,UAAS,GAAT,EAAc,CAAd,EAAiB;AACvC,mBAAO,oBAAC,WAAD,IAAa,MAAM,GAAN,EAAW,KAAK,CAAL,EAAxB,CAAP,CADuC;SAAjB,CAAtB,CALW;AAQf,eACI;;;YAAM,QAAN;YACI;;kBAAK,WAAU,yBAAV,EAAL;gBACI,oBAAC,UAAD,IAAY,SAAS,KAAK,QAAL,EAArB,CADJ;aADJ;SADJ,CARe;KAAX;CAhBQ,CAAhB;;AAkCJ,SAAS,MAAT,CAAgB,oBAAC,aAAD,OAAhB,EAAmC,SAAS,cAAT,CAAwB,eAAxB,CAAnC;;;;;AC5HA,IAAI,aAAa,QAAQ,4BAAR,CAAb;AACJ,IAAI,qBAAqB,QAAQ,gCAAR,CAArB;;AAEJ,IAAI,oBAAoB,MAAM,WAAN,CAAkB;;;AACtC,WAAQ,kBAAU;AACd,UAAI,QAAQ,CAAR,CADU;AAEd,UAAI,UAAU,KAAK,KAAL,CAAW,OAAX,CAFA;;AAId,UAAI,aAAc,eAAa,QAAQ,aAAR,CAJjB;AAKd,UAAI,QAAQ,aAAR,KAA0B,SAA1B,IAAuC,QAAQ,aAAR,KAA0B,IAA1B,EAAgC;AAAE,sBAAa,yBAAb,CAAF;OAA3E;;AAEA,cAAQ,GAAR,CAAY,+BAAZ,EAA6C,OAA7C,EAPc;AAQd,aACA;;WAAK,WAAU,uBAAV,EAAL;SACG;;cAAK,WAAU,KAAV,EAAL;YACG;;iBAAK,WAAU,sBAAV,EAAL;eACG;;oBAAK,WAAU,cAAV,EAAL;kBACG,6BAAK,KAAK,UAAL,EAAiB,KAAI,KAAJ,EAAtB,CADH;gBADH;eAIG;;oBAAK,WAAU,WAAV,EAAL;kBACG;;uBAAG,WAAU,oBAAV,EAAH;;mBADH;gBAJH;aADH;YASG;;iBAAK,WAAU,oBAAV,EAAL;eACG;;oBAAK,WAAU,cAAV,EAAL;kBACG;;uBAAK,WAAU,UAAV,EAAL;qBACC;;0BAAK,WAAU,sBAAV,EAAL;wBACG;;6BAAK,WAAU,YAAV,EAAL;2BACE;;gCAAO,WAAU,eAAV,EAA0B,OAAI,UAAJ,EAAjC;;4BADF;2BAEE,+BAAO,MAAK,MAAL,EAAY,WAAU,mCAAV,EAA8C,WAAQ,MAAR,EAAe,IAAG,UAAH,EAAc,OAAO,QAAQ,QAAR,EAArG,CAFF;yBADH;wBAKG;;6BAAK,WAAU,YAAV,EAAL;2BACE;;gCAAO,WAAU,eAAV,EAA0B,OAAI,aAAJ,EAAjC;;4BADF;2BAEE,+BAAO,MAAK,MAAL,EAAY,WAAU,mCAAV,EAA8C,WAAQ,SAAR,EAAkB,IAAG,aAAH,EAAiB,OAAO,QAAQ,WAAR,EAA3G,CAFF;yBALH;sBADD;mBADH;kBAaG;;uBAAK,WAAU,UAAV,EAAL;qBACG;;0BAAK,WAAU,YAAV,EAAL;wBACG;;6BAAO,WAAU,eAAV,EAA0B,OAAI,WAAJ,EAAjC;;yBADH;wBAEG,+BAAO,MAAK,OAAL,EAAa,WAAU,mCAAV,EAA8C,WAAQ,OAAR,EAAgB,IAAG,WAAH,EAAe,OAAO,QAAQ,SAAR,EAAxG,CAFH;sBADH;mBAbH;kBAmBG;;uBAAK,WAAU,UAAV,EAAL;qBACG;;0BAAK,WAAU,YAAV,EAAL;wBACG;;6BAAO,WAAU,eAAV,EAA0B,OAAI,WAAJ,EAAjC;;yBADH;wBAEG,+BAAO,MAAK,KAAL,EAAW,WAAU,wBAAV,EAAmC,IAAG,WAAH,EAAe,OAAO,QAAQ,SAAR,EAA3E,CAFH;sBADH;mBAnBH;kBAyBG;;uBAAK,WAAU,UAAV,EAAL;qBACG;;0BAAK,WAAU,YAAV,EAAL;wBACG;;6BAAO,WAAU,eAAV,EAA0B,OAAI,WAAJ,EAAjC;;yBADH;wBAEG,+BAAO,MAAK,MAAL,EAAY,WAAU,wBAAV,EAAmC,WAAQ,WAAR,EAAoB,IAAG,WAAH,EAAe,OAAO,QAAQ,aAAR,EAAhG,CAFH;sBADH;mBAzBH;kBA+BG;;uBAAK,WAAU,UAAV,EAAL;qBACG;;0BAAK,WAAU,YAAV,EAAL;wBACG;;6BAAO,WAAU,eAAV,EAA0B,OAAI,UAAJ,EAAjC;;yBADH;wBAEG,+BAAO,MAAK,MAAL,EAAY,WAAU,cAAV,EAAyB,IAAG,UAAH,EAAc,OAAM,UAAN,EAA1D,CAFH;sBADH;mBA/BH;gBADH;eAuCG;;oBAAK,WAAU,eAAV,EAAL;kBACG;;uBAAK,IAAG,mBAAH,EAAuB,WAAQ,GAAR,EAAY,WAAU,yBAAV,EAAxC;qBACG,2BAAG,WAAU,wBAAV,EAAH,CADH;qBAEG;;0BAAK,WAAU,KAAV,EAAL;wBACG;;6BAAK,WAAU,uCAAV,EAAkD,OAAM,6BAAN,EAAvD;2BACG,+BAAO,MAAK,MAAL,EAAY,WAAU,cAAV,EAAyB,IAAG,mBAAH,EAA5C,CADH;yBADH;sBAFH;mBADH;kBASG;;uBAAK,WAAU,KAAV,EAAL;qBACG;;0BAAG,MAAK,GAAL,EAAS,WAAU,wBAAV,EAAmC,IAAG,qBAAH,EAA/C;wBACA,2BAAG,WAAU,0BAAV,EAAH,CADA;wBAEA;;;;yBAFA;sBADH;mBATH;gBAvCH;aATH;UADH;SAmEG;;cAAK,WAAU,kBAAV,EAAL;YACG,6BAAK,WAAU,UAAV,EAAL,CADH;YAGG;;iBAAK,WAAU,wBAAV,EAAL;eACG;;oBAAK,WAAU,+BAAV,EAA0C,aAAU,cAAV,EAA/C;kBACG;;uBAAG,MAAK,oBAAL,EAA0B,WAAU,6BAAV,EAAwC,IAAG,iBAAH,EAArE;qBACA;;;;sBADA;mBADH;kBAIG;;uBAAG,MAAK,0BAAL,EAAgC,WAAU,6BAAV,EAAnC;qBACA;;;;sBADA;mBAJH;kBAOG;;uBAAG,MAAK,uBAAL,EAA6B,WAAU,6BAAV,EAAhC;qBACA;;;;sBADA;mBAPH;kBAUG;;uBAAG,IAAG,kBAAH,EAAsB,MAAK,GAAL,EAAS,WAAU,iBAAV,EAAlC;qBACA;;;;sBADA;mBAVH;gBADH;aAHH;UAnEH;OADA,CARc;IAAV;CADY,CAApB;;AAsGJ,IAAI,gBAAgB,MAAM,WAAN,CAAkB;;;AAClC,WAAQ,CAAC,OAAO,OAAP,CAAe,kBAAf,EAAmC,aAAnC,CAAD,CAAR;AACA,UAAO,CAAP;AACA,oBAAiB,2BAAW;AAC1B,aAAO;AACL,eAAM,EAAN;AACA,sBAAa,EAAb;OAFF,CAD0B;IAAX;AAMjB,sBAAmB,6BAAW;AAC1B,2BAAqB,UAArB,GAD0B;IAAX;AAGnB,WAAQ,kBAAW;;AAEf,UAAI,UAAU,KAAK,KAAL,CAAW,WAAX,CAFC;AAGf,aACI,oBAAC,iBAAD,IAAmB,SAAS,OAAT,EAAnB,CADJ,CAHe;IAAX;CAZQ,CAAhB;;;;;;;ACzGJ,IAAI,aAAa,QAAQ,4BAAR,CAAb;AACJ,IAAI,0BAA0B,QAAQ,qCAAR,CAA1B;;AAEJ,IAAI,oBAAoB,MAAM,WAAN,CAAkB;;;AACtC,YAAQ,kBAAU;AACd,YAAI,QAAQ,CAAR,CADU;AAEd,YAAI,OAAO,KAAK,KAAL,CAAW,IAAX;;;AAFG,eAMd;;cAAK,WAAU,kBAAV,EAA6B,KAAK,KAAK,KAAL,CAAW,GAAX,EAAvC;YACK;;kBAAK,WAAU,WAAV,EAAL;gBAA4B,OAAO,IAAP,CAAY,KAAK,gBAAL,CAAZ,CAAmC,MAAnC,CAA0C,oBAA1C,CAA5B;aADL;YAEI;;kBAAK,WAAU,UAAV,EAAL;gBACI;;sBAAK,WAAU,oBAAV,EAAL;oBACI;;0BAAK,WAAU,aAAV,EAAL;wBACI,6BAAK,KAAK,eAAa,KAAK,qBAAL,EAA4B,KAAI,KAAJ,EAAnD,CADJ;qBADJ;oBAII;;0BAAM,WAAU,OAAV,EAAN;wBAAyB,KAAK,eAAL;qBAJ7B;iBADJ;aAFJ;YAUI;;kBAAK,WAAU,UAAV,EAAL;gBACI;;sBAAK,WAAU,eAAV,EAAL;oBACI;;0BAAK,WAAU,iBAAV,EAAL;wBACI;;8BAAK,WAAU,KAAV,EAAL;4BACI;;kCAAK,WAAU,uCAAV,EAAL;gCACI;;sCAAK,WAAU,kBAAV,EAAL;oCACI,2BAAG,WAAU,aAAV,EAAH,CADJ;iCADJ;6BADJ;4BAMI;;kCAAK,WAAU,UAAV,EAAL;gCACI;;sCAAK,WAAU,MAAV,EAAL;oCACI;;0CAAK,WAAU,WAAV,EAAL;;wCAAmC;;;4CAAI,KAAK,YAAL;yCAAvC;qCADJ;oCAEI;;0CAAK,WAAU,MAAV,EAAL;;wCAA2B;;8CAAM,WAAU,WAAV,EAAN;4CAA6B,KAAK,SAAL;yCAAxD;qCAFJ;oCAGI;;0CAAK,WAAU,kBAAV,EAAL;wCAAmC,OAAO,IAAP,CAAY,KAAK,gBAAL,CAAZ,CAAmC,MAAnC,CAA0C,oBAA1C,CAAnC;qCAHJ;iCADJ;6BANJ;yBADJ;qBADJ;iBADJ;aAVJ;YA8BI;;kBAAK,WAAU,kBAAV,EAAL;gBACI;;sBAAK,WAAU,OAAV,EAAL;oBACI;;0BAAM,WAAU,aAAV,EAAN;;qBADJ;oBAEI;;0BAAG,WAAU,WAAV,EAAH;wBAA0B,KAA1B;;wBAAiC;;8BAAG,WAAU,QAAV,EAAH;;yBAAjC;qBAFJ;iBADJ;gBAMI;;sBAAK,WAAU,OAAV,EAAL;oBACI;;0BAAM,WAAU,aAAV,EAAN;wBAA8B,2BAAG,WAAU,aAAV,EAAH,CAA9B;;qBADJ;oBAEI;;0BAAG,WAAU,WAAV,EAAH;;wBAA4B,KAAK,KAAL;qBAFhC;iBANJ;aA9BJ;YAyCI;;kBAAK,WAAU,kBAAV,EAAL;gBACI;;sBAAM,WAAU,OAAV,EAAN;;iBADJ;gBAEI;;sBAAK,WAAU,cAAV,EAAL;oBACI;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,gBAAV,EAAH,CAAZ;qBADJ;oBAEI;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,UAAV,EAAH,CAAZ;qBAFJ;oBAGI;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,eAAV,EAAH,CAAZ;qBAHJ;oBAII;;0BAAG,MAAK,GAAL,EAAH;wBAAY,2BAAG,WAAU,qBAAV,EAAH,CAAZ;qBAJJ;iBAFJ;gBAQI;;sBAAG,MAAK,GAAL,EAAS,WAAU,0CAAV,EAAqD,IAAG,uBAAH,EAAjE;oBACI;;;;qBADJ;iBARJ;aAzCJ;SADA,CALc;KAAV;CADY,CAApB;;AAkEJ,IAAI,oBAAoB,MAAM,WAAN,CAAkB;;;AACtC,YAAQ,CAAC,OAAO,OAAP,CAAe,uBAAf,EAAwC,aAAxC,CAAD,CAAR;AACA,WAAO,CAAP;AACA,qBAAiB,2BAAW;AAC1B,eAAO;AACL,kBAAM,EAAN;AACA,yBAAa,EAAb;SAFF,CAD0B;KAAX;AAMjB,uBAAmB,6BAAW;;KAAX;AAGnB,cAAU,oBAAU;AAChB,aAAK,KAAL,IAAc,CAAd,CADgB;AAEhB,kCAA0B,UAA1B,GAFgB;KAAV;AAIV,YAAQ,kBAAW;;AAEf,YAAI,UAAU,KAAK,KAAL,CAAW,WAAX,CAFC;AAGf,YAAI,QAAQ,CAAR,CAHW;AAIf,YAAI,SAAS,EAAE,KAAF,CAAQ,EAAE,MAAF,CAAS,OAAT,EAAkB,UAAlB,EAA8B,OAA9B,EAAR,EAAiD,KAAK,KAAL,CAA1D,CAJW;AAKf,YAAI,WAAW,OAAO,GAAP,CAAW,UAAS,GAAT,EAAc,CAAd,EAAiB;AACvC,mBAAO,oBAAC,iBAAD,IAAmB,MAAM,GAAN,EAAW,KAAK,CAAL,EAA9B,CAAP,CADuC;SAAjB,CAAtB,CALW;AAQf,eACI;;;YAAM,QAAN;YACI;;kBAAK,WAAU,yBAAV,EAAL;gBACI,oBAAC,UAAD,IAAY,SAAS,KAAK,QAAL,EAArB,CADJ;aADJ;SADJ,CARe;KAAX;CAhBY,CAApB;;AAkCJ,SAAS,MAAT,CAAgB,oBAAC,iBAAD,OAAhB,EAAuC,SAAS,cAAT,CAAwB,oBAAxB,CAAvC;;;;;;;;;;;;AChGA,IAAI,wBAAwB,OAAO,aAAP,CAAqB,CAC7C,WAD6C,EAChC,YADgC,CAArB,CAAxB;;AAIJ,IAAI,sBAAsB,OAAO,WAAP,CAAmB;AACzC,iBAAa,CAAC,qBAAD,CAAb;AACA,iBAAa,EAAb;AACA,eAAW,cAAX;AACA,eAAW,YAAU,0BAAV,GAAqC,cAArC;AACX,UAAM,gBAAW;AACb,aAAK,SAAL,GAAiB,cAAjB,CADa;AAEb,aAAK,SAAL,GAFa;KAAX;AAIN,gBAAY,oBAAS,KAAT,EAAe;AACvB,gBAAQ,GAAR,CAAY,kCAAZ,EADuB;AAEvB,aAAK,SAAL,GAAiB,KAAjB,CAFuB;AAGvB,aAAK,SAAL,GAAiB,YAAU,0BAAV,GAAqC,KAArC,CAHM;AAIvB,gBAAQ,GAAR,CAAY,sBAAZ,EAAoC,KAAK,SAAL,CAApC,CAJuB;AAKvB,aAAK,SAAL,GALuB;KAAf;AAOZ,eAAW,qBAAW;AACpB,YAAI,OAAO,IAAP,CADgB;AAEpB,UAAE,OAAF,CAAU,KAAK,SAAL,EAAgB,UAAU,IAAV,EAAgB;AACxC,iBAAK,WAAL,GAAmB,KAAK,MAAL,CAAY,UAAZ,CADqB;AAExC,oBAAQ,GAAR,CAAY,uCAAZ,EAAqD,KAAK,WAAL,CAArD,CAFwC;AAGxC,iBAAK,OAAL,CAAa,KAAK,WAAL,CAAb,CAHwC;SAAhB,CAA1B,CAFoB;KAAX;CAhBW,CAAtB;;AA0BJ,OAAO,OAAP,GAAiB,mBAAjB;;;;;;;;;;;;AC9BA,IAAI,qBAAqB,QAAQ,kCAAR,CAArB;AACJ,IAAI,kBAAkB,QAAQ,+BAAR,CAAlB;AACJ,IAAI,gBAAgB,QAAQ,oBAAR,CAAhB;;AAEJ,IAAI,mBAAmB,OAAO,WAAP,CAAmB;AACtC,iBAAa,CAAC,kBAAD,CAAb;AACA,aAAS,EAAT;AACA,oBAAe,CAAf;AACA,iBAAa,EAAb;AACA,eAAW,YAAU,yBAAV;AACX,UAAM,gBAAW;AACb,aAAK,SAAL,GADa;KAAX;AAGN,gBAAY,sBAAU;AAClB,gBAAQ,GAAR,CAAY,2BAAZ,EADkB;AAElB,aAAK,SAAL,GAFkB;KAAV;AAIZ,aAAS,mBAAU;AACf,aAAK,OAAL,GAAe,CAAf,CADe;KAAV;AAGT,qBAAiB,yBAAS,OAAT,EAAiB;AAC9B,gBAAQ,GAAR,CAAY,+CAAZ,EAA6D,OAA7D,EAD8B;AAE9B,aAAK,OAAL,GAAe,OAAf,CAF8B;AAG9B,yBAAiB,OAAjB,CAH8B;AAI9B,aAAK,cAAL,GAAsB,QAAQ,UAAR,CAJQ;AAK9B,aAAK,SAAL,CAAe,QAAQ,UAAR,CAAf,CAL8B;KAAjB;AAOjB,uBAAmB,6BAAU;AACxB,gBAAQ,GAAR,CAAY,wDAAZ,EAAsE,KAAK,cAAL,CAAtE,CADwB;AAExB,eAAO,KAAK,cAAL,CAFiB;KAAV;AAInB,gBAAY,oBAAS,OAAT,EAAkB,IAAlB,EAAuB;AAC/B,YAAI,OAAO,KAAK,WAAL,CADoB;AAE/B,YAAI,QAAJ,CAF+B;;AAI/B,gBAAQ,GAAR,CAAY,0CAAwC,IAAxC,CAAZ,CAJ+B;;AAM/B,YAAI,QAAQ,CAAR,EAAW,WAAW,EAAE,MAAF,CAAS,IAAT,EAAe,UAAS,OAAT,EAAiB;AACtD,mBAAO,QAAQ,uBAAR,IAAmC,CAAnC,CAD+C;SAAjB,CAA1B,CAAf;;AAIA,YAAI,QAAQ,CAAR,EAAW;AAAE,iBAAK,SAAL,GAAF;SAAf,MAA0C;AACtC,iBAAK,WAAL,GAAmB,QAAnB,CADsC;AAEtC,iBAAK,OAAL,CAAa,KAAK,WAAL,CAAb,CAFsC;AAGtC,oBAAQ,GAAR,CAAY,gCAAZ,EAA8C,QAA9C,EAHsC;SAA1C;AAKA,eAAO,QAAP,CAf+B;KAAvB;AAiBZ,eAAW,mBAAS,SAAT,EAAoB;AAC7B,YAAI,OAAO,IAAP,CADyB;AAE7B,YAAI,WAAW,KAAK,SAAL,CAFc;;AAI7B,aAAK,OAAL,GAAe,gBAAgB,cAAhB,CAA+B,SAA/B,CAAf,CAJ6B;;AAM7B,gBAAQ,GAAR,CAAY,iDAA+C,KAAK,OAAL,CAA3D,CAN6B;;AAQ7B,oBAAY,mBAAZ,CAR6B;;AAU7B,YAAI,SAAJ,EAAgB;AACd,wBAAY,gBAAc,SAAd,CADE;SAAhB;AAGA,gBAAQ,GAAR,CAAY,+BAAZ,EAA4C,QAA5C,EAb6B;;AAe7B,UAAE,OAAF,CAAU,QAAV,EAAoB,UAAU,IAAV,EAAgB;;AAElC,oBAAQ,GAAR,CAAY,4BAAZ,EAA0C,IAA1C,EAFkC;AAGlC,iBAAK,WAAL,GAAmB,KAAK,MAAL,CAAY,WAAZ,CAHe;AAIlC,iBAAK,OAAL,CAAa,KAAK,WAAL,CAAb,CAJkC;SAAhB,CAApB,CAf6B;KAApB;CA5CQ,CAAnB;;AAqEJ,OAAO,OAAP,GAAiB,gBAAjB;;;;;AChFA,IAAI,kBAAkB,QAAQ,+BAAR,CAAlB;;AAEJ,IAAI,gBAAgB,OAAO,WAAP,CAAmB;AACnC,iBAAa,CAAC,eAAD,CAAb;AACA,kBAAc,EAAd;AACA,eAAW,YAAU,sBAAV;AACX,UAAM,gBAAW;AACb,aAAK,SAAL,GADa;KAAX;AAGN,oBAAgB,wBAAS,EAAT,EAAY;AACxB,YAAI,UAAU,EAAE,KAAF,CAAQ,KAAK,YAAL,EAAkB,EAAC,YAAW,EAAX,EAA3B,CAAV,CADoB;AAExB,gBAAQ,GAAR,CAAY,mCAAiC,EAAjC,GAAoC,KAApC,EAA0C,OAAtD,EAFwB;AAGxB,eAAO,OAAP,CAHwB;KAAZ;AAKhB,eAAW,qBAAW;AACpB,YAAI,OAAO,IAAP,CADgB;AAEpB,UAAE,OAAF,CAAU,KAAK,SAAL,EAAgB,UAAU,IAAV,EAAgB;AACxC,uBAAW,UAAX,EAAuB,KAAK,MAAL,CAAY,QAAZ,CAAvB,CADwC;AAExC,iBAAK,YAAL,GAAoB,KAAK,MAAL,CAAY,QAAZ,CAFoB;AAGxC,iBAAK,OAAL,CAAa,KAAK,YAAL,CAAb,CAHwC;AAIxC,oBAAQ,GAAR,CAAY,iCAAZ,EAA+C,KAAK,YAAL,CAA/C,CAJwC;SAAhB,CAA1B,CAFoB;KAAX;CAZK,CAAhB;;AAuBJ,OAAO,OAAP,GAAiB,aAAjB;;;;;;;;;;;;AClBA,IAAI,mBAAmB,OAAO,aAAP,CAAqB,CACxC,WADwC,EAC3B,YAD2B,CAArB,CAAnB;;AAIJ,IAAI,iBAAiB,OAAO,WAAP,CAAmB;AACpC,iBAAa,CAAC,gBAAD,CAAb;AACA,qBAAgB,CAAhB;AACA,eAAW,cAAX;AACA,eAAW,EAAX;AACA,eAAW,YAAU,yBAAV,GAAoC,cAApC;AACX,UAAM,gBAAW;AACb,aAAK,SAAL,GAAiB,cAAjB,CADa;AAEb,aAAK,SAAL,GAFa;KAAX;AAIN,gBAAY,oBAAS,KAAT,EAAe;AACvB,aAAK,SAAL,GAAiB,KAAjB,CADuB;AAEvB,aAAK,SAAL,GAAiB,YAAU,yBAAV,GAAoC,KAApC,CAFM;AAGvB,gBAAQ,GAAR,CAAY,sCAAZ,EAAoD,KAAK,SAAL,CAApD,CAHuB;AAIvB,aAAK,SAAL,GAJuB;KAAf;AAMZ,eAAW,qBAAW;AACpB,YAAI,OAAO,IAAP,CADgB;AAEpB,UAAE,OAAF,CAAU,KAAK,SAAL,EAAgB,UAAU,IAAV,EAAgB;AACxC,iBAAK,SAAL,GAAiB,KAAK,MAAL,CAAY,SAAZ,CADuB;AAExC,oBAAQ,GAAR,CAAY,kCAAZ,EAAgD,KAAK,SAAL,CAAhD,CAFwC;AAGxC,iBAAK,OAAL,CAAa,KAAK,SAAL,CAAb,CAHwC;SAAhB,CAA1B,CAFoB;KAAX;CAhBM,CAAjB;;AA0BJ,OAAO,OAAP,GAAiB,cAAjB;;;;;;;;;;;;AC9BA,IAAI,uBAAuB,OAAO,aAAP,CAAqB,CAC5C,WAD4C,EAC/B,YAD+B,CAArB,CAAvB;;AAIJ,IAAI,qBAAqB,OAAO,WAAP,CAAmB;AACxC,iBAAa,CAAC,oBAAD,CAAb;AACA,iBAAa,EAAb;AACA,eAAW,YAAU,yBAAV,GAAoC,SAApC;AACX,UAAM,gBAAW;AACb,aAAK,SAAL,GADa;KAAX;AAGN,gBAAY,sBAAU;AAClB,gBAAQ,GAAR,CAAY,iCAAZ,EADkB;AAElB,aAAK,SAAL,GAFkB;KAAV;AAIZ,eAAW,qBAAW;AACpB,YAAI,OAAO,IAAP,CADgB;AAEpB,UAAE,OAAF,CAAU,KAAK,SAAL,EAAgB,UAAU,IAAV,EAAgB;AACxC,iBAAK,WAAL,GAAmB,KAAK,MAAL,CAAY,MAAZ,CADqB;AAExC,iBAAK,OAAL,CAAa,KAAK,WAAL,CAAb,CAFwC;AAGxC,oBAAQ,GAAR,CAAY,sCAAZ,EAAoD,KAAK,WAAL,CAApD,CAHwC;SAAhB,CAA1B,CAFoB;KAAX;CAXU,CAArB;;AAqBJ,OAAO,OAAP,GAAiB,kBAAjB;;;;;;;;;;;;ACzBA,IAAI,uBAAuB,OAAO,aAAP,CAAqB,CAC5C,WAD4C,EAC/B,YAD+B,CAArB,CAAvB;;AAIJ,IAAI,qBAAqB,OAAO,WAAP,CAAmB;AACxC,iBAAa,CAAC,oBAAD,CAAb;AACA,iBAAa,EAAb;AACA,eAAW,YAAU,0BAAV;AACX,UAAM,gBAAW;AACb,aAAK,SAAL,GADa;KAAX;AAGN,gBAAY,sBAAU;AAClB,gBAAQ,GAAR,CAAY,iCAAZ,EADkB;AAElB,aAAK,SAAL,GAFkB;KAAV;AAIZ,eAAW,qBAAW;AAClB,YAAI,OAAO,IAAP,CADc;AAElB,UAAE,IAAF,CAAO;AACH,kBAAM,MAAN;AACA,mBAAO,OAAP;AACA,sBAAU,MAAV;AACA,iBAAK,KAAK,SAAL;AACL,kBAAM;AACF,6BAAa,SAAb;aADJ;AAGA,qBAAS,iBAAS,IAAT,EAAe;AACpB,qBAAK,WAAL,GAAmB,KAAK,MAAL,CAAY,OAAZ,CADC;AAEpB,qBAAK,OAAL,CAAa,KAAK,WAAL,CAAb,CAFoB;AAGpB,wBAAQ,GAAR,CAAY,wCAAZ,EAAsD,KAAK,WAAL,CAAtD,CAHoB;AAIpB,2BAAW,SAAX,EAAsB,KAAK,MAAL,CAAY,OAAZ,CAAtB,CAJoB;aAAf;SARb,EAFkB;KAAX;CAXU,CAArB;;AA+BJ,OAAO,OAAP,GAAiB,kBAAjB;;;;;;;;;;;;ACnCA,IAAI,4BAA4B,OAAO,aAAP,CAAqB,CACjD,WADiD,EACpC,YADoC,CAArB,CAA5B;;AAIJ,IAAI,0BAA0B,OAAO,WAAP,CAAmB;AAC7C,iBAAa,CAAC,yBAAD,CAAb;AACA,iBAAa,EAAb;AACA,eAAW,YAAU,+BAAV,GAA0C,SAA1C;AACX,UAAM,gBAAW;AACb,aAAK,SAAL,GADa;KAAX;AAGN,gBAAY,sBAAU;AAClB,gBAAQ,GAAR,CAAY,sCAAZ,EADkB;AAElB,aAAK,SAAL,GAFkB;KAAV;AAIZ,eAAW,qBAAW;AACpB,YAAI,OAAO,IAAP,CADgB;AAEpB,UAAE,OAAF,CAAU,KAAK,SAAL,EAAgB,UAAU,IAAV,EAAgB;AACxC,iBAAK,WAAL,GAAmB,KAAK,MAAL,CAAY,YAAZ,CADqB;AAExC,iBAAK,OAAL,CAAa,KAAK,WAAL,CAAb,CAFwC;AAGxC,oBAAQ,GAAR,CAAY,2CAAZ,EAAyD,KAAK,WAAL,CAAzD,CAHwC;SAAhB,CAA1B,CAFoB;KAAX;CAXe,CAA1B;;AAqBJ,OAAO,OAAP,GAAiB,uBAAjB;;;;;AChCA;;AACA;;AACA;;;;AAEA,SAAS,SAAT,CAAmB,UAAnB,EAA8B;AAC1B,MAAE,OAAF,CAAU,YAAU,yBAAV,GAAoC,UAApC,EAAgD,UAAS,IAAT,EAAc;AACpE,UAAE,YAAF,EAAgB,IAAhB,CAAqB,EAArB,EADoE;AAEpE,gBAAQ,GAAR,CAAY,IAAZ,EAFoE;AAGpE,UAAE,IAAF,CAAO,KAAK,MAAL,CAAY,SAAZ,EAAuB,UAAS,GAAT,EAAc,IAAd,EAAmB;AAC7C,gBAAI,KAAK,eAAL,IAAwB,EAAxB,EAA2B;AAC3B,qBAAK,eAAL,GAAuB,2BAAvB,CAD2B;aAA/B,MAEO,KAAK,eAAL,GAAuB,sCAAoC,KAAK,eAAL,CAFlE;;AAIA,gBAAI,+MAIwB,KAAK,eAAL,oMAGK,KAAK,cAAL,yDACC,KAAK,eAAL,sDACH,KAAK,YAAL,mTAOF,KAAK,cAAL,+JAGG,KAAK,eAAL,8NAIJ,KAAK,0BAAL,kIAvBxB,CALyC;AAiC7C,cAAE,YAAF,EAAgB,MAAhB,CAAuB,MAAvB,EAjC6C;SAAnB,CAA9B,CAHoE;KAAd,CAA1D,CAD0B;CAA9B;;AA0CA,SAAS,gBAAT,CAA0B,WAA1B,EAAuC,YAAvC,EAAoD;AAChD,QAAI,wCACqB,YAAY,IAAZ,yBACf,YAAY,IAAZ,2BACA,YAAY,KAAZ,2GAE4D,YAAY,EAAZ,uBAA8B,YAAY,IAAZ,wBAAiC,YAAY,KAAZ,8EACzE,YAAY,EAAZ,kEACpB,4DAAmD,YAAY,EAAZ,6EAChC,YAAY,EAAZ,0LARvD,CAD4C;;AAkBhD,WAAO,EAAP,CAlBgD;CAApD;;AAqBA,SAAS,YAAT,CAAsB,YAAtB,EAAoC,QAApC,EAA6C;AACzC,MAAE,OAAF,CAAU,YAAU,4BAAV,GAAuC,YAAvC,EAAqD,UAAS,IAAT,EAAc;AACzE,gBAAQ,GAAR,CAAY,gBAAZ,EAA8B,IAA9B,EADyE;AAEzE,iBAAS,IAAT,EAFyE;KAAd,CAA/D,CADyC;CAA7C;;AAOA,SAAS,kBAAT,CAA4B,KAA5B,EAAkC;AAC9B,MAAE,IAAF,CAAO,IAAP,EAAa,UAAS,KAAT,EAAe,KAAf,EAAqB;AAC9B,gBAAQ,GAAR,CAAY,KAAZ,EAD8B;KAArB,CAAb,CAD8B;CAAlC;;AAOA,SAAS,wBAAT,CAAkC,MAAlC,EAA0C,OAA1C,EAAkD;AAC9C,MAAE,OAAF,CAAU,YAAU,6BAAV,GAAwC,MAAxC,GAA+C,GAA/C,GAAmD,OAAnD,EAA4D,UAAS,IAAT,EAAc;AAChF,gBAAQ,GAAR,CAAY,8CAAZ,EAA4D,OAA5D,EADgF;AAEhF,gBAAQ,GAAR,CAAY,4BAAZ,EAA0C,IAA1C,EAFgF;AAGhF,YAAI,YAAY,CAAZ,CAH4E;AAIhF,UAAE,UAAF,EAAc,MAAd,qEAEgB,WAAW,KAAK,MAAL,CAAY,IAAZ,CAAiB,UAAjB,cAF3B,EAJgF;AAO5E,UAAE,IAAF,CAAO,KAAK,MAAL,CAAY,MAAZ,EAAoB,UAAS,KAAT,EAAe,KAAf,EAAqB;;AAE5C,gBAAI,MAAM,UAAN,IAAoB,CAApB,EAAwB,8FAA5B;;AAIA,gBAAI,MAAM,UAAN,IAAoB,CAApB,EAAwB,sKAA5B;;AAKA,gBAAI,MAAM,UAAN,IAAoB,CAApB,EAAwB,8IAEoB,mDAFpB,CAA5B;;AAKA,gBAAI,UAAJ,CAhB4C;AAiB5C,iBAAI,IAAI,IAAI,CAAJ,EAAO,KAAK,MAAM,iBAAN,EAAyB,GAA7C,EAAiD;AAC7C,8BAAc,aAAW,CAAX,GAAa,WAAb,CAD+B;aAAjD;;AAIA,cAAE,oBAAF,EAAwB,MAAxB,6DACoC,MAAM,OAAN,sBAA4B,MAAM,QAAN,qBAA4B,MAAM,QAAN,2BAAkC,KAAK,MAAL,CAAY,YAAZ,CAAyB,MAAM,QAAN,yBAAgC,MAAM,iBAAN,0BAA0C,MAAM,aAAN,wBAAoC,MAAM,WAAN,6BAAuC,MAAM,aAAN,uBAAmC,MAAM,OAAN,yBAA8B,MAAM,aAAN,GAAoB,EAApB,kBAAiC,MAAM,aAAN,GAAoB,EAApB,oEAC1W,MAAM,YAAN,kKAGlB,+DACY,MAAM,iBAAN,6MAGY,MAAM,QAAN,yHACA,MAAM,QAAN,+BAAsC,MAAM,QAAN,sEAC5D,+SAXpB,EArB4C;SAArB,CAA3B,CAP4E;KAAd,CAAtE,CAD8C;CAAlD;;AAmDA,SAAS,sBAAT,CAAgC,CAAhC,EAAkC;AAC9B,QAAI,UAAU,EAAE,wBAAF,EAA4B,GAA5B,EAAV,CAD0B;AAE9B,QAAI,WAAW,EAAE,wBAAF,EAA4B,GAA5B,KAAkC,GAAlC,GAAsC,EAAE,wBAAF,EAA4B,GAA5B,EAAtC,CAFe;AAG9B,QAAI,WAAW,OAAO,QAAP,EAAiB,kBAAjB,EAAqC,IAArC,CAA0C,GAA1C,EAA+C,IAA/C,EAAX,CAH0B;;AAK9B,YAAQ,GAAR,CAAY,qCAAZ,EAAkD,QAAlD,EAL8B;AAM9B,YAAQ,GAAR,CAAY,2CAAZ,EAAyD,QAAzD,EAN8B;AAO9B,WAAO,QAAP,CAP8B;CAAlC;;AAUA,EAAE,YAAW;;;AAET,MAAE,wBAAF,EAA4B,cAA5B;AACI,gBAAQ,IAAR;oDACQ,uDACA,yDACK,SAAS,OAAT,uBAJjB,EAFS;;AAST,MAAE,wBAAF,EAA4B,cAA5B,CAA2C;AACvC,gBAAQ,YAAR;AACA,gBAAQ,IAAR;AACA,qBAAa,SAAS,OAAT,EAAb;KAHJ,EATS;;AAeT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,yBAAxB,EAAmD,UAAS,KAAT,EAAe;AAC9D,wCAD8D;KAAf,CAAnD,CAfS;;AAmBT,MAAE,QAAF,EAAY,EAAZ,CAAe;AACX,oBAAY,sBAAY;AACpB,cAAE,kBAAF,EAAsB,WAAtB,CAAkC,UAAlC,EADoB;AAEpB,cAAE,IAAF,EAAQ,MAAR,GAAiB,QAAjB,CAA0B,UAA1B,EAFoB;SAAZ;KADhB,EAKG,gCALH,EAnBS;;AA0BT,MAAE,QAAF,EAAY,EAAZ,CAAe,YAAf,EAA6B,oCAA7B,EAAmE,UAAS,KAAT,EAAe;AAC9E,UAAE,IAAF,EAAQ,MAAR,GAAiB,WAAjB,CAA6B,UAA7B,EAD8E;KAAf,CAAnE,CA1BS;;AA8BT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,4BAAxB,EAAsD,UAAS,KAAT,EAAe;AACjE,oDADiE;KAAf,CAAtD,CA9BS;;AAkCT,QAAI,sBAAJ,CAlCS;;AAoCT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,mBAAxB,EAA6C,UAAS,KAAT,EAAgB;AACzD,gBAAQ,GAAR,CAAY,wBAAZ,EADyD;AAEzD,kBAAW,EAAE,IAAF,CAAX,EAFyD;AAGzD,gBAAQ,GAAR,CAAY,0BAAZ,EAAwC,wBAAxC,EAHyD;;AAKzD,UAAE,2BAAF,EAA+B,IAA/B,CAAoC,YAAU;AAC1C,gBAAI,UAAU,EAAV,CADsC;AAE1C,gBAAI,cAAc,WAAW,gBAAX,CAAd,CAFsC;;AAI1C,oBAAQ,IAAR,IAAgB,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,CAAhB,CAJ0C;AAK1C,oBAAQ,MAAR,IAAkB,EAAE,iCAAF,EAAqC,IAArC,KAA4C,UAA5C,GAAuD,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,CAAvD,CALwB;AAM1C,oBAAQ,OAAR,IAAmB,EAAE,QAAF,EAAY,EAAE,IAAF,EAAQ,MAAR,EAAZ,EAA8B,GAA9B,EAAnB,CAN0C;AAO1C,oBAAQ,OAAR,IAAmB,EAAE,IAAF,EAAQ,IAAR,CAAa,OAAb,CAAnB,CAP0C;AAQ1C,oBAAQ,MAAR,IAAkB,EAAE,IAAF,EAAQ,IAAR,CAAa,MAAb,CAAlB,CAR0C;;AAU1C,oBAAQ,MAAR,IAAkB,wBAAlB,CAV0C;AAW1C,oBAAQ,MAAR,IAAkB,OAAlB,CAX0C;;AAa1C,oBAAQ,GAAR,CAAY,QAAZ,EAAsB,QAAQ,WAAR,CAAtB,EAb0C;;AAe1C,gBAAG,QAAQ,WAAR,MAAyB,KAAzB,EAA+B;AAC9B,qBAAK;AACH,2BAAO,+BAAP;AACA,0BAAM,2GAAN;AACA,0BAAM,SAAN;AACA,sCAAkB,IAAlB;AACA,uCAAmB,eAAnB;AACA,sCAAkB,mBAAlB;AACA,oCAAgB,IAAhB;iBAPF,EASA,UAAS,SAAT,EAAoB;AAClB,wBAAI,SAAJ,EAAe;AACb,mCAAW,gBAAX,EAA6B,OAA7B,EADa;AAEb,+BAAO,OAAP,CAAe,gCAAf,EAAiD,WAAjD,EAFa;AAGb,mEAHa;AAIb,yDAJa;qBAAf,MAKO;AACL,+BAAO,OAAP,CAAe,4BAAf,EAA6C,mBAA7C,EADK;qBALP;iBADF,CATA,CAD8B;aAAlC,MAqBO;AACH,2BAAW,gBAAX,EAA6B,OAA7B,EADG;AAEH,2DAFG;;AAIH,iDAJG;aArBP;SAfgC,CAApC,CALyD;;AAkDzD,UAAE,WAAF,EAAe,WAAf,CAA2B,UAA3B,EAAuC,QAAvC,CAAgD,OAAhD,EAlDyD;KAAhB,CAA7C,CApCS;;AAyFT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,qCAAxB,EAA+D,UAAS,CAAT,EAAW;AACtE,UAAE,IAAF,EAAQ,MAAR,GAAiB,MAAjB,GAA0B,QAA1B,CAAmC,EAAC,SAAQ,CAAR,EAApC,EAAgD,GAAhD,EAAqD,YAAU;AAC3D,uBAAW,YAAU;AAClB,kBAAE,oBAAF,EAAwB,MAAxB,GADkB;AAElB,6BAAa,UAAb,CAAwB,gBAAxB,EAFkB;AAGlB,iDAHkB;aAAV,EAIT,GAJF,EAD2D;SAAV,CAArD,CADsE;KAAX,CAA/D,CAzFS;;AAoGT,MAAE,QAAF,EAAY,EAAZ,CAAe,WAAf,EAA4B,UAAS,CAAT,EAAY;AACpC,iCAAyB,wBAAzB,CADoC;AAEpC,iCAAyB,cAAzB,EAAyC,wBAAzC,EAFoC;KAAZ,CAA5B,CApGS;;AAyGT,QAAI,cAAc,SAAS,GAAT,CAAa,EAAb,EAAiB,GAAjB,EAAsB,IAAtB,EAAd,CAzGK;;AA2GT,6BAAyB,cAAzB,EAAyC,WAAzC,EA3GS;CAAX,CAAF;;;;;;;;QC3IgB;AAHhB,IAAI,wBAAwB,QAAQ,uCAAR,CAAxB;AACJ,IAAI,mBAAmB,QAAQ,kCAAR,CAAnB;;AAEG,SAAS,UAAT,CAAoB,QAApB,EAA6B;AAChC,QAAI,SAAS,0BAAT,CAD4B;AAEhC,QAAI,QAAQ,2BAAR;;AAF4B,QAI5B,WAAW,MAAI,QAAJ,CAJiB;;AAMhC,QAAI,EAAE,QAAF,EAAY,MAAZ,EAAoB;;AAEpB,UAAE,gBAAF,EAAoB,WAApB,CAAgC,QAAhC,EAFoB;;AAIpB,gBAAQ,GAAR,CAAY,0BAAwB,QAAxB,CAAZ,CAJoB;;AAMpB,qBAAa,eAAb,EAA8B,MAA9B,EAAsC,YAAU;AAC5C,yBAAa,QAAb,EAAuB,KAAvB,EAA8B,YAAU;;aAAV,CAA9B,CAD4C;SAAV,CAAtC,CANoB;;AAYpB,UAAE,IAAF,EAAQ,QAAR,CAAiB,QAAjB,EAZoB;;AAcpB,UAAE,QAAF,EAAY,QAAZ,CAAqB,eAArB,EAdoB;KAAxB,MAeO,QAAQ,GAAR,CAAY,wCAAsC,QAAtC,CAAZ,CAfP;CANG;;AAwBP,EAAE,YAAW;;AAET,eAAW,UAAX,EAFS;;AAIT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,iBAAxB,EAA2C,UAAS,KAAT,EAAgB;AACvD,YAAI,UAAU,EAAE,IAAF,EAAQ,IAAR,CAAa,SAAb,CAAV,CADmD;AAEvD,gBAAQ,GAAR,CAAY,2BAAZ,EAAyC,OAAzC,EAFuD;AAGvD,yBAAiB,OAAjB,CAHuD;AAIvD,gBAAQ,GAAR,CAAY,qBAAZ,EAJuD;AAKvD,8BAAsB,UAAtB,CAAiC,OAAjC,EALuD;AAMvD,yBAAiB,UAAjB,CAA4B,OAA5B,EANuD;AAOvD,mBAAW,aAAX,EAPuD;KAAhB,CAA3C,CAJS;;AAcT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,gBAAxB,EAA0C,UAAS,KAAT,EAAgB;AACtD,cAAM,cAAN,GADsD;AAEtD,YAAI,WAAW,EAAE,IAAF,EAAQ,IAAR,CAAa,QAAb,CAAX,CAFkD;AAGtD,mBAAW,QAAX,EAHsD;KAAhB,CAA1C,CAdS;CAAX,CAAF;;AAsBA,EAAE,YAAW;;AAET,QAAI,OAAO,OAAO,QAAP,CAAgB,IAAhB,CAAqB,OAArB,CAA6B,GAA7B,EAAkC,EAAlC,CAAP,CAFK;;AAIT,QAAG,SAAS,EAAT,EAAY;AACb,gBAAQ,GAAR,CAAY,YAAU,IAAV,CAAZ,CADa;AAEb,mBAAW,IAAX,EAFa;KAAf;;AAKA,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,mBAAxB,EAA6C,UAAS,KAAT,EAAgB;AACzD,mBADyD;KAAhB,CAA7C,CATS;CAAX,CAAF;;;;;ACjDI;;AAEJ,SAAS,SAAT,CAAmB,UAAnB,EAA8B;AAC1B,MAAE,OAAF,CAAU,YAAU,yBAAV,GAAoC,UAApC,EAAgD,UAAS,IAAT,EAAc;AACpE,UAAE,YAAF,EAAgB,IAAhB,CAAqB,EAArB,EADoE;AAEpE,gBAAQ,GAAR,CAAY,IAAZ,EAFoE;AAGpE,UAAE,IAAF,CAAO,KAAK,MAAL,CAAY,SAAZ,EAAuB,UAAS,GAAT,EAAc,IAAd,EAAmB;AAC7C,gBAAI,KAAK,eAAL,IAAwB,EAAxB,EAA2B;AAC3B,qBAAK,eAAL,GAAuB,2BAAvB,CAD2B;aAA/B,MAEO,KAAK,eAAL,GAAuB,sCAAoC,KAAK,eAAL,CAFlE;;AAIA,gBAAI,wMAIwB,KAAK,eAAL,8LAGK,KAAK,cAAL,uDACC,KAAK,eAAL,oDACH,KAAK,YAAL,4SAOF,KAAK,cAAL,6JAGG,KAAK,eAAL,0NAIJ,KAAK,0BAAL,kIAvBxB,CALyC;AAiC7C,cAAE,YAAF,EAAgB,MAAhB,CAAuB,MAAvB,EAjC6C;SAAnB,CAA9B,CAHoE;KAAd,CAA1D,CAD0B;CAA9B;;AA0CA,SAAS,gBAAT,CAA0B,WAA1B,EAAuC,YAAvC,EAAoD;AACpD,QAAI,mCACqB,YAAY,IAAZ,oBACf,YAAY,IAAZ,uBACA,YAAY,KAAZ,gGAE4D,YAAY,EAAZ,qBAA8B,YAAY,IAAZ,sBAAiC,YAAY,KAAZ,sEACzE,YAAY,EAAZ,0DACpB,wDAAmD,YAAY,EAAZ,qEAChC,YAAY,EAAZ,yJARvD,CADgD;;AAkBpD,WAAO,EAAP,CAlBoD;CAApD;;AAqBA,SAAS,6BAAT,GAAwC;AACpC,QAAI,UAAU,WAAW,SAAX,CAAV,CADgC;AAEpC,QAAI,aAAa,KAAb,CAFgC;AAGpC,QAAI,WAAW,EAAX;QAAe,YAAY,EAAZ,CAHiB;AAIpC,QAAG,OAAH,EAAW;AACP,YAAG,QAAQ,QAAR,EAAkB,WAAW,QAAQ,QAAR,CAAhC;AACA,YAAG,QAAQ,SAAR,EAAmB,YAAY,QAAQ,SAAR,CAAlC;KAFJ;AAIA,QAAI,6ZAOmF,oXAME,8nJAkFpD,+lCA/FjC,CARgC;AAoIpC,WAAO,GAAP,CApIoC;CAAxC;;AAuIA,SAAS,cAAT,CAAwB,MAAxB,EAA+B;AAC3B,QAAI,OAAO,WAAW,SAAX,CAAP,CADuB;AAE3B,YAAQ,GAAR,CAAY,2BAAZ,EAAwC,IAAxC,EAF2B;AAG3B,WAAO,EAAE,OAAF,CAAU,IAAV,EAAgB,EAAE,SAAF,CAAY,IAAZ,EAAkB,EAAC,IAAI,MAAJ,EAAnB,CAAhB,CAAP,CAH2B;AAI3B,YAAQ,GAAR,CAAY,0BAAZ,EAAuC,IAAvC,EAJ2B;AAK3B,eAAW,SAAX,EAAsB,IAAtB,EAL2B;AAM3B,YAAQ,QAAR,GAAmB,IAAnB,CAN2B;AAO3B,qCAP2B;CAA/B;;AAUA,EAAE,YAAW;;AAET,QAAI,aAAa,OAAb,CAAqB,SAArB,MAAoC,IAApC,EAA0C;AAC1C,gBAAQ,GAAR,CAAY,8BAAZ,EAD0C;KAA9C,MAEO;AACH,gBAAQ,GAAR,CAAY,yBAAZ,EADG;AAEH,gBAAQ,QAAR,GAAmB,WAAW,SAAX,CAAnB,CAFG;KAFP;;;;AAFS,KAWT,CAAE,eAAF,EAAmB,IAAnB,CAAwB,+BAAxB,EAXS;;AAaT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,cAAxB,EAAwC,UAAS,KAAT,EAAgB;AACpD,YAAI,UAAU,EAAV,CADgD;AAEpD,gBAAQ,IAAR,IAAgB,EAAE,IAAF,EAAQ,IAAR,CAAa,IAAb,CAAhB,CAFoD;AAGpD,gBAAQ,MAAR,IAAkB,EAAE,IAAF,EAAQ,IAAR,CAAa,MAAb,CAAlB,CAHoD;AAIpD,gBAAQ,OAAR,IAAmB,EAAE,IAAF,EAAQ,IAAR,CAAa,OAAb,CAAnB,CAJoD;AAKpD,gBAAQ,MAAR,IAAkB,MAAlB,CALoD;AAMpD,gBAAQ,QAAR,CAAiB,IAAjB,CAAsB,OAAtB,EANoD;AAOpD,gBAAQ,GAAR,CAAY,uBAAZ,EAAqC,OAArC,EAPoD;AAQpD,mBAAW,SAAX,EAAsB,QAAQ,QAAR,CAAtB,CARoD;;AAUpD,kBAAU,EAAE,IAAF,EAAQ,MAAR,GAAiB,MAAjB,GAA0B,IAA1B,CAA+B,KAA/B,EAAsC,EAAtC,CAAyC,CAAzC,CAAV,EAVoD;AAWpD,eAAO,OAAP,CAAkB,QAAQ,IAAR,UAAiB,QAAQ,KAAR,QAAnC,EAXoD;AAYpD,yCAZoD;KAAhB,CAAxC,CAbS;;AA4BT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,oCAAxB,EAA8D,UAAS,CAAT,EAAW;AACrE,YAAI,UAAU,EAAE,IAAF,EAAQ,MAAR,GAAiB,MAAjB,EAAV,CADiE;AAErE,YAAI,QAAQ,QAAQ,IAAR,CAAa,IAAb,CAAR,CAFiE;AAGrE,uBAAe,KAAf,EAHqE;AAIrE,gBAAQ,QAAR,CAAiB,EAAC,SAAQ,CAAR,EAAlB,EAA8B,GAA9B,EAAmC,YAAU;AACzC,uBAAW,YAAU;AAClB,kBAAE,oBAAF,EAAwB,MAAxB,GADkB;aAAV,EAET,GAFF,EADyC;SAAV,CAAnC,CAJqE;KAAX,CAA9D,CA5BS;;AAuCT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,yBAAxB,EAAmD,UAAS,KAAT,EAAgB;AAC/D,YAAI,UAAU,EAAV,CAD2D;AAE/D,gBAAQ,IAAR,IAAgB,EAAE,IAAF,EAAQ,MAAR,GAAiB,IAAjB,CAAsB,IAAtB,CAAhB,CAF+D;AAG/D,gBAAQ,MAAR,IAAkB,EAAE,IAAF,EAAQ,MAAR,GAAiB,IAAjB,CAAsB,MAAtB,CAAlB,CAH+D;AAI/D,gBAAQ,OAAR,IAAmB,EAAE,IAAF,EAAQ,MAAR,GAAiB,IAAjB,CAAsB,OAAtB,CAAnB,CAJ+D;AAK/D,gBAAQ,MAAR,IAAkB,MAAlB,CAL+D;AAM/D,gBAAQ,QAAR,CAAiB,IAAjB,CAAsB,OAAtB,EAN+D;AAO/D,mBAAW,SAAX,EAAsB,QAAQ,QAAR,CAAtB,CAP+D;AAQ/D,yCAR+D;KAAhB,CAAnD,CAvCS;;AAkDT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,0BAAxB,EAAoD,UAAS,KAAT,EAAgB;AAChE,YAAI,QAAQ,EAAE,IAAF,EAAQ,OAAR,CAAgB,UAAhB,EAA4B,IAA5B,CAAiC,IAAjC,CAAR,CAD4D;AAEhE,uBAAe,KAAf,EAFgE;KAAhB,CAApD,CAlDS;;AAuDT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,gBAAxB,EAA0C,UAAS,KAAT,EAAe;AACrD,uCADqD;KAAf,CAA1C,CAvDS;;AA2DT,MAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAwB,kBAAxB,EAA4C,UAAS,KAAT,EAAgB;AACxD,cAAM,cAAN,GADwD;AAExD,UAAE,kBAAF,EAAsB,WAAtB,CAAkC,QAAlC,EAFwD;AAGxD,UAAE,IAAF,EAAQ,QAAR,CAAiB,QAAjB,EAHwD;AAIxD,kBAAU,EAAE,IAAF,EAAQ,IAAR,CAAa,eAAb,CAAV,EAJwD;KAAhB,CAA5C,CA3DS;;AAkET,qCAlES;CAAX,CAAF","file":"es6.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {clearCart,refreshCart} from './engine/checkout.func.jsx';\r\n\r\n(function() {\r\n    [].slice.call( document.querySelectorAll( '.checkout' ) ).forEach( function( el ) {\r\n        var openCtrl = el.querySelector( '.checkout-button' ),\r\n            closeCtrl = el.querySelector( '.checkout-cancel' ),\r\n            closeMenuCtrl = el.querySelector( '.button-close' );\r\n\r\n        openCtrl.addEventListener( 'click', function(ev) {\r\n            ev.preventDefault();\r\n            classie.add( el, 'checkout-active' );\r\n            $('.overlay').addClass('visible');\r\n            $('#cartBottomPanel').removeClass('checkout-hidden');\r\n            refreshCart();\r\n        });\r\n\r\n        closeCtrl.addEventListener( 'click', function() {\r\n            classie.remove( el, 'checkout-active' );\r\n            $('.overlay').removeClass('visible');\r\n            $('#cartBottomPanel').addClass('checkout-hidden');\r\n            refreshCart();\r\n        });\r\n    });\r\n})();\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-24 16:23:35\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-24 17:22:55\r\n*/\r\n\r\nimport {refreshCart} from \"../engine/checkout.func.jsx\";\r\n\r\nexport function addToCart(id, name, price, flyObj){\r\n    var jsonObj = {};\r\n    jsonObj['id'] = id;\r\n    jsonObj['name'] = name;\r\n    jsonObj['price'] = price;\r\n    theCart.contents.push(jsonObj);\r\n    console.log('addToCart: theCart = ', theCart);\r\n    setStorage('theCart', theCart.contents);\r\n    flyToCart($(flyObj));cartBottomPanel\r\n    refreshCart();\r\n}\r\n\r\nexport function repeatOrder(items){\r\n    console.log('repeatOrder: items = ', items);\r\n    var hey = items.map(function(the, i) {\r\n        addToCart(the.menu_item_id, the.menu_item_name, the.menu_item_price, \"#\"+'singleItem-'+the.menu_item_id);\r\n    });\r\n\r\n}\r\n","\nfunction templateCartFooter(){\n    var totalPrice = 0;\n    var totalCount = 0;\n    $.each(theCart.contents, function(index, value){\n        totalPrice += value.price;\n        totalCount++;\n    });\n\n    var out = `\n        <div class=\"row\">\n            <div class=\"col-lg-8\">\n                <div class=\"price-total\">\n                    <b>Итого</b>: <span>${totalCount}</span> товаров на сумму <span>${totalPrice} <i class=\"fa fa-rouble\"></i></span>\n                </div>\n            </div>\n        </div>\n    `;\n\n    return out;\n}\n\nfunction hideCart(){\n    $('#cartBottomPanel').velocity('transition.flipYOut', { duration: 600 });\n}\n\nexport function clearCart(){\n    localStorage.removeItem('theCart');\n    theCart.contents = [];\n    console.log('clearCart: cleared');\n    hideCart();\n}\n\nexport function refreshCart(){\n    var cartPanel = $('#cartBottomPanel');\n    var cartContents = getStorage('theCart');\n    var tables = getStorage('theReservation');\n\n        var foodCount = 0, tablesCount = 0, totalCount;\n\n        if(cartContents !== null) foodCount = cartContents.length;\n        if(tables !== null) tablesCount = 1\n\n        totalCount = tablesCount+foodCount;\n        if( totalCount == 0 ) {\n            console.log('refreshCart: Cart is empty');\n            localStorage.removeItem('theCart');\n            clearCart();\n        } else {\n            $('.checkout-total').html(totalCount);\n\n            if(cartPanel.hasClass('cart-empty')){\n                cartPanel.removeClass('cart-empty');\n                cartPanel.css({'visibility': 'visible', 'height': '40px'}).velocity('transition.slideUpBigIn', { duration: 600 });\n            }\n            var uniqueList;\n            var uniqueCount = _.countBy(cartContents, \"id\");\n            var uniqueList = _.uniq(cartContents, \"id\");\n            var tablesList = _.uniq(tables, \"id\");\n\n            var cartTable = null;\n\n            var tablesList, foodList;\n\n            if(tables !== null) tablesList += pasteCartTable(tables);\n\n            $.each(uniqueList, function(key, value){\n               foodList += pasteCartElement(value,uniqueCount[value.id], key);\n            });\n\n            $('.checkout-contents').html(tablesList+foodList);\n            $('.checkout-footer').html(templateCartFooter());\n        }\n\n}\n\nfunction pasteCartTable(cartElement, elementCount, key){\n    var el = `\n    <tr class=\"reservation-${cartElement.type}\" data-id=\"${cartElement.id}\">\n        <td>${cartElement.name} </td>\n        <td>${cartElement.price} р.</td>\n        <td>\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n                <input type=\"text\" value=\"${cartElement.count}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n            </div>\n        </td>\n        <td>\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n        </td>\n    </tr>\n    `;\n\n    return el;\n}\n\nfunction pasteCartElement(cartElement, elementCount){\n    var el = `\n    <tr class=\"reservation-${cartElement.type}\" data-id=\"${cartElement.id}\">\n        <td>${cartElement.name}</td>\n        <td>${cartElement.price} р.</td>\n        <td>\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n                <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\n                <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n                <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\n            </div>\n        </td>\n        <td>\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n        </td>\n    </tr>\n    `;\n\n    return el;\n}\n","import {clearCart} from './checkout.func.jsx';\n\nfunction orderSuccess(data){\n    swal({\n      title:'Ваш заказ обработан! ',\n      text:`В течении нескольких минут вам перезвонит сотрудник ресторана для подтверждения заказа.`,\n      type:'success',\n      confirmButtonText: 'Продолжить',\n      buttonsStyling: 'false',\n      animation:'slide-from-top'\n    }, function(){\n        toastr.success('Посмотреть статус заказа можно в разделе \"История\"','Заказ принят!');\n    });\n}\n\nexport function createOrder(callback){\n    var cartContents = getStorage('theCart');\n    var uniqueList = _.uniq(cartContents, \"id\");\n    var uniqueCount = _.countBy(cartContents, \"id\");\n    var userProfile = getStorage('profile');\n\n    var paymentType = $('.checkout-payment-type').val(),\n        personsCount = $('#checkout-persons').val(),\n        street = $('#checkout-street').val(),\n        building = $('#checkout-building').val(),\n        usedBonus = $('#checkout-bonus').val(),\n        cash = $('#checkout-cash').val(),\n        comment = $('#checkout-comment').val(),\n        phone = $('#checkout-phone').val(),\n        porch = $('#checkout-porch').val(),\n        floor = $('#checkout-floor').val(),\n        apartment = $('#checkout-apartment').val(),\n        restaurauntId = currentCompany;\n\n    console.log('createOrder: uniqueList = ', uniqueList);\n    console.log('createOrder: uniqueCount = ', uniqueCount);\n    console.log('createOrder: userProfile = ', userProfile);\n\n    var summary = [];\n    var tables = [];\n\n    for(i = 0; i < uniqueList.length; i++){\n        var row = {};\n\n        if ( uniqueList[i].type == 'food'){\n            row['menu_item_id'] = uniqueList[i].id,\n            row['menu_item_price'] = uniqueList[i].price,\n            row['count'] = uniqueCount[uniqueList[i].id];\n            summary.push(row);\n        } else {\n            row['id'] = uniqueList[i].id,\n            row['price'] = uniqueList[i].price,\n            row['count'] = uniqueList[i].count,\n            row['hall'] = uniqueList[i].hall\n            tables.push(row);\n        }\n    }\n\n    console.log('createOrder: summary = ', summary);\n\n    var reservation = getStorage('theReservation');\n\n    var params = {\n        token: userToken,\n        restaurantId: currentCompany,\n        menuItems: summary,\n        street: street,\n        usedBonus: usedBonus,\n        porch: porch,\n        floor: floor,\n        apartment: apartment,\n        building: building,\n        payment_type: paymentType,\n        cash: cash,\n        persons_count: parseInt(personsCount),\n        comment: comment\n    };\n\n\n    $.ajax({\n        type: 'POST',\n        dataType: 'json',\n        contentType: \"application/json\",\n        url: serverUrl + '/api/v3/orders/create',\n        data: JSON.stringify(params),\n        success: function(data) {\n            if(!data.err){\n                $('.checkout-cancel').click();\n                clearCart();\n                console.log('createOrder: success: ', data);\n                orderSuccess(data);\n                if (callback) callback(data);\n            } else {\n                console.log('createOrder: ERROR: ', data.err);\n                toastr.error('Заполните пожалуйста все обязательные поля', 'Недостаточно информации');\n            }\n        }\n    });\n}\n","export function reservationAdded(){\n    toastr.success('Заявка на резервацвацию в вашей корзине', 'Стол добавлен');\n    swal({\n      title:'Стол добавлен в корзину! ',\n      text:`Вы можете прикрепить блюда, которые подадут к заказанному столу. Перейдите в меню для выбора блюд. Или продолжите самостоятельно.`,\n      type:'success',\n      confirmButtonText: 'Перейти в меню',\n      cancelButtonText: 'Продолжить',\n      showCancelButton: true\n    },\n    function(isConfirm) {\n      if (isConfirm) {\n        $('a[href=\"#tab-food\"').click();\n      }\n    });\n}\n\nfunction reservationSuccess(){\n    localStorage.removeItem('theReservation');\n    swal({\n      title:'Стол забронирован! ',\n      text:`В течении нескольких минут вам перезвонит сотрудник ресторана для подтверждения. Статус вашего заказа смотрите в разделе \"История\"`,\n      type:'success',\n      confirmButtonText: 'Продолжить',\n\n      animation:'slide-from-top'\n    }, function(){\n        toastr.success('Стол успешно забронирован!');\n    });\n\n}\n\n\nexport function createReservation(){\n    var table = getStorage('theReservation');\n\n    if ( table == null ){\n        toastr.error('Вы не выбрали ни одного стола на резервацию', 'Стол не выбран!');\n    } else {\n        var params = {\n            token: userToken,\n            restaurantId: currentCompany,\n            hallId: table.hall,\n            phone: $('#checkout-phone').val(),\n            tableId: table.id,\n            date: table.date\n        };\n\n        console.log('createReservation: params = ',params);\n\n        $.ajax({\n            type: 'POST',\n            dataType: 'json',\n            contentType: \"application/json\",\n            url: serverUrl + '/api/v3/reservation/create',\n            data: JSON.stringify(params),\n            success: function(data) {\n                if(!data.err){\n                    $('.checkout-cancel').click();\n                    console.log('createReservation: Success',   data);\n                    reservationSuccess(data);\n                } else {\n                    console.log('createReservation: ERROR: ', data.err);\n                    if(data.err == 'Table already reserved'){\n                        toastr.error('Стол уже зарезервирован на это время', 'Ошибка');\n                        localStorage.removeItem('theReservation');\n                    }\n                }\n            }\n        });\n    }\n    console.log('createReservation: Table = ', table);\n\n}\n\n\n","    function createProfileEditor(profile, callback) {\n\n        var birthDate = moment(profile.userBirthdate, \"MM-DD-YYYY\");\n        var userAvatar = imageBaseUrl + profile.userAvatarUrl;\n        if (profile.userAvatarUrl === undefined || profile.userAvatarUrl === null) {\n            userAvatar = 'images/samples/user.png';\n        }\n\n        var htmlTemplate =\n            `<div class=\"user-editor container\">\n           <div class=\"row\">\n              <div class=\"col-lg-2 text-center\">\n                 <div class=\"avatar round\">\n                    <img src=\"${userAvatar}\" alt=\"...\">\n                 </div>\n                 <div class=\"btn-group\">\n                    <a class=\"button light small\">Изменить аватар</a>\n                 </div>\n              </div>\n              <div class=\"col-lg-10 the-info\">\n                 <div class=\"row delivery\">\n                    <div class=\"col-lg-4\">\n                     <div class=\"title user-name-edit\">\n                        <div class=\"form-group\" style=\"width:48%; display: inline-block\">\n                          <label class=\"control-label\" for=\"userName\">Имя</label>\n                          <input type=\"text\" class=\"form-control focus-out autoupdate\" data-id=\"name\" id=\"userName\" value=\"${profile.userName}\">\n                        </div>\n                        <div class=\"form-group\" style=\"width:48%; display: inline-block\">\n                          <label class=\"control-label\" for=\"userSurname\">Фамилия</label>\n                          <input type=\"text\" class=\"form-control focus-out autoupdate\" data-id=\"surname\" id=\"userSurname\" value=\"${profile.userSurname}\">\n                        </div>\n                     </div>\n                    </div>\n                    <div class=\"col-lg-3\">\n                       <div class=\"form-group\">\n                          <label class=\"control-label\" for=\"userEmail\">Электронная почта</label>\n                          <input type=\"email\" class=\"form-control focus-out autoupdate\" data-id=\"email\" id=\"userEmail\" value=\"${profile.userEmail}\">\n                       </div>\n                    </div>\n                    <div class=\"col-lg-3\" style=\"display:none\">\n                       <div class=\"form-group\">\n                          <label class=\"control-label\" for=\"userPhone\">Номер телефона</label>\n                          <input type=\"tel\" class=\"form-control focus-out\" id=\"userPhone\" value=\"${profile.userPhone}\">\n                       </div>\n                    </div>\n                    <div class=\"col-lg-3\">\n                       <div class=\"form-group\">\n                          <label class=\"control-label\" for=\"userBirth\">Дата рождения</label>\n                          <input type=\"date\" class=\"form-control focus-out\" data-id=\"birthdate\" id=\"userBirth\" value=\"${profile.userPhone}\">\n                       </div>\n                    </div>\n                    <div class=\"col-lg-3\" style=\"display:none\">\n                       <div class=\"form-group\">\n                          <label class=\"control-label\" for=\"userCity\">Город</label>\n                          <input type=\"text\" class=\"form-control\" id=\"userCity\" value=\"Оренбург\">\n                       </div>\n                    </div>\n                 </div>\n                 <div class=\"line delivery\" style=\"padding-top:20px\">\n                    <div id=\"profile-addresses\" data-id=\"1\" class=\"inline-block float-left\">\n                       <i class=\"icon icon-location-pin\"></i>\n                       <div class=\"box\">\n                          <div class=\"form-group label-placeholder is-empty\" title=\"Введите адреса для доставки\">\n                             <input type=\"text\" class=\"form-control\" id=\"profile-address-1\">\n                          </div>\n                       </div>\n                    </div>\n                    <div class=\"box\">\n                       <a href=\"#\" class=\"button button-plus tip\" id=\"profile-address-add\">\n                       <i class=\"icon fa fa-plus-square-o\"></i>\n                       <span>Добавить адрес</span>\n                       </a>\n                    </div>\n                 </div>\n              </div>\n           </div>\n           <div class=\"row buttons-line\">\n              <div class=\"col-lg-2\">\n              </div>\n              <div class=\"col-lg-10 buttons-tabs\">\n                 <div class=\"btn-group btn-group-justified\" data-tabs=\"tabs-profile\">\n                    <a href=\"#tab-order-history\" class=\"tab-toggle btn button light\" id=\"tabOrderHistory\">\n                    <span>История заказов</span>\n                    </a>\n                    <a href=\"#tab-reservation-history\" class=\"tab-toggle btn button light\">\n                    <span>История бронирования</span>\n                    </a>\n                    <a href=\"#tab-comments-history\" class=\"tab-toggle btn button light\">\n                    <span>Оставленные отзывы</span>\n                    </a>\n                    <a id=\"buttonReturnShop\" href=\"#\" class=\"btn button main\">\n                    <span>Вернуться к ресторану</span>\n                    </a>\n                 </div>\n              </div>\n           </div>\n        </div>`;\n        $('#editUserProfile').prepend(htmlTemplate);\n        if (callback) callback();\n    }\n\n    function emptyProfile() {\n        var token = userToken;\n        getUserProfile(token, function(data) {\n            var userBonus = getUserBonus(userToken);\n            var userInfo = data;\n            $('#userBadgeTop').html(`\n          <div class=\"user-text\" id=\"buttonEmptyProfile\">\n            <b class=\"user-name\">Добро пожаловать!</b>\n            <a class=\"r-bonus\">У вас <b>${userBonus}</b> <span class=\"fa fa-rouble\"></span>-бонусов</a>\n          </div>\n        `);\n        });\n    }\n\n    function refreshUserProfile() {\n        var token = userToken;\n        getUserProfile(token, function(data) {\n            var userBonus = getUserBonus(userToken);\n            var userInfo = data;\n            var userAvatar = imageBaseUrl + data.userAvatarUrl;\n            if (data.userAvatarUrl === undefined || data.userAvatarUrl === null) {\n                userAvatar = 'images/samples/user.png';\n            }\n            $('#userBadgeTop').html(`\n          <div class=\"user-text\">\n            <b class=\"user-name\">${data.userName} ${data.userSurname}</b>\n            <a class=\"r-bonus\"><b>${userBonus}</b> <span class=\"fa fa-rouble\"></span>-бонусов</a>\n          </div>\n          <div class=\"user-avatar\" style=\"background-image:url(${userAvatar})\"></div>\n        `);\n        });\n    }\n\n    function getUserBonus(userToken) {\n        var bonus;\n        $.ajax({\n            url: serverUrl + '/api/v2/user/bonus/' + userToken,\n            async: false,\n            dataType: 'json',\n            success: function(data) {\n                bonus = data.result.userBonus;\n            }\n        });\n        return bonus;\n    }\n\n    function editUserField(fieldId, callback) {\n        var theOptions = {};\n        var theParameter = $('#' + fieldId).data('id');\n\n        theOptions['userToken'] = userToken;\n        theOptions['cityId'] = cityId;\n        theOptions[theParameter] = $('#' + fieldId).val();\n\n        console.log('editUserField: AJAX: ' + theParameter + ' = ' + fieldId);\n        $.ajax({\n            url: serverUrl + '/api/v2/user/profile/edit',\n            dataType: 'json',\n            type: 'POST',\n            data: theOptions,\n            success: function(data) {\n                console.log('editUserField: ', data);\n                if (data.err === undefined || data.err === null) {\n                    toastr.success('Данные профиля сохранены');\n                }\n                $('#' + fieldId).parent().addClass('has-success');\n                refreshUserProfile();\n                if (callback) callback(data);\n            }\n        });\n    }\n\n    $(function() {\n\n        getUserProfile(userToken, function(data) {\n\n            console.log('getUserProfile:', data);\n            createProfileEditor(data, function() {\n                $('.user-editor .control-label').each(function() {\n                    $(this).append('<i class=\"status-icon its-ok icon-check\"></i>');\n                });\n            });\n        });\n\n        $(document).on('click', '#buttonReturnShop', function(event) {\n            easyVelocity('.page-wrapper', 'transition.flipXOut', function() {\n                easyVelocity('#pageCompany', 'transition.flipXIn');\n            });\n        });\n\n        refreshUserProfile();\n\n        $(document).on('focusout', \".user-editor .autoupdate\", function() {\n            var fieldId = $(this).attr('id');\n            console.log('Editing: #' + fieldId + ', data-id=' + $(this).data('id'));\n            editUserField(fieldId);\n        });\n\n    });\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 13:41:13\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 22:30:31\r\n*/\r\n\r\nvar CompanyListActions = Reflux.createActions([\r\n    'fetchList', 'updateData', 'filterData', 'selectByCuisine', 'getCurrentCuisine'\r\n]);\r\n\r\nmodule.exports = CompanyListActions;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 20:10:48\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 20:37:37\r\n*/\r\n\r\nvar CuisinesActions = Reflux.createActions([\r\n    'fetchList', 'getCuisineById'\r\n]);\r\n\r\nmodule.exports = CuisinesActions;\r\n","var CompanyDetailsStore = require('./stores/companyDetailsStore.js');\nvar CompanyListActions = require('./actions/companyListActions.js');\n\nvar CompanyDetails = React.createClass({\n    mixins: [Reflux.connect(CompanyDetailsStore, 'companyData')],\n    limit: 12,\n    getInitialState: function() {\n      return {\n        data: [],\n        companyData: []\n      };\n    },\n\n    componentDidMount: function() {\n\n    },\n\n  render: function() {\n    var company = this.state.companyData;\n    if(company.restaurant_main_image) var image = imageBaseUrl+company.restaurant_main_image;\n\n    return (\n    <div className=\"container\">\n        <div className=\"row\">\n            <div className=\"col-lg-2 col-xs-12 text-center\">\n                <div className=\"logo round\">\n                    <img src={image} />\n                </div>\n                <div className=\"title\"><h2>{company.restaurant_name}</h2><span>{company.restaurant_info}</span></div>\n            </div>\n            <div className=\"col-lg-10 the-info\">\n                <div className=\"line types\">\n                    <i className=\"icon icn-restaurant\"></i>\n                    <a className=\"food\" href=\"#\">Европейская</a>\n                    <a className=\"food\" href=\"#\">Японская</a>\n                    <a className=\"food\" href=\"#\">Китайская</a>\n                </div>\n                <div className=\"line delivery\">\n                    <i className=\"icon icn-cab\"></i>\n                    <div className=\"box cost\">\n                        <span className=\"detail-title\">стоимость</span>\n                        <b>{company.restaurant_delivery_cost}</b>\n                    </div>\n                    <div className=\"box time\">\n                        <span className=\"detail-title\">среднее время</span>\n                        <b>{company.restaurant_delivery_time} минут</b>\n                    </div>\n                    <div className=\"box min\">\n                        <span className=\"detail-title\">мин. сумма</span>\n                        <b>{company.restaurant_min_order} <i className=\"rouble\">e</i></b>\n                    </div>\n                    <div className=\"box min\">\n                        <span className=\"detail-title\">средний чек</span>\n                        <b>{company.restaurant_average_check} <i className=\"rouble\">e</i></b>\n                    </div>\n                    <div className=\"box pay\">\n                        <div className=\"cards\">\n                            <div className=\"card-icon mastercard\"><img src=\"images/cards/mastercard.png\" /></div>\n                            <div className=\"card-icon visa\"><img src=\"images/cards/visa.png\" /></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div className=\"row buttons-line\">\n            <div className=\"col-lg-2\">\n            </div>\n            <div className=\"col-lg-6 buttons-tabs\" data-tabs=\"tabs-shop\">\n                <a className=\"button tab-toggle light\" data-tab=\"tab-comments\" href=\"#tab-comments\">\n                    <span>Отзывы</span>\n                </a>\n                <a className=\"button tab-toggle light active\" data-tab=\"tab-food\" href=\"#tab-food\">\n                    <span>Доставка</span>\n                </a>\n                <a className=\"button tab-toggle light\" data-tab=\"tab-reservation\" href=\"#tab-reservation\">\n                    <span>Бронирование</span>\n                </a>\n            </div>\n            <div className=\"col-lg-4 buttons-reserv\">\n                <a className=\"button light\" href=\"#\">\n                    <i className=\"icon icon-eye\"></i>\n                    <span>3D тур</span>\n                </a>\n                <button className=\"button main screen-toggle\" data-screen=\"pageCompanyList\" id=\"buttonRestaurantList\">\n                    <i className=\"icon icon-list\"></i>\n                    <span>К списку ресторанов</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    );\n  }\n});\n\nReactDOM.render(\n  <CompanyDetails companyId=\"1\"/>,\n  document.getElementById('companyDetails')\n);\n","var ButtonMore = require('./components/buttonMore.js');\nvar CuisinesList = require('./cuisinesList.react.jsx');\nvar CompanyListStore = require('./stores/companyListStore.js');\nvar CompanyListSidebar = require('./components/companyListSidebar.js');\nvar QuicklyLogo = require('./components/quicklyLogo.js');\nvar CuisinesActions = require('./actions/cuisinesActions.js');\nvar SingleCompany = require('./components/singleCompany.js');\nvar CompanyListActions = require('./actions/companyListActions.js');\nvar CuisinesList = require('./companyList.react.jsx');\n// CompanyListActions.selectByCuisine(this.props.cuisine);\n\nvar CompanyListHeader = React.createClass({\n    render: function(){\n        var cuisine = this.props.cuisine;\n            return (\n            <section className=\"company-list-header\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-4\">\n                            <div className=\"row main-logo\">\n                                <div className=\"col-lg-6\">\n                                    <div className=\"cuisine-thumb\">\n                                        <img src={imageBaseUrl+cuisine.cuisine_image} alt={cuisine.cuisine_name} />\n                                    </div>\n                                </div>\n                                <div className=\"col-lg-6 text\">\n                                    <h1>{cuisine.cuisine_name}</h1>\n                                    <p>Выберите ресторан из списка</p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-6 cuisine-select-row\">\n                            <button className=\"cuisine-select\">Пицца</button>\n                            <button className=\"cuisine-select\">Роллы</button>\n                            <button className=\"cuisine-select\">Русская кухня</button>\n                        </div>\n                    </div>\n                    <div className=\"row bottom-line\">\n                        <div className=\"col-lg-8\">\n                            <div className=\"back-to-home align-left back-left\">\n                                <button className=\"button light screen-toggle\" data-screen=\"pageMain\" id=\"buttonPageMain\">\n                                    <i className=\"icon icon-arrow-left\"></i><span> К списку</span>\n                                </button>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-4 align-right\">\n\n                        </div>\n                    </div>\n                </div>\n            </section>\n            )\n\n    }\n});\n\nvar CompanyList = React.createClass({\n    mixins: [Reflux.connect(CompanyListStore, 'companyData')],\n    limit: 5,\n    cuisineId: 0,\n    getInitialState: function() {\n      return {\n        data: [],\n        companyData: [],\n        cuisines: []\n      };\n    },\n    componentDidMount: function() {;\n        this.state.cuisines = getStorage('cuisines');\n    },\n    loadMore: function(){\n        this.limit += 5;\n        CompanyStore.updateData();\n    },\n    render: function() {\n        var cuisineId = CompanyListStore.getCurrentCuisine();\n\n        var theData = this.state.companyData;\n        console.log('CompanyList: companyData = ', this.state.companyData);\n        var totalList = this.state.companyData.map(function(the, i) {\n            return <SingleCompany company={the} key={i} />\n        });\n\n        console.log('CompanyList: this.state.cuisines = ', this.state.cuisines);\n\n        var overall, single, cuisines, cuisine;\n\n        console.log('CompanyListHeader: cuisineId = ', cuisineId);\n        if (cuisineId > 0) {\n            cuisines = getStorage('cuisines');\n            single = _.where(cuisines,{cuisine_id:cuisineId});\n\n            single.forEach(function (val, index) {\n                cuisine = <CompanyListHeader cuisine={val} />;\n            });\n        }\n        console.log('CompanyListHeader: cuisine = ', cuisine);\n\n        return (\n        <div className=\"company-list-wrap\">\n            <div className=\"gray header-gray\">\n                {cuisine}\n            </div>\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"no-padding col-lg-9\">\n                        <div className=\"company-list\" id=\"companyList\">\n                            <div>\n                                <div className=\"row\">\n                                    {totalList}\n                                </div>\n                                <div className=\"full-width align-center\">\n                                    <ButtonMore onClick={this.loadMore} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-lg-3 mobile sidebar\" id=\"companyListSidebarWrap\">\n                        <div className=\"button-close\" id=\"menu-close\"><i className=\"icn-cancel\"></i></div>\n                        <div className=\"button-open\" id=\"menu-open\"><i className=\"icn-menu\"></i></div>\n                        <div className=\"sidebar-wrap\">\n                            <div id=\"companyListSidebar\" className=\"company-list-sidebar\">\n                                <CompanyListSidebar />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        )\n    }\n});\n\n\nReactDOM.render(<CompanyList />, document.getElementById('pageCompanyList'));\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-30 02:11:05\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-30 02:22:37\r\n*/\r\n\r\nvar ButtonBack = React.createClass({\r\n    render: function(){\r\n        return(\r\n            <div className=\"button-back\">\r\n                <i className=\"icon-arrow-left\"></i>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ButtonBack;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-24 15:45:19\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-24 17:07:04\r\n*/\r\n\r\nvar ButtonMore = React.createClass({\r\n    render: function (){\r\n        return (\r\n            <button onClick={this.props.onClick} className=\"button button-more\"><i className=\"icon-reload\"></i> Загрузить ещё</button>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ButtonMore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 19:17:52\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 19:20:04\r\n*/\r\n\r\nvar CompanyListSidebar = React.createClass({\r\n    filterCardCourier: function(e){\r\n        console.log(e.target.value);\r\n        if ( e.target.value == 'on' ){\r\n            CompanyListActions.filterData(3);\r\n        }\r\n    },\r\n    render: function(){\r\n        return(\r\n        <div className=\"sidebar-wrap company-list-sidebar\">\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Бесплатная доставка</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Есть акции</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" onChange={this.filterCardCourier} name=\"somename\" /> <span className=\"filter-name\">Оплата картой курьеру</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Онлайн оплата</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Еда за баллы</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Работает сейчас</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Рядом со мной</span></label>\r\n            </div>\r\n            <div className=\"checkbox control-item\">\r\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Новые</span></label>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = CompanyListSidebar;\r\n","var CuisinesStore = require('../stores/cuisinesStore.js');\nvar CompanyListActions = require('../actions/companyListActions.js');\n\nimport {showScreen} from '../../screens.jsx';\n\nvar SingleCuisine = React.createClass({\n    toggleCategory: function(cuisine){\n        CompanyListActions.selectByCuisine(this.props.cuisine);\n        showScreen('pageCompanyList');\n    },\n    render: function(){\n        return(\n        <div onClick={this.toggleCategory} className=\"cuisine-select-item col-lg-4 col-xs-6 category-item\" data-id={this.props.cuisine.cuisine_id}>\n            <a href=\"#\">\n                <div className=\"image\">\n                    <img src={imageBaseUrl+this.props.cuisine.cuisine_image} alt=\"...\" />\n                    <div className=\"overlay\"></div>\n                </div>\n                <div className=\"food-type\">\n                    <b>{this.props.cuisine.cuisine_name}</b>\n                    <div className=\"information\">\n                        <span className=\"total total-delivery\">\n                            <span>Доставка:</span>\n                            <span className=\"sum\"> {this.props.cuisine.delivery_count}</span>\n                        </span>\n                        <span className=\"total total-delivery\">\n                            <span>Бронь:</span>\n                            <span className=\"sum\"> {this.props.cuisine.reservations_count}</span>\n                        </span>\n                    </div>\n                </div>\n            </a>\n        </div>\n        )\n    }\n});\n\n\nvar CuisinesSelectList = React.createClass({\n    mixins: [Reflux.connect(CuisinesStore, 'cuisinesData')],\n    limit: 5,\n    getInitialState: function() {\n      return {\n        data: [],\n        cuisinesData: []\n      };\n    },\n    componentDidMount: function() {\n\n    },\n    render: function() {\n        var allCuisines = this.state.cuisinesData;\n        var list = allCuisines.map(function(the, key) {\n            if (key < 6) return (\n                <SingleCuisine cuisine={the} key={key} />\n            )\n        });\n        return (\n        <section className=\"the-tab tab-active main-categories types-grid\">\n            <div className=\"container\">\n                <div className=\"row\" id=\"cuisinesList\">\n                    {list}\n                </div>\n            </div>\n        </section>\n        )\n    }\n});\n\nmodule.exports = CuisinesSelectList;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 19:22:53\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 19:24:29\r\n*/\r\n\r\nvar QuicklyLogo = React.createClass({\r\n    render: function(){\r\n        return (\r\n            <svg className=\"logo-svg zoomer-image\" xmlns=\"http://www.w3.org/2000/svg\" id=\"svg-quickly\" fill-rule=\"evenodd\" viewBox=\"0 0 13214.144 12912.382\" clip-rule=\"evenodd\" image-rendering=\"optimizeQuality\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\">\r\n              <g>\r\n                <g>\r\n                  <path className=\"disappear svg-text\" fill-rule=\"nonzero\" d=\"M2552.117 9764.941c-82.4915 24.232-156.2183 36.6058-220.1493 36.6058-163.4363 0-323.2637-48.9794-477.4198-147.4537-97.4433-62.8997-225.3052-172.201-384.617-327.3882-100.5365 11.3426-188.6994 17.014-264.4885 17.014-347.4957 0-636.7317-121.1596-867.1924-363.994C112.4296 8741.5302-.481 8448.1697-.481 8099.643c0-354.198 121.1596-645.4964 363.994-874.4105 238.71-224.7894 535.6796-336.6686 889.8777-336.6686 351.1047 0 638.2784 117.5503 860.49 353.6824 218.087 231.492 327.3883 524.337 327.3883 877.504 0 452.1567-176.8412 793.981-530.5237 1026.504 117.0348 168.0766 210.3534 286.6582 278.9245 355.2293 86.1006 85.0695 206.7445 172.7167 362.4473 263.4574zm-499.5894-1567.855c0-265.5196-74.2424-496.496-224.274-693.4445-163.4363-216.0247-374.3053-323.7793-634.6693-323.7793-244.3812 0-441.3298 82.4915-591.3613 247.9902-142.8135 159.3118-214.478 362.9628-214.478 608.8908 0 263.4573 75.2735 493.918 226.3362 691.8978 166.0142 216.0248 376.8833 323.7794 634.6694 323.7794 238.71 0 434.6273-84.0383 586.2055-253.146 144.876-161.8896 217.5716-362.4472 217.5716-602.1883zM4091.1 9309.1754h-395.4438v-280.9868l-250.0525 274.2844c-79.3982 27.3252-153.125 41.2457-219.6338 41.2457-183.5438 0-310.3745-53.6196-378.9456-160.343-52.5884-83.007-79.9137-221.696-80.945-417.098-1.031-57.744-.5155-140.2355 1.5468-247.4745 3.609-114.457 5.1558-196.9486 5.1558-249.0214 0-252.1148-24.232-459.3748-72.6957-621.78h464.5305c-43.8236 117.0348-65.4776 256.2393-65.4776 415.551v628.9982c0 123.2217 16.4983 207.7756 50.0105 254.177 40.2146 56.713 118.5816 85.0695 234.5853 85.0695 85.0694 0 187.6683-28.872 308.3122-86.616v-838.836c0-166.53-22.1696-319.1393-65.9933-458.3438H4091.1c-44.3392 142.298-65.9932 252.6304-65.9932 330.4818v806.8705c0 211.3846 21.654 385.648 65.9932 523.8213zm756.86-2089.0985c0 64.962-18.5606 122.7062-55.1662 174.779-41.7613 55.1662-93.834 83.007-156.2184 83.007-67.54 0-122.1906-26.294-164.983-79.398-38.1524-48.9794-57.2286-107.7546-57.2286-178.388 0-67.54 19.0762-125.7996 57.2285-175.81 41.7614-55.1663 95.381-83.0072 161.374-83.0072 61.3532 0 113.9416 28.3564 156.2185 85.0694 39.1835 51.5572 58.7752 109.817 58.7752 173.7478zm21.1385 2089.0985h-465.046c43.8235-135.5955 65.993-300.5786 65.993-494.9493v-622.2956c0-146.938-2.5778-239.741-6.7023-279.9557-6.7025-75.789-26.8098-163.4364-59.2908-263.973h465.046c-32.481 126.3152-52.5883 214.478-59.2907 262.9418-4.6402 42.7925-6.7025 131.471-6.7025 266.0353v637.2472c0 196.9486 21.654 361.416 65.9933 494.9493zm1494.1282-343.371l-130.9553 318.6236c-110.848 39.699-219.1182 59.2907-324.295 59.2907-246.959 0-443.392-76.8203-586.721-230.4608-140.2357-149.0005-210.3536-348.0113-210.3536-596.517 0-271.191 80.945-489.7937 243.35-654.7768 161.8898-166.0143 378.9457-248.5058 650.6522-248.5058 133.0176 0 239.741 11.858 320.1703 35.5745l-17.0138 387.7102c-76.8203-69.0867-131.9865-114.457-167.561-134.5644-59.2908-35.059-128.3775-53.104-205.7133-53.104-152.6094 0-272.7377 60.8376-361.9317 182.5126-78.8825 109.817-118.5816 243.35-118.5816 402.1463 0 182.5126 40.73 332.0285 122.1905 448.5478 93.8342 131.9865 227.883 197.9798 402.662 197.9798 118.066 0 246.4434-38.1524 384.1012-114.457zm1617.8655 343.371h-492.3714c7.7336-53.104-64.962-201.073-217.5715-443.9076-92.2874-141.2668-185.0904-282.018-278.409-423.2848v447.001c0 118.066 2.0623 190.7617 6.7025 218.6026 5.1557 43.308 25.263 110.3324 59.2908 201.5887h-465.046c32.481-87.6473 53.1038-170.1388 60.8374-245.4123 3.609-38.1524 5.1557-125.7997 5.1557-260.8796V7410.323c0-137.1423-22.1696-263.4574-65.9932-379.4612l465.046-93.834c-44.339 148.4847-65.9932 311.921-65.9932 489.278v997.1165c82.4916-118.066 164.983-237.1632 248.5058-356.776 112.395-180.9658 167.561-320.686 163.952-418.6446h551.6623c-130.9553 100.5366-244.3812 215.5092-341.8243 345.4334-15.4672 20.623-108.7858 160.8586-278.9246 421.2226 151.0627 236.6476 251.0837 391.8348 300.5786 464.015 117.5505 169.1076 232.0075 313.4678 344.4022 430.5027zm583.1122 0h-464.5306c43.8237-168.0765 65.9933-337.1842 65.9933-506.292V7571.1816c0-172.7167-22.1695-353.167-65.9932-540.3197l464.5306-93.834c-43.8237 230.9762-65.9933 436.6895-65.9933 616.1086v1288.415c0 161.8896 22.1697 317.5924 65.9934 467.624zm1744.1807-1661.1736c-111.879 159.3118-226.336 405.7553-344.9177 738.815-160.343 455.2502-260.8795 726.4412-300.5786 813.573-128.893 288.2047-277.8934 496.496-447.001 625.389H8800.852c139.72-116.0038 250.568-232.523 331.513-349.0424 68.571-97.9587 144.8757-240.2567 228.914-426.8938l-293.8762-722.3166c-124.7684-287.1738-252.6303-513.51-385.648-679.5243h457.828c24.7476 125.284 86.6163 313.468 184.575 564.036 73.7268 180.9658 146.4225 361.9317 218.6026 542.8975 62.3842-180.9658 124.253-362.4472 186.637-544.4442 72.6958-227.883 107.239-415.5512 103.63-562.4893h475.3577z\" className=\"fil0\"/>\r\n                  <path className=\"disappear svg-line\" fill-rule=\"nonzero\" d=\"M6594.203 1912.7767c1257.9962-46.4015 2415.9713 421.738 3271.3056 1215.7192 831.1023 771.8115 1376.0622 1852.4508 1448.2423 3068.17l.5154 13.405-202.6198 7.7335 202.6198-7.7336c2.0623 30.4186 3.0935 60.3218 4.6402 90.7406 40.2146 1094.0442-308.3122 2112.2993-922.3587 2921.7476l-188.184-88.163c602.704-778.514 946.5906-1764.8035 907.407-2825.851-1.031-30.4188-2.5777-60.8375-4.1244-90.7407l-1.0312-11.3426c-69.0867-1160.553-589.8146-2192.213-1383.2802-2929.4813-817.182-758.4067-1923.5998-1205.4078-3125.3986-1161.0686-1202.3143 44.3393-2272.6422 571.7697-3031.5645 1388.436-758.4066 817.182-1205.4076 1923.6-1161.0684 3125.3986-146.938 4.6402-137.1422 22.6852-203.1355 7.7336-46.4014-1258.5117 421.7382-2415.9713 1215.7193-3271.3055 793.9812-854.8187 1914.3196-1406.9965 3172.3157-1453.398z\" className=\"fil0\"/>\r\n                  <path className=\"the-path disappear svg-red-angle\" id=\"svg-logo-red\" fill=\"#e80707\" d=\"M9674.2313 9575.726l3266.6654 1479.6923-1312.6468 1493.097z\" className=\"fil2\"/>\r\n                  <path className=\"the-path disappear svg-blue\" id=\"svg-logo-blue\" fill=\"#1620e0\" d=\"M1893.7314 6475.075l-1593.6337 2.0623c-2.0623-1716.3398 677.462-3363.593 1889.572-4578.7966l1123.9475 1120.854c-877.504 880.0816-1420.4014 2094.254-1420.4014 3435.2574 0 6.7025.5156 13.9206.5156 20.623z\" className=\"fil3\"/>\r\n                  <path className=\"the-path disappear svg-green\" id=\"svg-logo-green\" fill=\"#109634\" d=\"M3303.3057 3030.0216l-1131.1653-1128.072C3384.2506 686.2305 5029.4414 2.5817 6745.7814.004c945.0437-1.0313 1878.745 204.682 2736.1415 602.7037L8812.1945 2043.732c-624.358-291.2983-1319.8648-454.219-2054.0396-454.219-1351.3147 0-2573.2208 551.1466-3454.8493 1440.5086z\" className=\"fil4\"/>\r\n                  <path className=\"the-path disappear svg-yellow\" id=\"svg-logo-yellow\" fill=\"#f0c800\" d=\"M8800.852 2038.5763l668.697-1439.4776c2280.8915 1060.0165 3741.5075 3345.548 3744.601 5860.509 2.0622 1325.0207-402.662 2610.8577-1148.695 3689.9503l-1446.6955-735.7215c629.5137-819.7598 1003.819-1845.7485 1003.819-2959.3844 0-1957.112-1155.3972-3644.064-2821.7265-4415.8757z\" className=\"fil5\"/>\r\n                  <path className=\"the-path disappear svg-red\" id=\"svg-logo-red-2\" fill=\"#e00909\" d=\"M6600.39 12910.447c-2169.528-53.104-4062.1934-1170.3488-5192.8432-2839.7716h2080.8494c865.13 782.123 2011.7626 1259.0273 3269.7588 1259.0273 1071.359 0 2062.2887-345.949 2867.097-932.1545l768.2025 1394.6228c-1078.0615 735.7215-2388.646 1152.3038-3793.0646 1118.276z\" className=\"fil6\"/>\r\n                </g>\r\n              </g>\r\n            </svg>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = QuicklyLogo;\r\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 20:59:52\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-30 02:26:15\n*/\n\nvar CuisinesList = require('../cuisinesList.react.jsx');\n\n//<span className=\"desc\"><i>наличными</i><i>картой курьеру</i></span>\n//<span className=\"desc\">только наличные</span>\n\nvar PaymentTypes = React.createClass({\n    render: function(){\n        console.log('payment: ', this.props.type);\n        if (this.props.type == 0) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-payment-cash\"></i></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>только наличными</span>\n                </div>\n            </div>\n        );\n        if (this.props.type == 1) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-card-detail\" /></span>\n                    <span><i className=\"pay-icon fi-payment-cash\" /></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>наличными</span>\n                     <span>картой курьеру</span>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar PaymentTypesCards = React.createClass({\n    render: function(){\n        console.log('payment: ', this.props.type);\n        if (this.props.type == 0) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-payment-cash\"></i></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>только наличными</span>\n                </div>\n            </div>\n        );\n        if (this.props.type == 1) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-card-detail\" /></span>\n                    <span><i className=\"pay-icon fi-payment-cash\" /></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>наличными</span>\n                     <span>картой курьеру</span>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar StarYes = React.createClass({\n    render: function(){\n        return(\n            <i className=\"fa yes fa-star\"></i>\n        )\n    }\n});\n\nvar StarNo = React.createClass({\n    render: function(){\n        return(\n            <i className=\"fa yes fa-star-o\"></i>\n        )\n    }\n});\n\nvar RatingStars = React.createClass({\n    render: function(){\n        var count = this.props.count;\n        var stars = '';\n        for(var i=0; i<count; i++){\n            stars += '<i className=\"fa yes fa-star\"></i>';\n        }\n        return (\n        <div className=\"rating\">\n            {stars}\n        </div>\n        )\n    }\n});\n\nvar SingleCompany = React.createClass({\n    render: function(){\n        var total = 0;\n        var that = this.props.company;\n        var paymentType;\n\n        var imageUrl = imageBaseUrl+that.restaurant_main_image;\n        var bgImage = imageBaseUrl+that.restaurant_interior_image;\n\n        var style = {\n            backgroundImage: 'url('+bgImage+')',\n        }\n        var rating = 4;\n        if( that.restaurant_online_payment = 1 )\n        console.log('SingleCompany: ', this.props.company);\n        // <PaymentTypes type={that.restaurant_payment_type} />\n        return(\n        <div className=\"col-lg-6\">\n        <section style={style} className=\"company-item company-toggle\" data-company={that.restaurant_id}>\n            <div className=\"the-box row\">\n                <div className=\"company-logo col-lg-3 col-xs-4 col-sm-4\">\n                    <div className=\"image-thumb\">\n                        <img src={imageUrl} />\n                    </div>\n                    <div className=\"c-payment\">\n                        <img src=\"images/cards/mastercard.png\" alt=\"...\" />\n                        <img src=\"images/cards/visa.png\" alt=\"...\" />\n                        <div className=\"is-online\">\n                            онлайн оплата\n                        </div>\n                    </div>\n                </div>\n                <div className=\"company-description col-lg-9 col-xs-8 col-sm-8\">\n                    <h2>\n                        {that.restaurant_name}\n                        <div className=\"rating\">\n                            {rating}\n                        </div>\n                    </h2>\n                    <div className=\"address\">\n                        <span>{that.restaurant_address}</span>\n                    </div>\n                    <div className=\"text-line cuisines-list\">\n                        <span className=\"text-line\">\n                            <CuisinesList cuisines={that.restaurant_cuisines} />\n                        </span>\n                    </div>\n                    <div className=\"row btm-line\">\n                       <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_min_order} <i className=\"fa fa-rouble\"></i></b>\n                                <span className=\"description\">заказ от</span>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_delivery_cost} <i className=\"fa fa-rouble\"></i></b>\n                                <span className=\"description\">доставка</span>\n                            </div>\n                        </div>\n\n                        <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_delivery_time} <i className=\"icon icon-clock\"></i></b>\n                                <span className=\"description\">время</span>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_average_check} <i className=\"fa fa-rouble\"></i></b>\n                                <span className=\"description\">средний чек</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"the-footer\">\n                <div className=\"row\">\n                    <div className=\"align-left col-xs-6 col-lg-6\">\n                        <div className=\"comments-count\">\n                            <i className=\"icon fi-comment\"></i>\n                            <span className=\"count\">{that.restaurant_comments_count}</span>\n                        </div>\n                    </div>\n                    <div className=\"align-right col-xs-6 col-lg-6\">\n                        <div className=\"right-icons\">\n                            <button className=\"bt-round delivery\">\n                                <i className=\"icon fi-dish\"></i>\n                            </button>\n                            <button className=\"bt-round reservation\">\n                                <i className=\"icon fi-table\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        </div>\n        );\n    }\n});\n\nmodule.exports = SingleCompany;\n","var CuisinesStore = require('./stores/cuisinesStore.js');\n\nvar CuisinesList = React.createClass({\n    mixins: [Reflux.connect(CuisinesStore, 'cuisinesData')],\n    limit: 5,\n    getInitialState: function() {\n      return {\n        data: [],\n        cuisinesData: []\n      };\n    },\n    componentDidMount: function() {\n\n    },\n    render: function() {\n        var companyCuisines = JSON.parse(this.props.cuisines);\n\n        var allCuisines = getStorage('cuisines');\n\n        var sorted = _.sortBy(allCuisines, function(o) { return o.cuisine_id; });\n\n        console.log('CuisinesList: sorted = ', sorted);\n        var totalList = companyCuisines.map(function(the, key) {\n            var pick = sorted[key+1];\n            return (\n                <button className=\"button light button-cuisine\" key={key}>{pick.cuisine_name}</button>\n            )\n        });\n\n        return (\n            <div className=\"cuisinesList\">\n            {totalList}\n            </div>\n        )\n    }\n});\n\nmodule.exports = CuisinesList;\n\n","var CuisinesStore = require('./stores/cuisinesStore.js');\nvar QuicklyLogo = require('./components/quicklyLogo.js');\nvar ButtonBack = require('./components/buttonBack.js');\nvar CuisinesSelectList = require('./components/cuisinesSelectList.js');\n\nimport {showScreen} from '../screens.jsx';\n\nvar ButtonBackTop = React.createClass({\n    render: function(){\n        <ButtonBack />\n    }\n});\n\nvar MainPageHeader = React.createClass({\n    render: function(){\n        return (\n        <section className=\"main-header\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-lg-6\">\n                        <div className=\"row main-logo\">\n                            <div className=\"col-lg-5\">\n                                <div className=\"quickly-logo\">\n                                    <QuicklyLogo />\n                                </div>\n                            </div>\n                            <div className=\"col-lg-6 text\">\n                                <h1>Квикли</h1>\n                                <p>Быстрая доставка еды на дом и бронь стола в любимом заведении.</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-lg-3\">\n\n                    </div>\n                    <div className=\"col-lg-3\">\n\n                    </div>\n                </div>\n            </div>\n        </section>\n        )\n    }\n});\n\nvar ButtonBack = React.createClass({\n    render: function(){\n        return(\n            <div className=\"button-back\">\n                <i className=\"icon-arrow-left\"></i>\n            </div>\n        )\n    }\n});\n\nReactDOM.render(<MainPageHeader />, document.getElementById('mainPageHeader'));\nReactDOM.render(<CuisinesSelectList />, document.getElementById('cuisinesSelectList'));\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-24 17:32:25\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-24 17:41:56\n*/\n\nvar MenuItemsStore = require('./stores/menuItemsStore.js');\n\n// var MenuCategoriesList = React.createClass({\n//     render: function(){\n//         return (\n//             <li className=\"category-line\">\n//                 <button className=\"category-toggle\">\n//                     <i className=\"icon\"></i>{item.category_name}</a>\n//                 </button>\n//             </li>\n//         )\n//     }\n// });\n\nvar SingleMenuItem = React.createClass({\n    render: function(){\n        var item = this.props.item;\n        var itemImage = imageBaseUrl+item.menu_item_image;\n        if (item.menu_item_image === undefined || item.menu_item_image === null || item.menu_item_image == '') { itemImage = 'images/samples/2.png'; }\n        return(\n        <div className=\"col-lg-4 col-xs-6 food-item\">\n            <a href=\"#\">\n                <div className=\"product-image\">\n                    <img src={itemImage} />\n                    <div className=\"product-controls\">\n                        <button className=\"button main add-to-cart\"\n                        data-name={item.menu_item_name}\n                        data-price={item.menu_item_price}\n                        data-id={item.menu_item_id}>В корзину</button>\n                    </div>\n                </div>\n\n                <div className=\"product-info\">\n                    <div className=\"major\">\n                        <div className=\"product-name\">\n                            <b>{item.menu_item_name}</b>\n                        </div>\n                        <div className=\"product-price\">\n                            <span>{item.menu_item_price} <i className=\"rouble\">i</i></span>\n                        </div>\n                    </div>\n                    <div className=\"product-description\">\n                        <span>{item.menu_item_full_description}</span>\n                    </div>\n                </div>\n            </a>\n        </div>\n        );\n    }\n});\n\nvar MenuItems = React.createClass({\n    mixins: [Reflux.connect(MenuItemsStore, 'menuItems')],\n    limit: 12,\n    getInitialState: function() {\n      return {\n        data: [],\n        menuItems: []\n      };\n    },\n    componentDidMount: function() {\n    },\n    loadMore: function(){\n        this.limit += 6;\n        MenuItemsActions.updateData();\n    },\n    render: function() {\n        var theData = this.state.menuItems;\n        var total = 0;\n        var messages = theData.map(function(the, i) {\n            return <SingleMenuItem item={the} key={i} />\n        });\n        return (\n            <div>{messages}</div>\n        )\n    }\n});\n\nReactDOM.render(<MenuItems />, document.getElementById('menuItems'));\n","var ButtonMore = require('./components/buttonMore.js');\nimport {addToCart, repeatOrder} from '../engine/addToCart.js';\nvar OrdersHistoryStore = require('./stores/ordersHistoryStore.js');\n\nvar SingleOrderItem = React.createClass({\n    render: function(){\n        var single = this.props.item, thumb = 'http://fakeimg.pl/37x37/ddd/';\n        if( single.menu_item_image !== '' ) thumb = imageBaseUrl+single.menu_item_image;\n        var idAttr = \"singleItem-\"+single.menu_item_id;\n        return (\n        <div className=\"item\" id={idAttr} >\n            <div className=\"row\">\n                <div className=\"col-lg-3 no-padding-right align-right\">\n                    <div className=\"thumb-tiny\">\n                        <img src={thumb} />\n                    </div>\n                </div>\n                <div className=\"col-lg-9 no-padding-left\">\n                    <div className=\"text\">\n                        <b>{single.menu_item_name}</b>\n                        <span className=\"price\">{single.menu_item_price*single.count} <i className=\"rouble\">o</i>,  <span className=\"count\">{single.count} шт.</span></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        );\n    }\n});\n\nvar SingleOrder = React.createClass({\n    repeatThis: function(){\n        repeatOrder(this.props.list.order_menu_items);\n    },\n    render: function(){\n        var total = 0;\n        var data = this.props.list;\n        console.log('DATA signle: ', data);\n\n        var items = data.order_menu_items.map(function(the, i) {\n            total += (the.menu_item_price*the.count);\n            return (\n                <SingleOrderItem item={the} key={i} />\n            )\n        });\n\n        return(\n        <div className=\"history-item row\" key={this.props.key}>\n            <div className=\"date-time\">{moment.unix(data.created_at).format(\"DD MMMM YYYY HH:mm\")}</div>\n            <div className=\"col-lg-2\">\n                <div className=\"box-company medium\">\n                    <div className=\"thumb-round\">\n                        <img src={imageBaseUrl+data.restaurant_main_image} alt=\"...\" />\n                    </div>\n                    <span className=\"title\">{data.restaurant_name}</span>\n                </div>\n            </div>\n            <div className=\"col-lg-5\">\n                <div className=\"history-items\">\n                    {items}\n                </div>\n            </div>\n            <div className=\"col-lg-2 summary\">\n                <div className=\"total\">\n                    <span className=\"total-title\">итого:</span>\n                    <b className=\"sum-total\">{total} <i className=\"rouble\">o</i></b>\n                </div>\n\n                <div className=\"bonus\">\n                    <span className=\"total-title\"><i className=\"r fa fa-rub\"></i>-бонусов</span>\n                    <b className=\"sum-bonus\">+ {data.bonus}</b>\n                </div>\n            </div>\n            <div className=\"col-lg-3 actions\">\n                <span className=\"title\">поделится:</span>\n                <div className=\"social-share\">\n                    <a href=\"#\"><i className=\"fa fa-facebook\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-vk\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-twitter\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-odnoklassniki\"></i></a>\n                </div>\n                <button onClick={this.repeatThis} className=\"button light round button-history-repeat\" id=\"button-history-repeat\">\n                    <i className=\"icon-refresh\"></i><span>Повторить заказ</span>\n                </button>\n\n            </div>\n        </div>\n        );\n    }\n})\n\nvar OrdersHistory = React.createClass({\n    mixins: [Reflux.connect(OrdersHistoryStore, 'historyData')],\n    limit: 5,\n    getInitialState: function() {\n      return {\n        data: [],\n        historyData: []\n      };\n    },\n    componentDidMount: function() {\n     //   OrdersHistoryActions.updateData();\n    },\n    loadMore: function(){\n        this.limit += 5;\n        OrdersHistoryActions.updateData();\n    },\n    render: function() {\n     //   OrdersHistoryActions.updateData();\n        var theData = this.state.historyData;\n        var total = 0;\n        var sorted = _.first(_.sortBy(theData, 'order_id').reverse(), this.limit);\n        var messages = sorted.map(function(the, i) {\n            return <SingleOrder list={the} key={i} />\n        });\n        return (\n            <div>{messages}\n                <div className=\"full-width align-center\">\n                    <ButtonMore onClick={this.loadMore} />\n                </div>\n            </div>\n        )\n    }\n});\n\nReactDOM.render(<OrdersHistory />, document.getElementById('ordersHistory'));\n","var ButtonMore = require('./components/buttonMore.js');\r\nvar ProfileEditorStore = require('./stores/profileEditorStore.js');\r\n\r\nvar ProfileEditorForm = React.createClass({\r\n    render: function(){\r\n        var total = 0;\r\n        var profile = this.props.profile;\r\n\r\n        var userAvatar =  imageBaseUrl+profile.userAvatarUrl;\r\n        if (profile.userAvatarUrl === undefined || profile.userAvatarUrl === null) { userAvatar = 'images/samples/user.png'; }\r\n\r\n        console.log('ProfileEditorForm: profile = ', profile);\r\n        return (\r\n        <div className=\"user-editor container\">\r\n           <div className=\"row\">\r\n              <div className=\"col-lg-2 text-center\">\r\n                 <div className=\"avatar round\">\r\n                    <img src={userAvatar} alt=\"...\" />\r\n                 </div>\r\n                 <div className=\"btn-group\">\r\n                    <a className=\"button light small\">Изменить аватар</a>\r\n                 </div>\r\n              </div>\r\n              <div className=\"col-lg-10 the-info\">\r\n                 <div className=\"row delivery\">\r\n                    <div className=\"col-lg-4\">\r\n                     <div className=\"title user-name-edit\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"control-label\" for=\"userName\">Имя</label>\r\n                          <input type=\"text\" className=\"form-control focus-out autoupdate\" data-id=\"name\" id=\"userName\" value={profile.userName} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label className=\"control-label\" for=\"userSurname\">Фамилия</label>\r\n                          <input type=\"text\" className=\"form-control focus-out autoupdate\" data-id=\"surname\" id=\"userSurname\" value={profile.userSurname} />\r\n                        </div>\r\n                     </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3\">\r\n                       <div className=\"form-group\">\r\n                          <label className=\"control-label\" for=\"userEmail\">Электронная почта</label>\r\n                          <input type=\"email\" className=\"form-control focus-out autoupdate\" data-id=\"email\" id=\"userEmail\" value={profile.userEmail} />\r\n                       </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3\">\r\n                       <div className=\"form-group\">\r\n                          <label className=\"control-label\" for=\"userPhone\">Номер телефона</label>\r\n                          <input type=\"tel\" className=\"form-control focus-out\" id=\"userPhone\" value={profile.userPhone} />\r\n                       </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3\">\r\n                       <div className=\"form-group\">\r\n                          <label className=\"control-label\" for=\"userBirth\">Дата рождения</label>\r\n                          <input type=\"date\" className=\"form-control focus-out\" data-id=\"birthdate\" id=\"userBirth\" value={profile.userBirthdate} />\r\n                       </div>\r\n                    </div>\r\n                    <div className=\"col-lg-3\">\r\n                       <div className=\"form-group\">\r\n                          <label className=\"control-label\" for=\"userCity\">Город</label>\r\n                          <input type=\"text\" className=\"form-control\" id=\"userCity\" value=\"Оренбург\" />\r\n                       </div>\r\n                    </div>\r\n                 </div>\r\n                 <div className=\"line delivery\">\r\n                    <div id=\"profile-addresses\" data-id=\"1\" className=\"inline-block float-left\">\r\n                       <i className=\"icon icon-location-pin\"></i>\r\n                       <div className=\"box\">\r\n                          <div className=\"form-group label-placeholder is-empty\" title=\"Введите адреса для доставки\">\r\n                             <input type=\"text\" className=\"form-control\" id=\"profile-address-1\" />\r\n                          </div>\r\n                       </div>\r\n                    </div>\r\n                    <div className=\"box\">\r\n                       <a href=\"#\" className=\"button button-plus tip\" id=\"profile-address-add\">\r\n                       <i className=\"icon fa fa-plus-square-o\"></i>\r\n                       <span>Добавить адрес</span>\r\n                       </a>\r\n                    </div>\r\n                 </div>\r\n              </div>\r\n           </div>\r\n           <div className=\"row buttons-line\">\r\n              <div className=\"col-lg-2\">\r\n              </div>\r\n              <div className=\"col-lg-10 buttons-tabs\">\r\n                 <div className=\"btn-group btn-group-justified\" data-tabs=\"tabs-profile\">\r\n                    <a href=\"#tab-order-history\" className=\"tab-toggle btn button light\" id=\"tabOrderHistory\">\r\n                    <span>История заказов</span>\r\n                    </a>\r\n                    <a href=\"#tab-reservation-history\" className=\"tab-toggle btn button light\">\r\n                    <span>История бронирования</span>\r\n                    </a>\r\n                    <a href=\"#tab-comments-history\" className=\"tab-toggle btn button light\">\r\n                    <span>Оставленные отзывы</span>\r\n                    </a>\r\n                    <a id=\"buttonReturnShop\" href=\"#\" className=\"btn button main\">\r\n                    <span>Вернуться к ресторану</span>\r\n                    </a>\r\n                 </div>\r\n              </div>\r\n           </div>\r\n        </div>\r\n        )\r\n    }\r\n});\r\n\r\nvar ProfileEditor = React.createClass({\r\n    mixins: [Reflux.connect(ProfileEditorStore, 'profileData')],\r\n    limit: 5,\r\n    getInitialState: function() {\r\n      return {\r\n        data: [],\r\n        profileData: []\r\n      };\r\n    },\r\n    componentDidMount: function() {\r\n        ProfileEditorActions.updateData();\r\n    },\r\n    render: function() {\r\n     //   profileEditorActions.updateData();\r\n        var theData = this.state.profileData;\r\n        return (\r\n            <ProfileEditorForm profile={theData} />\r\n        )\r\n    }\r\n});\r\n\r\n// ReactDOM.render(<ProfileEditor />, document.getElementById('profileEditor'));\r\n","var ButtonMore = require('./components/buttonMore.js');\nvar ReservationHistoryStore = require('./stores/reservationHistoryStore.js');\n\nvar SingleReservation = React.createClass({\n    render: function(){\n        var total = 0;\n        var data = this.props.list;\n        // console.log('SingleReservation: data = ', data);\n\n        return(\n        <div className=\"history-item row\" key={this.props.key}>\n             <div className=\"date-time\">{moment.unix(data.reservation_date).format(\"DD MMMM YYYY HH:mm\")}</div>\n            <div className=\"col-lg-2\">\n                <div className=\"box-company medium\">\n                    <div className=\"thumb-round\">\n                        <img src={imageBaseUrl+data.restaurant_main_image} alt=\"...\" />\n                    </div>\n                    <span className=\"title\">{data.restaurant_name}</span>\n                </div>\n            </div>\n            <div className=\"col-lg-5\">\n                <div className=\"history-items\">\n                    <div className=\"item item-table\">\n                        <div className=\"row\">\n                            <div className=\"col-lg-3 no-padding-right align-right\">\n                                <div className=\"icon-reservation\">\n                                    <i className=\"icon-anchor\"></i>\n                                </div>\n                            </div>\n                            <div className=\"col-lg-9\">\n                                <div className=\"text\">\n                                    <div className=\"table-num\">Столик №<b>{data.table_number}</b></div>\n                                    <div className=\"hall\">Зал: <span className=\"hall-name\">{data.hall_name}</span></div>\n                                    <div className=\"reservation-date\">{moment.unix(data.reservation_date).format(\"DD MMMM YYYY HH:mm\")}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-lg-2 summary\">\n                <div className=\"total\">\n                    <span className=\"total-title\">итого:</span>\n                    <b className=\"sum-total\">{total} <i className=\"rouble\">o</i></b>\n                </div>\n\n                <div className=\"bonus\">\n                    <span className=\"total-title\"><i className=\"r fa fa-rub\"></i>-бонусов</span>\n                    <b className=\"sum-bonus\">+ {data.bonus}</b>\n                </div>\n            </div>\n            <div className=\"col-lg-3 actions\">\n                <span className=\"title\">поделится:</span>\n                <div className=\"social-share\">\n                    <a href=\"#\"><i className=\"fa fa-facebook\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-vk\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-twitter\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-odnoklassniki\"></i></a>\n                </div>\n                <a href=\"#\" className=\"button light round button-history-repeat\" id=\"button-history-repeat\">\n                    <span>Повторить заказ</span>\n                </a>\n\n            </div>\n        </div>\n        );\n    }\n})\n\nvar OrdersReservation = React.createClass({\n    mixins: [Reflux.connect(ReservationHistoryStore, 'historyData')],\n    limit: 5,\n    getInitialState: function() {\n      return {\n        data: [],\n        historyData: []\n      };\n    },\n    componentDidMount: function() {\n     //   OrdersHistoryActions.updateData();\n    },\n    loadMore: function(){\n        this.limit += 5;\n        ReservationHistoryActions.updateData();\n    },\n    render: function() {\n     //   OrdersHistoryActions.updateData();\n        var theData = this.state.historyData;\n        var total = 0;\n        var sorted = _.first(_.sortBy(theData, 'order_id').reverse(), this.limit);\n        var messages = sorted.map(function(the, i) {\n            return <SingleReservation list={the} key={i} />\n        });\n        return (\n            <div>{messages}\n                <div className=\"full-width align-center\">\n                    <ButtonMore onClick={this.loadMore} />\n                </div>\n            </div>\n        )\n    }\n});\n\nReactDOM.render(<OrdersReservation />, document.getElementById('reservationHistory'));\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:33:15\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 22:20:25\r\n*/\r\n\r\nvar CompanyDetailsActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar CompanyDetailsStore = Reflux.createStore({\r\n    listenables: [CompanyDetailsActions],\r\n    companyData: [],\r\n    companyId: currentCompany,\r\n    sourceUrl: serverUrl+'/api/v2/restaurants/get/'+currentCompany,\r\n    init: function() {\r\n        this.companyId = currentCompany;\r\n        this.fetchList();\r\n    },\r\n    updateData: function(newId){\r\n        console.log('CompanyDetailsStore updateData()');\r\n        this.companyId = newId;\r\n        this.sourceUrl = serverUrl+'/api/v2/restaurants/get/'+newId;\r\n        console.log('CompanyDetailsStore:', this.sourceUrl);\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        some.companyData = data.result.restaurant;\r\n        console.log('REFLUX: CompanyDetailsStore fetchList', some.companyData);\r\n        some.trigger(some.companyData);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = CompanyDetailsStore;\r\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 09:41:34\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-29 22:49:28\n*/\n\nvar CompanyListActions = require('../actions/companyListActions.js');\nvar CuisinesActions = require('../actions/cuisinesActions.js');\nvar CuisinesStore = require('./cuisinesStore.js');\n\nvar CompanyListStore = Reflux.createStore({\n    listenables: [CompanyListActions],\n    cuisine: [],\n    currentCuisine:0,\n    companyList: [],\n    sourceUrl: serverUrl+'/api/v2/restaurants/get',\n    init: function() {\n        this.fetchList();\n    },\n    updateData: function(){\n        console.log('CompanyStore updateData()');\n        this.fetchList();\n    },\n    showAll: function(){\n        this.cuisine = 0;\n    },\n    selectByCuisine: function(cuisine){\n        console.log('CompanyListStore: selectByCuisine, cuisine = ', cuisine);\n        this.cuisine = cuisine;\n        currentCuisine = cuisine;\n        this.currentCuisine = cuisine.cuisine_id;\n        this.fetchList(cuisine.cuisine_id);\n    },\n    getCurrentCuisine: function(){\n         console.log('CompanyListStore: getCurrentCuisine, CurrentCuisine = ', this.currentCuisine);\n         return this.currentCuisine;\n    },\n    filterData: function(cuisine, type){\n        var data = this.companyList;\n        var filtered;\n\n        console.log('CompanyListStore: filterData: type = '+type);\n\n        if (type == 3) filtered = _.filter(data, function(element){\n            return element.restaurant_payment_type == 1;\n        });\n\n        if (type == 0) { this.fetchList(); } else {\n            this.companyList = filtered;\n            this.trigger(this.companyList);\n            console.log('CompanyListStore: filterData: ', filtered);\n        }\n        return filtered;\n    },\n    fetchList: function(cuisineId) {\n      var some = this;\n      var queryUrl = this.sourceUrl;\n\n      this.cuisine = CuisinesActions.getCuisineById(cuisineId);\n\n      console.log('CompanyListStore: fetchList: this.cuisine = '+this.cuisine);\n\n      queryUrl += '?restaurantType=3';\n\n      if( cuisineId ) {\n        queryUrl += '&cuisineId='+cuisineId;\n      }\n      console.log('CompanyListStore: queryUrl = ',queryUrl);\n\n      $.getJSON(queryUrl, function (data) {\n\n        console.log('CompanyListStore fetchList', data);\n        some.companyList = data.result.restaurants;\n        some.trigger(some.companyList);\n\n      });\n    }\n});\n\nmodule.exports = CompanyListStore;\n","var CuisinesActions = require('../actions/cuisinesActions.js');\n\nvar CuisinesStore = Reflux.createStore({\n    listenables: [CuisinesActions],\n    cuisinesData: [],\n    sourceUrl: serverUrl+'/api/v2/cuisines/get',\n    init: function() {\n        this.fetchList();\n    },\n    getCuisineById: function(id){\n        var cuisine = _.where(this.cuisinesData,{cuisine_id:id});\n        console.log('CuisinesStore: getCuisineById('+id+'): ',cuisine);\n        return cuisine;\n    },\n    fetchList: function() {\n      var some = this;\n      $.getJSON(this.sourceUrl, function (data) {\n        setStorage('cuisines', data.result.cuisines);\n        some.cuisinesData = data.result.cuisines;\n        some.trigger(some.cuisinesData);\n        console.log('REFLUX: CuisinesStore fetchList', some.cuisinesData);\n      });\n    }\n});\n\nmodule.exports = CuisinesStore;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:40:22\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 09:40:28\r\n*/\r\n\r\nvar MenuItemsActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar MenuItemsStore = Reflux.createStore({\r\n    listenables: [MenuItemsActions],\r\n    currentCategory:1,\r\n    companyId: currentCompany,\r\n    menuItems: [],\r\n    sourceUrl: serverUrl+'/api/v2/menu-items/get/'+currentCompany,\r\n    init: function() {\r\n        this.companyId = currentCompany;\r\n        this.fetchList();\r\n    },\r\n    updateData: function(newId){\r\n        this.companyId = newId;\r\n        this.sourceUrl = serverUrl+'/api/v2/menu-items/get/'+newId;\r\n        console.log('CompanyDetailsStore: updateData() = ', this.sourceUrl);\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        some.menuItems = data.result.menuItems;\r\n        console.log('REFLUX: MenuItemsStore fetchList', some.menuItems);\r\n        some.trigger(some.menuItems);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = MenuItemsStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:35:29\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 09:36:01\r\n*/\r\n\r\nvar OrdersHistoryActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar OrdersHistoryStore = Reflux.createStore({\r\n    listenables: [OrdersHistoryActions],\r\n    historyList: [],\r\n    sourceUrl: serverUrl+'/api/v2/history/orders/'+userToken,\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('OrdersHistoryStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        some.historyList = data.result.orders;\r\n        some.trigger(some.historyList);\r\n        console.log('REFLUX: OrdersHistoryStore fetchList', some.historyList);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = OrdersHistoryStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:37:12\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 09:38:30\r\n*/\r\n\r\nvar ProfileEditorActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar ProfileEditorStore = Reflux.createStore({\r\n    listenables: [ProfileEditorActions],\r\n    profileData: [],\r\n    sourceUrl: serverUrl+'/api/v2/user/profile/get',\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('ProfileEditorStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n        var some = this;\r\n        $.ajax({\r\n            type: 'POST',\r\n            async: 'false',\r\n            dataType: 'json',\r\n            url: this.sourceUrl,\r\n            data: {\r\n                'userToken': userToken\r\n            },\r\n            success: function(data) {\r\n                some.profileData = data.result.profile;\r\n                some.trigger(some.profileData);\r\n                console.log('ProfileEditorStore some.profileData = ', some.profileData);\r\n                setStorage('profile', data.result.profile);\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\nmodule.exports = ProfileEditorStore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:39:19\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 09:39:24\r\n*/\r\n\r\nvar ReservationHistoryActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar ReservationHistoryStore = Reflux.createStore({\r\n    listenables: [ReservationHistoryActions],\r\n    historyList: [],\r\n    sourceUrl: serverUrl+'/api/v3/history/reservations/'+userToken,\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('ReservationHistoryStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        some.historyList = data.result.reservations;\r\n        some.trigger(some.historyList);\r\n        console.log('REFLUX: ReservationHistoryStore fetchList', some.historyList);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = ReservationHistoryStore;\r\n","import {clearCart,refreshCart} from \"./engine/checkout.func.jsx\";\nimport {createOrder} from \"./engine/createOrder.jsx\";\nimport {reservationAdded, createReservation} from \"./engine/createReservation.jsx\";\n\nfunction pasteMenu(categoryId){\n    $.getJSON(serverUrl+'/api/v2/menu-items/get/'+categoryId, function(data){\n        $('#foodItems').html('');\n        console.log(data);\n        $.each(data.result.menuItems, function(key, item){\n            if( item.menu_item_image == \"\"){\n                item.menu_item_image = \"images/samples/9-tiny.jpg\";\n            } else item.menu_item_image = \"http://176.112.201.81/static/cdn/\"+item.menu_item_image;\n\n            var output = `\n                <div class=\"col-lg-4 col-xs-6 food-item\">\n                    <a href=\"#\">\n                        <div class=\"product-image\">\n                            <img src=\"${item.menu_item_image}\" />\n                            <div class=\"product-controls\">\n                                <button class=\"button main add-to-cart\"\n                                data-name=\"${item.menu_item_name}\"\n                                data-price=\"${item.menu_item_price}\"\n                                data-id=\"${item.menu_item_id}\">В корзину</button>\n                            </div>\n                        </div>\n\n                        <div class=\"product-info\">\n                            <div class=\"major\">\n                                <div class=\"product-name\">\n                                    <b>${item.menu_item_name}</b>\n                                </div>\n                                <div class=\"product-price\">\n                                    <span>${item.menu_item_price} <i class=\"rouble\">i</i></span>\n                                </div>\n                            </div>\n                            <div class=\"product-description\">\n                                <span>${item.menu_item_full_description}</span>\n                            </div>\n                        </div>\n                    </a>\n                </div>`;\n            $('#foodItems').append(output);\n        });\n    });\n}\n\nfunction pasteCartElement(cartElement, elementCount){\n    var el = `\n    <tr class=\"reservation-${cartElement.type}\">\n        <td>${cartElement.name}</td>\n        <td>${cartElement.price} р.</td>\n        <td>\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n                <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\n                <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n                <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\n            </div>\n        </td>\n        <td>\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n        </td>\n    </tr>\n    `;\n\n    return el;\n}\n\nfunction getHallsList(restaurantId, callback){\n    $.getJSON(serverUrl+'/api/v2/reservation/halls/'+restaurantId, function(data){\n        console.log('getHallsList: ', data)\n        callback(data);\n    });\n}\n\nfunction showReservationMap(halls){\n    $.each(data, function(index,value){\n        console.log(value);\n    });\n}\n\n\nfunction getReservationPointsList(hallId, theDate){\n    $.getJSON(serverUrl+'/api/v2/reservation/tables/'+hallId+'/'+theDate, function(data){\n        console.log('getReservationPointsList: Using Timestamp = ', theDate);\n        console.log('getReservationPointsList: ', data);\n        var tableType = 0;\n        $('#roomBox').append(`\n            <div class=\"the-room\">\n            <img src=\"${hallsUrl}${data.params.hall.hall_image}\"></div>`);\n            $.each(data.params.tables, function(index,value){\n\n                if( value.table_type == 0 ) tableType = `\n                    <div class=\"type\">Беплатный</div>\n                    `;\n\n                if( value.table_type == 1 ) tableType = `\n                    <div class=\"type\">Платный</div>\n                    <div class=\"price\">Стоимость заказа: <b></b></div>\n                    `;\n\n                if( value.table_type == 2 ) tableType = `\n                    <div class=\"type\">Депозитный</dive>\n                    <div class=\"price\">Стоимость депозита: <b>${table_deposit}</b></div>;\n                    `;\n\n                var theOptions;\n                for(var i = 1; i <= value.table_seats_count; i++){\n                    theOptions += '<option>'+i+'</option>';\n                }\n\n                $('#roomBox .the-room').append(`\n                    <div class=\"table\" data-hall=\"${value.hall_id}\" id=\"table-${value.table_id}\" data-id=\"${value.table_id}\" data-reserved=\"${data.params.reservations[value.table_id]}\" data-seats=\"${value.table_seats_count}\" data-deposit=\"${value.table_deposit}\" data-price=\"${value.table_price}\" data-restaurant=\"${value.restaurant_id}\" data-hall=\"${value.hall_id}\" style=\"left:${value.table_coord_x-10}px; top:${value.table_coord_y-20}px\">\n                        <div class=\"table-number\">${value.table_number}</div>\n                        <div class=\"table-everything\">\n                            <div class=\"table-desc\">\n                                ${tableType}\n                                <span>Мест: ${value.table_seats_count}</span>\n                            </div>\n                            <div class=\"form-group label-static\" style=\"margin-top:35px\">\n                                <label for=\"tableOption-${value.table_id}\" class=\"control-label\">На сколько человек?</label>\n                                <select id=\"tableOption-${value.table_id}\" data-object=\"table-${value.table_id}\" class=\"form-control\">\n                                  ${theOptions}\n                                </select>\n                                <button class=\"button main round\" style=\"width:100%; margin-top:10px;\">Забронировать</button>\n                            </div>\n                        </div>\n                    </div>\n                `);\n            });\n    });\n}\n\nfunction getReservationUnixTime(e){\n    var theTime = $('#reservationTimePicker').val();\n    var dateTime = $('#reservationDatePicker').val()+' '+$('#reservationTimePicker').val();\n    var unixTime = moment(dateTime, 'DD-MM-YYYY HH:mm').zone(350).unix();\n\n    console.log('getReservationUnixTime: dateTime = ',dateTime);\n    console.log('getReservationUnixTime: UNIX Timestamp = ', unixTime);\n    return unixTime;\n}\n\n$(function() {\n\n    $('#reservationTimePicker').datetimepicker({\n        format: 'LT',\n        format: 'HH:mm',\n        locale: 'ru',\n        defaultDate: moment().valueOf()\n    });\n\n    $('#reservationDatePicker').datetimepicker({\n        format: 'DD-MM-YYYY',\n        locale: 'ru',\n        defaultDate: moment().valueOf()\n    });\n\n    $(document).on('click', '#buttonCheckoutDelivery', function(event){\n        createOrder();\n    });\n\n    $(document).on({\n        mouseenter: function () {\n            $('.the-room .table').removeClass('reserved');\n            $(this).parent().addClass('reserved');\n        },\n    }, '.the-room .table .table-number');\n\n    $(document).on('mouseleave', '.the-room .table .table-everything', function(event){\n        $(this).parent().removeClass('reserved');\n    });\n\n    $(document).on('click', '#buttonCheckoutReservation', function(event){\n        createReservation();\n    });\n\n    var currentReservationTime;\n\n    $(document).on('click', '.reserved .button', function(event) {\n        console.log('#buttonReserve clicked');\n        flyToCart( $(this) );\n        console.log('currentReservationTime: ', getReservationUnixTime());\n\n        $('.the-room .table.reserved').each(function(){\n            var jsonObj = {};\n            var reservation = getStorage('theReservation');\n\n            jsonObj['id'] = $(this).data('id');\n            jsonObj['name'] = $('section.company-about .title h2').html()+', Стол #'+$(this).data('id');\n            jsonObj['count'] = $('select', $(this).parent()).val();\n            jsonObj['price'] = $(this).data('price');\n            jsonObj['hall'] = $(this).data('hall');\n\n            jsonObj['date'] = getReservationUnixTime();\n            jsonObj['type'] = 'table';\n\n            console.log('RES = ', isEmpty(reservation));\n\n            if(isEmpty(reservation) === false){\n                swal({\n                  title: 'В корзине уже есть один стол.',\n                  text: \"Одновременно в корзине может быть только один стол на резервацию! Отменить прошлый заказ и добавить этот?\",\n                  type: 'warning',\n                  showCancelButton: true,\n                  confirmButtonText: 'Да, заменить!',\n                  cancelButtonText: 'Нет, оставить тот',\n                  closeOnConfirm: true\n                },\n                function(isConfirm) {\n                  if (isConfirm) {\n                    setStorage('theReservation', jsonObj);\n                    toastr.warning('Предидущий заказ стола отменён', 'Внимание!');\n                    reservationAdded();\n                    refreshCart();\n                  } else {\n                    toastr.warning('Завершите предидущий заказ', 'Стол не добавлен!');\n                  }\n                });\n\n            } else {\n                setStorage('theReservation', jsonObj);\n                reservationAdded();\n\n                refreshCart();\n            }\n\n        });\n\n        $('.reserved').removeClass('reserved').addClass('yours');\n    });\n\n    $(document).on('click', '.reservation-table .checkout-action', function(e){\n        $(this).parent().parent().velocity({opacity:0}, 500, function(){\n            setTimeout(function(){\n               $('.reservation-table').remove();\n               localStorage.removeItem('theReservation');\n               refreshCart();\n            },500)\n        });\n    });\n\n\n    $(document).on('dp.change', function(e) {\n        currentReservationTime = getReservationUnixTime();\n        getReservationPointsList(currentCompany, getReservationUnixTime());\n    });\n\n    var currentTime = moment().add(30, 'm').unix();\n\n    getReservationPointsList(currentCompany, currentTime);\n\n});\n","var CompanyDetailsActions = require('./react/stores/companyDetailsStore.js');\nvar MenuItemsActions = require('./react/stores/menuItemsStore.js');\n\nexport function showScreen(screenId){\n    var aniOut = 'transition.slideRightOut';\n    var aniIn = 'transition.slideLeftBigIn'; // 'transition.flipXIn';\n\n    var screenId = '#'+screenId;\n\n    if( $(screenId).length ){\n\n        $('.screen-toggle').removeClass('active');\n\n        console.log('showScreen: Screen = '+screenId);\n\n        easyVelocity('.page-wrapper', aniOut, function(){\n            easyVelocity(screenId, aniIn, function(){\n              // im done\n            });\n        });\n\n        $(this).addClass('active');\n\n        $(screenId).addClass('screen-active');\n    } else console.log('showScreen: Screen not exists. ID: '+screenId);\n}\n\n$(function() {\n\n    showScreen('pageMain');\n\n    $(document).on('click', '.company-toggle', function(event) {\n        var company = $(this).data('company');\n        console.log('CompanyToggle: Toggling: ', company);\n        currentCompany = company;\n        console.log(CompanyDetailsActions);\n        CompanyDetailsActions.updateData(company);\n        MenuItemsActions.updateData(company);\n        showScreen('pageCompany');\n    });\n\n    $(document).on('click', '.screen-toggle', function(event) {\n        event.preventDefault();\n        var screenId = $(this).data('screen');\n        showScreen(screenId);\n    });\n\n});\n\n$(function() {\n\n    var hash = window.location.hash.replace(\"#\", \"\");\n\n    if(hash !== ''){\n      console.log('Hash = '+hash);\n      showScreen(hash);\n    }\n\n    $(document).on('click', '#buttonReturnShop', function(event) {\n        showShop();\n    });\n});\n","    import {clearCart,refreshCart} from \"./engine/checkout.func.jsx\";\n\nfunction pasteMenu(categoryId){\n    $.getJSON(serverUrl+'/api/v2/menu-items/get/'+categoryId, function(data){\n        $('#foodItems').html('');\n        console.log(data);\n        $.each(data.result.menuItems, function(key, item){\n            if( item.menu_item_image == \"\"){\n                item.menu_item_image = \"images/samples/9-tiny.jpg\";\n            } else item.menu_item_image = \"http://176.112.201.81/static/cdn/\"+item.menu_item_image;\n\n            var output = `\n                <div class=\"col-lg-4 col-xs-6 food-item\">\n                    <a href=\"#\">\n                        <div class=\"product-image\">\n                            <img src=\"${item.menu_item_image}\" />\n                            <div class=\"product-controls\">\n                                <button class=\"button main add-to-cart\"\n                                data-name=\"${item.menu_item_name}\"\n                                data-price=\"${item.menu_item_price}\"\n                                data-id=\"${item.menu_item_id}\">В корзину</button>\n                            </div>\n                        </div>\n\n                        <div class=\"product-info\">\n                            <div class=\"major\">\n                                <div class=\"product-name\">\n                                    <b>${item.menu_item_name}</b>\n                                </div>\n                                <div class=\"product-price\">\n                                    <span>${item.menu_item_price} <i class=\"rouble\">i</i></span>\n                                </div>\n                            </div>\n                            <div class=\"product-description\">\n                                <span>${item.menu_item_full_description}</span>\n                            </div>\n                        </div>\n                    </a>\n                </div>`;\n            $('#foodItems').append(output);\n        });\n    });\n}\n\nfunction pasteCartElement(cartElement, elementCount){\nvar el = `\n<tr class=\"reservation-${cartElement.type}\">\n    <td>${cartElement.name}</td>\n    <td>${cartElement.price} р.</td>\n    <td>\n        <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n            <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\n            <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n            <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\n        </div>\n    </td>\n    <td>\n        <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n    </td>\n</tr>\n`;\n\nreturn el;\n}\n\nfunction pasteCheckoutFormUnregistered(){\n    var profile = getStorage('profile');\n    var bonusCount = '100';\n    var userName = '', userPhone = '';\n    if(profile){\n        if(profile.userName) userName = profile.userName;\n        if(profile.userPhone) userPhone = profile.userPhone;\n    }\n    var out = `\n    <div class=\"checkout-form\">\n        <div class=\"control-group\">\n            <div class=\"row\">\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-name\" class=\"control-label\">Ваше имя</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-name\" value=${userName}>\n                    </div>\n                </div>\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-phone\" class=\"control-label\">Телефон</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-phone\" value=\"${userPhone}\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-4 col-xs-4\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-street\" class=\"control-label\">Улица</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-street\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-building\" class=\"control-label\">Дом</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-building\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-apartment\" class=\"control-label\">Квартира</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-apartment\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-porch\" class=\"control-label\">Подьезд</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-porch\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-floor\" class=\"control-label\">Этаж</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-floor\">\n                    </div>\n                </div>\n                <div class=\"col-lg-4 col-xs-12\">\n                    <div class=\"form-group label-floating required\" style=\"margin-top:30px\">\n                        <label for=\"checkout-persons\" class=\"control-label\" value=\"1\">Количество персон</label>\n                        <input type=\"search\" class=\"form-control\" id=\"checkout-persons\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"control-group\">\n            <div class=\"row radio-box\">\n                <div class=\"crk-lg-6\">\n                    <div class=\"the-label\">\n                        <span>Способ оплаты</span>\n                    </div>\n                    <div class=\"form-group radio-group\">\n                        <div class=\"radio radio-primary\">\n                            <label>\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-cash\" value=\"0\" checked>\n                              <span class=\"circle\"></span><span class=\"check\"></span>\n                              Наличными\n                            </label>\n                        </div>\n                        <div class=\"radio radio-primary\">\n                            <label>\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-card-courier\" value=\"1\">\n                              <span class=\"circle\"></span><span class=\"check\"></span>\n                              По карте курьеру\n                            </label>\n                        </div>\n                        <div class=\"radio radio-primary\" class=\"display:none\">\n                            <label>\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-card\" value=\"2\">\n                              <span class=\"circle\"></span><span class=\"check\"></span>\n                              По карте онлайн\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-phone\" class=\"control-label\">Сколько наличными?</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-cash\">\n                    </div>\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-phone\" class=\"control-label\">Сколько <span class=\"fa fa-rouble\"></span>-бонусов использовать?</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-bonus\">\n                        <div class=\"bonus-count\">\n                            У вас есть ${bonusCount} <span class=\"fa fa-rouble\"></span>-бонусов\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"control-group\">\n            <div class=\"row\">\n                <div class=\"col-lg-8\">\n                    <div class=\"form-group label-floating\" style=\"margin-top:30px\">\n                        <label for=\"checkout-comment\" class=\"control-label\">Комментарий</label>\n                        <input type=\"search\" class=\"form-control\" id=\"checkout-comment\">\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <div class=\"checkout-buttons\">\n            <div class=\"row\">\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"button main\" id=\"buttonCheckoutDelivery\">оформить доставку</div>\n                </div>\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"button main\" id=\"buttonCheckoutReservation\">Забронировать стол</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    `;\n    return out;\n}\n\nfunction removeItemById(itemId){\n    var cart = getStorage('theCart');\n    console.log('removeItemById: before = ',cart);\n    cart = _.without(cart, _.findWhere(cart, {id: itemId}));\n    console.log('removeItemById: after = ',cart);\n    setStorage('theCart', cart);\n    theCart.contents = cart;\n    refreshCart();\n}\n\n$(function() {\n\n    if (localStorage.getItem('theCart') === null) {\n        console.log('localStorage: no cart stored');\n    } else {\n        console.log('Getting Cart Contents..');\n        theCart.contents = getStorage('theCart');\n    }\n\n  //  pasteMenu(currentCompany);\n\n    $('#checkoutForm').html(pasteCheckoutFormUnregistered());\n\n    $(document).on('click', '.add-to-cart', function(event) {\n        var jsonObj = {};\n        jsonObj['id'] = $(this).data('id');\n        jsonObj['name'] = $(this).data('name');\n        jsonObj['price'] = $(this).data('price');\n        jsonObj['type'] = 'food';\n        theCart.contents.push(jsonObj);\n        console.log('addToCart: theCart = ', theCart);\n        setStorage('theCart', theCart.contents);\n\n        flyToCart($(this).parent().parent().find(\"img\").eq(0));\n        toastr.success(`${jsonObj.name}, ${jsonObj.price} р.`);\n        refreshCart();\n    });\n\n    $(document).on('click', '.reservation-food .checkout-action', function(e){\n        var theItem = $(this).parent().parent();\n        var theId = theItem.data('id');\n        removeItemById(theId);\n        theItem.velocity({opacity:0}, 500, function(){\n            setTimeout(function(){\n               $('.reservation-table').remove();\n            },500)\n        });\n    });\n\n    $(document).on('click', '.checkout .control-plus', function(event) {\n        var jsonObj = {};\n        jsonObj['id'] = $(this).parent().data('id');\n        jsonObj['name'] = $(this).parent().data('name');\n        jsonObj['price'] = $(this).parent().data('price');\n        jsonObj['type'] = 'food';\n        theCart.contents.push(jsonObj);\n        setStorage('theCart', theCart.contents);\n        refreshCart();\n    });\n\n    $(document).on('click', '.checkout .control-minus', function(event) {\n        var theId = $(this).parents('tr:first').data('id');\n        removeItemById(theId);\n    });\n\n    $(document).on('click', '.checkout-icon', function(event){\n        clearCart();\n    });\n\n    $(document).on('click', '.category-toggle', function(event) {\n        event.preventDefault();\n        $('.category-line a').removeClass('active');\n        $(this).addClass('active');\n        pasteMenu($(this).attr('data-category'));\n    });\n\n    refreshCart();\n});\n\n"]}