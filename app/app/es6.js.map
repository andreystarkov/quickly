{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/scripts/es6/checkout.jsx","app/scripts/es6/engine/addToCart.js","app/scripts/es6/engine/checkout.func.jsx","app/scripts/es6/engine/createOrder.jsx","app/scripts/es6/engine/createReservation.jsx","app/scripts/es6/profile.jsx","app/scripts/es6/react/actions/campaignsActions.js","app/scripts/es6/react/actions/cardsActions.js","app/scripts/es6/react/actions/categoriesListActions.js","app/scripts/es6/react/actions/cityListActions.js","app/scripts/es6/react/actions/companyDetailsActions.js","app/scripts/es6/react/actions/companyListActions.js","app/scripts/es6/react/actions/cuisinesActions.js","app/scripts/es6/react/actions/menuItemsActions.js","app/scripts/es6/react/actions/profileEditorActions.js","app/scripts/es6/react/cards.react.jsx","app/scripts/es6/react/categoriesList.react.jsx","app/scripts/es6/react/cityList.react.jsx","app/scripts/es6/react/companyDetails.react.jsx","app/scripts/es6/react/companyList.react.jsx","app/scripts/es6/react/components/buttonBack.js","app/scripts/es6/react/components/buttonMore.js","app/scripts/es6/react/components/buttonTabToggle.js","app/scripts/es6/react/components/campaignsSlider.js","app/scripts/es6/react/components/companyListSidebar.js","app/scripts/es6/react/components/cuisinesSelectList.js","app/scripts/es6/react/components/quicklyLogo.js","app/scripts/es6/react/components/singleCompany.js","app/scripts/es6/react/cuisinesList.react.jsx","app/scripts/es6/react/mainPage.react.jsx","app/scripts/es6/react/menuItems.react.jsx","app/scripts/es6/react/ordersHistory.react.jsx","app/scripts/es6/react/profileEditor.react.jsx","app/scripts/es6/react/reservationHistory.react.jsx","app/scripts/es6/react/stores/CampaignsLimitedStore.js","app/scripts/es6/react/stores/campaignsStore.js","app/scripts/es6/react/stores/cardsStore.js","app/scripts/es6/react/stores/categoriesListStore.js","app/scripts/es6/react/stores/cityListStore.js","app/scripts/es6/react/stores/companyDetailsStore.js","app/scripts/es6/react/stores/companyListStore.js","app/scripts/es6/react/stores/cuisinesStore.js","app/scripts/es6/react/stores/menuItemsStore.js","app/scripts/es6/react/stores/ordersHistoryStore.js","app/scripts/es6/react/stores/profileEditorStore.js","app/scripts/es6/react/stores/reservationHistoryStore.js","app/scripts/es6/reservation.jsx","app/scripts/es6/screens.jsx","app/scripts/es6/shop.jsx","node_modules/cookie/index.js","node_modules/react-cookie/index.js"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"es6.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {clearCart,refreshCart} from './engine/checkout.func.jsx';\r\n\r\n(function() {\r\n    [].slice.call( document.querySelectorAll( '.checkout' ) ).forEach( function( el ) {\r\n        var openCtrl = el.querySelector( '.checkout-button' ),\r\n            closeCtrl = el.querySelector( '.checkout-cancel' ),\r\n            closeMenuCtrl = el.querySelector( '.button-close' );\r\n\r\n        openCtrl.addEventListener( 'click', function(ev) {\r\n            ev.preventDefault();\r\n            classie.add( el, 'checkout-active' );\r\n            $('.overlay').addClass('visible');\r\n            $('#cartBottomPanel').removeClass('checkout-hidden');\r\n            refreshCart();\r\n        });\r\n\r\n        closeCtrl.addEventListener( 'click', function() {\r\n            classie.remove( el, 'checkout-active' );\r\n            $('.overlay').removeClass('visible');\r\n            $('#cartBottomPanel').addClass('checkout-hidden');\r\n            refreshCart();\r\n        });\r\n    });\r\n})();\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-24 16:23:35\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-24 17:22:55\r\n*/\r\n\r\nimport {refreshCart} from \"../engine/checkout.func.jsx\";\r\n\r\nexport function addToCart(id, name, price, flyObj){\r\n    var jsonObj = {};\r\n    jsonObj['id'] = id;\r\n    jsonObj['name'] = name;\r\n    jsonObj['price'] = price;\r\n    theCart.contents.push(jsonObj);\r\n    console.log('addToCart: theCart = ', theCart);\r\n    setStorage('theCart', theCart.contents);\r\n    flyToCart($(flyObj));cartBottomPanel\r\n    refreshCart();\r\n}\r\n\r\nexport function repeatOrder(items){\r\n    console.log('repeatOrder: items = ', items);\r\n    var hey = items.map(function(the, i) {\r\n        addToCart(the.menu_item_id, the.menu_item_name, the.menu_item_price, \"#\"+'singleItem-'+the.menu_item_id);\r\n    });\r\n\r\n}\r\n","function templateCartFooter(){\n    var totalPrice = 0;\n    var totalCount = 0;\n    $.each(theCart.contents, function(index, value){\n        totalPrice += value.price;\n        totalCount++;\n    });\n\n    var out = `\n        <div class=\"row\">\n            <div class=\"col-lg-8\">\n                <div class=\"price-total\">\n                    <b>Итого</b>: <span>${totalCount}</span> товаров на сумму <span>${totalPrice} <i class=\"fa fa-rouble\"></i></span>\n                </div>\n            </div>\n        </div>\n    `;\n\n    return out;\n}\n\nfunction hideCart(){\n  //  $('.checkout-active').removeClass('checkout-active');\n    $('.checkout-close').click();\n    $('#cartBottomPanel').velocity('transition.slideDownOut', { duration: 400 });\n    $('#cartBottomPanel').addClass('cart-empty');\n}\n\nexport function clearCart(){\n    localStorage.removeItem('theCart');\n    theCart.contents = [];\n    console.log('clearCart: cleared');\n    hideCart();\n}\n\nexport function refreshCart(){\n    var cartPanel = $('#cartBottomPanel');\n    var cartContents = getStorage('theCart');\n    var tables = getStorage('theReservation');\n\n        var foodCount = 0, tablesCount = 0, totalCount;\n\n        if(cartContents !== null) foodCount = cartContents.length;\n        if(tables !== null) tablesCount = 1\n\n        totalCount = tablesCount+foodCount;\n        if( totalCount == 0 ) {\n            console.log('refreshCart: Cart is empty');\n            localStorage.removeItem('theCart');\n            clearCart();\n        } else {\n            $('.checkout-total').html(totalCount);\n\n\n            if(cartPanel.hasClass('cart-empty')){\n                console.log('refreshCart: cart empty is set');\n                cartPanel.removeClass('cart-empty');\n                cartPanel.css({opacity:1}).velocity('transition.slideUpBigIn', { duration: 600 });\n            }\n\n            var uniqueList;\n            var uniqueCount = _.countBy(cartContents, \"id\");\n            var uniqueList = _.uniq(cartContents, \"id\");\n            var tablesList = _.uniq(tables, \"id\");\n\n            var cartTable = null;\n\n            var tablesList, foodList;\n\n            if(tables !== null) tablesList += pasteCartTable(tables);\n\n            $.each(uniqueList, function(key, value){\n               foodList += pasteCartElement(value,uniqueCount[value.id], key);\n            });\n\n            $('.checkout-contents').html(tablesList+foodList);\n            $('.checkout-footer').html(templateCartFooter());\n        }\n\n}\n\nfunction pasteCartTable(cartElement, elementCount, key){\n    var el = `\n    <tr class=\"reservation-${cartElement.type}\" data-id=\"${cartElement.id}\">\n        <td>${cartElement.name} </td>\n        <td>${cartElement.price} р.</td>\n        <td>\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n                <input type=\"text\" value=\"${cartElement.count}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n            </div>\n        </td>\n        <td>\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n        </td>\n    </tr>\n    `;\n\n    return el;\n}\n\nfunction pasteCartElement(cartElement, elementCount){\n    var el = `\n    <tr class=\"reservation-${cartElement.type}\" data-id=\"${cartElement.id}\">\n        <td>${cartElement.name}</td>\n        <td>${cartElement.price} р.</td>\n        <td>\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n                <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\n                <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n                <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\n            </div>\n        </td>\n        <td>\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n        </td>\n    </tr>\n    `;\n\n    return el;\n}\n","import {clearCart} from './checkout.func.jsx';\n\nfunction orderSuccess(data){\n    swal({\n      title:'Ваш заказ обработан! ',\n      text:`В течении нескольких минут вам перезвонит сотрудник ресторана для подтверждения заказа.`,\n      type:'success',\n      confirmButtonText: 'Продолжить',\n      buttonsStyling: 'false',\n      animation:'slide-from-top'\n    }, function(){\n        toastr.success('Посмотреть статус заказа можно в разделе \"История\"','Заказ принят!');\n    });\n}\n\nexport function createOrder(callback){\n    var cartContents = getStorage('theCart');\n    var uniqueList = _.uniq(cartContents, \"id\");\n    var uniqueCount = _.countBy(cartContents, \"id\");\n    var userProfile = getStorage('profile');\n\n    var paymentType = $('.checkout-payment-type').val(),\n        personsCount = $('#checkout-persons').val(),\n        street = $('#checkout-street').val(),\n        building = $('#checkout-building').val(),\n        usedBonus = $('#checkout-bonus').val(),\n        cash = $('#checkout-cash').val(),\n        comment = $('#checkout-comment').val(),\n        phone = $('#checkout-phone').val(),\n        porch = $('#checkout-porch').val(),\n        floor = $('#checkout-floor').val(),\n        apartment = $('#checkout-apartment').val(),\n        restaurauntId = currentCompany;\n\n    console.log('createOrder: uniqueList = ', uniqueList);\n    console.log('createOrder: uniqueCount = ', uniqueCount);\n    console.log('createOrder: userProfile = ', userProfile);\n\n    var summary = [];\n    var tables = [];\n\n    for(i = 0; i < uniqueList.length; i++){\n        var row = {};\n\n        if ( uniqueList[i].type == 'food'){\n            row['menu_item_id'] = uniqueList[i].id,\n            row['menu_item_price'] = uniqueList[i].price,\n            row['count'] = uniqueCount[uniqueList[i].id];\n            summary.push(row);\n        } else {\n            row['id'] = uniqueList[i].id,\n            row['price'] = uniqueList[i].price,\n            row['count'] = uniqueList[i].count,\n            row['hall'] = uniqueList[i].hall\n            tables.push(row);\n        }\n    }\n\n    console.log('createOrder: summary = ', summary);\n\n    var reservation = getStorage('theReservation');\n\n    var params = {\n        token: userToken,\n        restaurantId: currentCompany,\n        menuItems: summary,\n        street: street,\n        usedBonus: usedBonus,\n        porch: porch,\n        floor: floor,\n        apartment: apartment,\n        building: building,\n        payment_type: paymentType,\n        cash: cash,\n        persons_count: parseInt(personsCount),\n        comment: comment\n    };\n\n\n    $.ajax({\n        type: 'POST',\n        dataType: 'json',\n        contentType: \"application/json\",\n        url: serverUrl + '/api/v3/orders/create',\n        data: JSON.stringify(params),\n        success: function(data) {\n            if(!data.err){\n                $('.checkout-cancel').click();\n                clearCart();\n                console.log('createOrder: success: ', data);\n                orderSuccess(data);\n                if (callback) callback(data);\n            } else {\n                console.log('createOrder: ERROR: ', data.err);\n                toastr.error('Заполните пожалуйста все обязательные поля', 'Недостаточно информации');\n            }\n        }\n    });\n}\n","export function reservationAdded(){\n    toastr.success('Заявка на резервацвацию в вашей корзине', 'Стол добавлен');\n    swal({\n      title:'Стол добавлен в корзину! ',\n      text:`Вы можете прикрепить блюда, которые подадут к заказанному столу. Перейдите в меню для выбора блюд. Или продолжите самостоятельно.`,\n      type:'success',\n      confirmButtonText: 'Перейти в меню',\n      cancelButtonText: 'Продолжить',\n      showCancelButton: true\n    },\n    function(isConfirm) {\n      if (isConfirm) {\n        $('a[href=\"#tab-food\"').click();\n      }\n    });\n}\n\nfunction reservationSuccess(){\n    localStorage.removeItem('theReservation');\n    swal({\n      title:'Стол забронирован! ',\n      text:`В течении нескольких минут вам перезвонит сотрудник ресторана для подтверждения. Статус вашего заказа смотрите в разделе \"История\"`,\n      type:'success',\n      confirmButtonText: 'Продолжить',\n\n      animation:'slide-from-top'\n    }, function(){\n        toastr.success('Стол успешно забронирован!');\n    });\n\n}\n\n\nexport function createReservation(){\n    var table = getStorage('theReservation');\n\n    if ( table == null ){\n        toastr.error('Вы не выбрали ни одного стола на резервацию', 'Стол не выбран!');\n    } else {\n        var params = {\n            token: userToken,\n            restaurantId: currentCompany,\n            hallId: table.hall,\n            phone: $('#checkout-phone').val(),\n            tableId: table.id,\n            date: table.date\n        };\n\n        console.log('createReservation: params = ',params);\n\n        $.ajax({\n            type: 'POST',\n            dataType: 'json',\n            contentType: \"application/json\",\n            url: serverUrl + '/api/v3/reservation/create',\n            data: JSON.stringify(params),\n            success: function(data) {\n                if(!data.err){\n                    $('.checkout-cancel').click();\n                    console.log('createReservation: Success',   data);\n                    reservationSuccess(data);\n                } else {\n                    console.log('createReservation: ERROR: ', data.err);\n                    if(data.err == 'Table already reserved'){\n                        toastr.error('Стол уже зарезервирован на это время', 'Ошибка');\n                        localStorage.removeItem('theReservation');\n                    }\n                }\n            }\n        });\n    }\n    console.log('createReservation: Table = ', table);\n\n}\n\n\n","\n    function editUserField(fieldId, callback) {\n        var theOptions = {};\n        var theParameter = $('#'+fieldId).data('id');\n        var currentCity = getStorage('city');\n        var cityId = currentCity.city_id || 3;\n        var setValue = $('#' + fieldId).val();\n\n        theOptions['userToken'] = userToken;\n        theOptions['cityId'] = cityId;\n\n        if( fieldId == \"userBirthdate\" ){\n            console.log('Editing: userBirthdate, ', setValue+' = '+moment(setValue).utc().format('X'));\n            setValue = moment(setValue).utc().format('X');\n            console.log('setValue: ', setValue);\n        }\n\n        theOptions[theParameter] = setValue;\n\n        console.log('editUserField: Options: ',theOptions);\n        $.ajax({\n            url: serverUrl + '/api/v2/user/profile/edit',\n            dataType: 'json',\n            type: 'POST',\n            data: theOptions,\n            success: function(data) {\n                console.log('editUserField: ', data);\n                if (data.err === undefined || data.err === null) {\n                    toastr.success('Данные профиля сохранены');\n                }\n                $('#' + fieldId).parent().addClass('has-success');\n                refreshUserProfile();\n                if (callback) callback(data);\n            }\n        });\n    }\n\n    function emptyProfile() {\n        var token = userToken;\n        getUserProfile(token, function(data) {\n            var userBonus = getUserBonus(userToken);\n            var userInfo = data;\n            $('#userBadgeTop').html(`\n              <div class=\"user-text\" id=\"buttonEmptyProfile\">\n                <b class=\"user-name\">Добро пожаловать!</b>\n                <a class=\"r-bonus\">У вас <b>${userBonus}</b> <span class=\"fa fa-rouble\"></span>-бонусов</a>\n              </div>\n            `);\n        });\n    }\n\n    export function refreshUserProfile() {\n        var token = userToken;\n        getUserProfile(token, function(data) {\n            var userBonus = getUserBonus(userToken);\n            var userInfo = data;\n            var userAvatar = data.userAvatarUrl;\n            if (data.userAvatarUrl === undefined || data.userAvatarUrl === null) {\n                userAvatar = 'images/samples/user.png';\n            }\n            $('#userBadgeTop').html(`\n          <div class=\"user-text\">\n            <b class=\"user-name\">${data.userName} ${data.userSurname}</b>\n            <a class=\"r-bonus\"><b>${userBonus}</b> <span class=\"fa fa-rouble\"></span>-бонусов</a>\n          </div>\n          <div class=\"user-avatar\" style=\"background-image:url(${userAvatar})\"></div>\n        `);\n        });\n    }\n\n    function getUserBonus(userToken) {\n        var bonus;\n        $.ajax({\n            url: serverUrl + '/api/v2/user/bonus/' + userToken,\n            async: false,\n            dataType: 'json',\n            success: function(data) {\n                bonus = data.result.userBonus;\n            }\n        });\n        return bonus;\n    }\n\n    $(function() {\n\n        refreshUserProfile();\n        var oldFieldVal;\n\n        $(document).on('focusin', \".profile-autoupdate\", function() {\n            oldFieldVal = $(this).val();\n        });\n\n        $(document).on('focusout', \".profile-autoupdate\", function() {\n            var fieldId = $(this).attr('id');\n            var newFieldVal = $(this).val();\n            if( !(oldFieldVal == newFieldVal) ){\n                console.log('Editing: #' + fieldId + ', data-id=' + $(this).data('id'), 'Old val = '+oldFieldVal);\n                editUserField(fieldId);\n            } else console.log('AutoField: Nothing changed');\n\n        });\n\n\n    });\n","var CampaignsActions = Reflux.createActions([\n    'fetchList', 'updateData'\n]);\n\nmodule.exports = CampaignsActions;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-04-02 14:06:53\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-04-02 14:07:37\n*/\n\nvar CardsActions = Reflux.createActions([\n    'fetchList', 'updateData', 'bindCard'\n]);\n\nmodule.exports = CardsActions;\n","var CategoriesListActions = Reflux.createActions([\n    'fetchList', 'updateData'\n]);\n\nmodule.exports = CategoriesListActions;\n","var CityActions = Reflux.createActions([\n    'fetchList'\n]);\n\nmodule.exports = CityActions;\n","var CompanyDetailsActions = Reflux.createActions([\n    'fetchList', 'updateData'\n]);\n\nmodule.exports = CompanyDetailsActions;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 13:41:13\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-29 22:30:31\n*/\n\nvar CompanyListActions = Reflux.createActions([\n    'fetchList', 'updateData', 'filterData', 'selectByCuisine', 'getCurrentCuisine', 'setCurrentCity'\n]);\n\nmodule.exports = CompanyListActions;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 20:10:48\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 20:37:37\r\n*/\r\n\r\nvar CuisinesActions = Reflux.createActions([\r\n    'fetchList', 'getCuisineById'\r\n]);\r\n\r\nmodule.exports = CuisinesActions;\r\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-31 23:13:33\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-04-01 00:37:36\n*/\n\nvar MenuItemsActions = Reflux.createActions([\n    'fetchList', 'updateData'\n]);\n\nmodule.exports = MenuItemsActions;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-04-02 16:46:11\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-02 16:50:39\r\n*/\r\n\r\nvar ProfileEditorActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nmodule.exports = ProfileEditorActions;\r\n","var CardsStore = require('./stores/cardsStore.js');\nvar CardsActions = require('./actions/cardsActions.js');\n\nvar CardsList = React.createClass({\n    mixins: [Reflux.connect(CardsStore, 'cardsData')],\n    getInitialState: function(){\n      return {\n        data: [],\n        cardsData: []\n      };\n    },\n    componentDidMount: function() {\n     //   OrdersHistoryActions.updateData();\n    },\n    render: function() {\n        console.log(this.state.cardsData);\n        return (\n            <div>\n                test\n            </div>\n        )\n    }\n});\n","var CategoriesListStore = require('./stores/categoriesListStore.js');\nvar CategoresListActions = require('./actions/categoriesListActions.js');\nvar MenuItemsActions = require('./actions/menuItemsActions.js');\n\nvar CategoryItem = React.createClass({\n\tcategoryToggle: function(el){\n\t\tvar newId = this.props.item.category_id;\n\t\tconsole.log('CategoryItem: categoryToggle: newId = ', newId);\n    var the = el.target;\n    var others = document.getElementsByClassName('category-toggle');\n    console.log(others);\n/*    $('.category-toggle.active').removeClass('active');\n    the.addClass('active');*/\n\t\tMenuItemsActions.updateData(newId);\n\t},\n\trender: function(){\n\t\tvar item = this.props.item;\n\t\treturn (\n\t\t<li className=\"category-line\">\n\t\t\t<button onClick={this.categoryToggle} className=\"category-toggle\">\n        <i className=\"icon\"></i>{item.category_name}\n      </button>\n    </li>\n\t\t)\n\t}\n});\n\nvar CategoriesList = React.createClass({\n    mixins: [Reflux.connect(CategoriesListStore, 'categories')],\n    getInitialState: function() {\n      return {\n        data: [],\n        categories: []\n      };\n    },\n    componentDidMount: function() {\n     //   OrdersHistoryActions.updateData();\n    },\n    render: function() {\n     //   OrdersHistoryActions.updateData();\n        var list = this.state.categories;\n\n\t\t\t\tconsole.log('CategoriesList: ', list);\n        var everything = list.map(function(the, i) {\n            return <CategoryItem item={the} key={i} />\n        });\n        return (\n            <div className=\"categories-list\">\n            \t<ul className=\"menu\">\n            \t{everything}\n            \t</ul>\n            </div>\n        )\n    }\n});\n\nmodule.exports = CategoriesList;\n","var CityListActions = require('./actions/cityListActions.js');\nvar CityListStore = require('./stores/cityListStore.js');\nvar CompanyListActions = require('./actions/companyListActions.js');\n\nvar Option = React.createClass({\n  render: function(){\n    return (\n      <option value={this.props.value}>{this.props.name}</option>\n    )\n  }\n});\n\nvar CityList = React.createClass({\n    mixins: [Reflux.connect(CityListStore, 'cityList')],\n    limit: 12,\n    getInitialState: function() {\n      return {\n        data: [],\n        cityList: [],\n        selected: 0,\n        value: 3\n      };\n    },\n    changeHandler: function(e) {\n        console.log('CityList: change value = '+e.target.value);\n        this.setState({\n            value: e.target.value\n        });\n        CompanyListActions.setCurrentCity(e.target.value);\n    },\n    componentDidMount: function() {\n\n    },\n    render: function() {\n      var totalList = this.state.cityList.map(function(the, i) {\n          return <Option name={the.city_name} value={the.city_id} key={i} />\n      });\n      CompanyListActions.setCurrentCity(this.state.value);\n      return (\n      <div className=\"city-select\">\n        <div className=\"form-group\">\n          <b>Ваш город</b>\n          <select id=\"cityListSelect\" onChange={this.changeHandler} className=\"form-control\">\n            {totalList}\n          </select>\n        </div>\n      </div>\n      )\n    }\n});\n\nmodule.exports = CityList;\n\nReactDOM.render(<CityList />, document.getElementById('selectCityField'));\n","var CompanyDetailsStore = require('./stores/companyDetailsStore.js');\nvar CompanyListActions = require('./actions/companyListActions.js');\nvar CuisinesList = require('./cuisinesList.react.jsx');\nvar ButtonTabToggle = require('./components/buttonTabToggle.js');\n\nimport {getReservationPointsList, getHallsList} from '../reservation.jsx';\n\n// restaurant_type:\n// 1 - только бронь\n// 2 - только доставка\n// 3 - и то и другое\n\nvar CompanyDetails = React.createClass({\n    mixins: [Reflux.connect(CompanyDetailsStore, 'companyData')],\n    limit: 12,\n    isReservation: false,\n    getInitialState: function() {\n      return {\n        data: [],\n        companyData: []\n      };\n    },\n    componentWillUpdate: function() {\n        var data = this.state.companyData;\n        if (data){\n            var type = data.restaurant_type;\n            if ( (type == 1) || (type == 3) ){\n                console.log('companyDetails: Reservation Enabled ('+type+')');\n                this.isReservation = true;\n                getHallsList(data.restaurant_id, function(data){\n                    console.log('getHallsList: callback, data = ',data);\n                });\n            } else {\n                console.log('CompanyDetails: Reservation Disabled ('+type+')');\n                this.isReservation = false;\n            }\n        } else console.log('CompanyDetails: data is undefined');\n    },\n    render: function() {\n        var company = this.state.companyData;\n        var cuisinesSelect;\n\n        if( (company.restaurant_main_image) ) {\n            var image = imageBaseUrl+company.restaurant_main_image;\n            console.log('CompanyDetails: Is image exists? ', isImageExists(image));\n        }\n\n        if( company.restaurant_cuisines )\n            cuisinesSelect = <CuisinesList cuisines={company.restaurant_cuisines} />\n\n        var buttonReservation = (this.isReservation) ?\n            <ButtonTabToggle name=\"Бронирование\" tab=\"tab-reservation\" /> :\n                <ButtonTabToggle name=\"Бронирование\" tab=\"tab-reservation\" disabled=\"true\" />\n\n        if( company.restaurant_comments_count ) {\n            console.log('CompanyDetails: Has comments ('+company.comments_count+')');\n        } else {\n            console.log('CompanyDetails: No comments ('+company.comments_count+')');\n        }\n\n        var rating = company.restaurant_rating;\n        return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-lg-2 col-xs-12 text-center\">\n                    <div className=\"logo round\">\n                        <img src={image} />\n                    </div>\n                    <div className=\"title\"><h2>{company.restaurant_name}</h2><span>{company.restaurant_info}</span></div>\n                </div>\n                <div className=\"col-lg-10 the-info\">\n                    <div className=\"line types\">\n                        <i className=\"fi-dishes icon\"></i> {cuisinesSelect}\n                        <div className=\"rating\">\n                            <span>{rating}</span>\n                        </div>\n                    </div>\n                    <div className=\"line delivery\">\n                        <i className=\"icon fi-delivery\"></i>\n                        <div className=\"box cost\">\n                            <span className=\"detail-title\">доставка</span>\n                            <b>{company.restaurant_delivery_cost} <i className=\"rouble\">o</i></b>\n                        </div>\n                        <div className=\"box time\">\n                            <span className=\"detail-title\">время</span>\n                            <b>{company.restaurant_delivery_time} мин.</b>\n                        </div>\n                        <div className=\"box min\">\n                            <span className=\"detail-title\">минимум</span>\n                            <b>{company.restaurant_min_order} <i className=\"rouble\">o</i></b>\n                        </div>\n                        <div className=\"box min\">\n                            <span className=\"detail-title\">средний чек</span>\n                            <b>{company.restaurant_average_check} <i className=\"rouble\">o</i></b>\n                        </div>\n                        <div className=\"box pay\">\n                            <div className=\"cards\">\n                                <div className=\"card-icon mastercard\"><img src=\"images/cards/mastercard.png\" /></div>\n                                <div className=\"card-icon visa\"><img src=\"images/cards/visa.png\" /></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"row buttons-line\">\n                <div className=\"col-lg-2\">\n                </div>\n                <div className=\"col-lg-6 buttons-tabs\" data-tabs=\"tabs-shop\">\n                    <ButtonTabToggle name=\"Отзывы\" tab=\"tab-comments\" />\n                    <ButtonTabToggle name=\"Доставка\" active=\"true\" tab=\"tab-food\" />\n                    {buttonReservation}\n                </div>\n                <div className=\"col-lg-4 buttons-reserv\">\n                    <a className=\"button light\" href=\"#\">\n                        <i className=\"icon icon-eye\"></i>\n                        <span>3D тур</span>\n                    </a>\n                    <button className=\"button main screen-toggle\" data-screen=\"pageCompanyList\" id=\"buttonRestaurantList\">\n                        <i className=\"icon icon-list\"></i>\n                        <span>К списку ресторанов</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        );\n      }\n});\n\nReactDOM.render( <CompanyDetails companyId=\"1\"/>, document.getElementById('companyDetails') );\n","var ButtonMore = require('./components/buttonMore.js');\nvar CuisinesList = require('./cuisinesList.react.jsx');\nvar CompanyListStore = require('./stores/companyListStore.js');\nvar CompanyListSidebar = require('./components/companyListSidebar.js');\nvar QuicklyLogo = require('./components/quicklyLogo.js');\nvar CuisinesActions = require('./actions/cuisinesActions.js');\nvar SingleCompany = require('./components/singleCompany.js');\nvar CompanyListActions = require('./actions/companyListActions.js');\nvar CuisinesList = require('./companyList.react.jsx');\n\nvar CompanyListHeader = React.createClass({\n    render: function(){\n        var cuisine = this.props.cuisine;\n            return (\n            <section className=\"company-list-header\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-4\">\n                            <div className=\"row main-logo\">\n                                <div className=\"col-lg-6\">\n                                    <div className=\"cuisine-thumb\">\n                                        <img src={imageBaseUrl+cuisine.cuisine_image} alt={cuisine.cuisine_name} />\n                                    </div>\n                                </div>\n                                <div className=\"col-lg-6 text\">\n                                    <h1>{cuisine.cuisine_name}</h1>\n                                    <p>Выберите ресторан из списка</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"row bottom-line\">\n                        <div className=\"col-lg-8\">\n                            <div className=\"back-to-home align-left back-left\">\n                                <button className=\"button light screen-toggle\" data-screen=\"pageMain\" id=\"buttonPageMain\">\n                                    <i className=\"icon icon-arrow-left\"></i><span> К списку</span>\n                                </button>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-4 align-right\">\n\n                        </div>\n                    </div>\n                </div>\n            </section>\n            )\n\n    }\n});\n\nvar CompanyList = React.createClass({\n    mixins: [Reflux.connect(CompanyListStore, 'companyData')],\n    limit: 5,\n    cuisineId: 0,\n    getInitialState: function() {\n      return {\n        data: [],\n        companyData: [],\n        cuisines: []\n      };\n    },\n    componentDidMount: function() {;\n        this.state.cuisines = getStorage('cuisines');\n    },\n    loadMore: function(){\n        this.limit += 5;\n        CompanyStore.updateData();\n    },\n    render: function() {\n        var cuisineId = CompanyListStore.getCurrentCuisine();\n\n        var theData = this.state.companyData;\n        console.log('CompanyList: companyData = ', this.state.companyData);\n        var totalList = this.state.companyData.map(function(the, i) {\n            return <SingleCompany company={the} key={i} />\n        });\n\n        console.log('CompanyList: this.state.cuisines = ', this.state.cuisines);\n\n        var overall, single, cuisines, cuisine;\n\n        console.log('CompanyListHeader: cuisineId = ', cuisineId);\n        if (cuisineId > 0) {\n            cuisines = getStorage('cuisines');\n            single = _.where(cuisines,{cuisine_id:cuisineId});\n\n            single.forEach(function (val, index) {\n                cuisine = <CompanyListHeader cuisine={val} />;\n            });\n        }\n        console.log('CompanyListHeader: cuisine = ', cuisine);\n\n        return (\n        <div className=\"company-list-wrap\">\n            <div className=\"gray header-gray\">\n                {cuisine}\n            </div>\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"no-padding col-lg-9\">\n                        <div className=\"company-list\" id=\"companyList\">\n                            <div>\n                                <div className=\"row\">\n                                    {totalList}\n                                </div>\n                                <div className=\"full-width align-center\">\n                                    <ButtonMore onClick={this.loadMore} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-lg-3 mobile sidebar\" id=\"companyListSidebarWrap\">\n                        <div className=\"button-close\" id=\"menu-close\"><i className=\"icn-cancel\"></i></div>\n                        <div className=\"button-open\" id=\"menu-open\"><i className=\"icn-menu\"></i></div>\n                        <div className=\"sidebar-wrap\">\n                            <div id=\"companyListSidebar\" className=\"company-list-sidebar\">\n                                <CompanyListSidebar />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        )\n    }\n});\n\n\nReactDOM.render(<CompanyList />, document.getElementById('pageCompanyList'));\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-30 02:11:05\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-30 02:22:37\r\n*/\r\n\r\nvar ButtonBack = React.createClass({\r\n    render: function(){\r\n        return(\r\n            <div className=\"button-back\">\r\n                <i className=\"icon-arrow-left\"></i>\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ButtonBack;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-24 15:45:19\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-02 13:26:10\r\n*/\r\n\r\nvar ButtonMore = React.createClass({\r\n    render: function (){\r\n        return (\r\n            <button onClick={this.props.onClick} className=\"button button-more\"><i className=\"icon-reload\"></i> Загрузить ещё</button>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ButtonMore;\r\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-04-07 14:04:04\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-07 14:55:49\r\n*/\r\n\r\nvar ButtonTabToggle = React.createClass({\r\n    render: function(){\r\n        var classNames = \"tab-toggle btn button light\";\r\n        var disabled = false;\r\n\r\n        if( this.props.disabled ){\r\n            disabled = true;\r\n        }\r\n        if( this.props.active ){\r\n            console.log('ButtonTabToggle: \"'+this.props.name+'\" is active');\r\n            classNames += \" active\";\r\n        }\r\n        return(\r\n            <button className={classNames} id={this.props.id} data-tab={this.props.tab} disabled={disabled}>\r\n                <span>{this.props.name}</span>\r\n            </button>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = ButtonTabToggle;\r\n","var CampaignsStore = require('../stores/campaignsStore.js');\nvar CampaignsActions = require('../actions/campaignsActions.js');\nvar CampaignsLimitedStore = require('../stores/CampaignsLimitedStore.js');\n\nvar SliderItem = React.createClass({\n    render: function(){\n        var className, expires = \"Акция действительна до \";\n        if( this.props.pos == '0' ) className = \"selected\";\n        if( this.props.expires ) {\n            expires += moment.unix(this.props.expires).format(\"MM/DD/YYYY HH:mm\");\n        } else expires = \"Постоянная акция\";\n        return(\n        <li className={className}>\n            <div className=\"half-width\">\n                <h2>{this.props.title}</h2>\n                <p>{}{expires}</p>\n                <a href=\"#0\" className=\"button main\">Подробнее об акции</a>\n            </div>\n            <div className=\"half-width img-container\">\n                <img src={imageBaseUrl+this.props.image} alt=\"...\" />\n            </div>\n        </li>\n        )\n    }\n});\n\nvar CampaignsSlider = React.createClass({\n    mixins: [\n        Reflux.connect(CampaignsStore, 'campaignsData'),\n        Reflux.connect(CampaignsLimitedStore, 'campaignsLimitedData')\n    ],\n    getInitialState: function() {\n      return {\n        data: [],\n        campaignsData: [],\n        campaignsLimitedData: []\n      };\n    },\n    render: function(){\n        console.log('CampagainsSlider: ', this.state.campaignsData, this.state.campaignsLimitedData);\n        var campaigns = this.state.campaignsData;\n        var campaignsLimited = this.state.campaignsLimitedData;\n        var count = 0;\n        var slides = campaigns.map(function(the, i) {\n            return <SliderItem title={the.campaign_name} image={the.campaign_image} pos={i} key={i} />\n        });\n        var slidesLimited = campaignsLimited.map(function(the, i) {\n            return <SliderItem title={the.campaign_name} expires={the.campaign_end} image={the.campaign_image} pos={i} key={i} />\n        });\n        console.log(slidesLimited);\n        return (\n            <section className=\"hero\">\n            <ul className=\"quickly-slider autoplay\">\n                {slides} {slidesLimited}\n            </ul>\n            <div className=\"slider-nav\">\n                <nav>\n                    <span className=\"marker item-1\"></span>\n                    <ul>\n                        <li className=\"selected\">\n                            <a href=\"#0\"></a>\n                        </li>\n                        <li><a href=\"#0\"></a></li>\n                        <li><a href=\"#0\"></a></li>\n                        <li><a href=\"#0\"></a></li>\n                        <li><a href=\"#0\"></a></li>\n                    </ul>\n                </nav>\n            </div>\n            </section>\n        )\n    }\n});\n\nmodule.exports = CampaignsSlider;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 19:17:52\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-29 19:20:04\n*/\n\nvar CompanyListSidebar = React.createClass({\n    filterCardCourier: function(e){\n        console.log(e.target.value);\n        if ( e.target.value == 'on' ){\n            CompanyListActions.filterData(3);\n        }\n    },\n    render: function(){\n        console.log('CompanyListSidebar: init');\n        return(\n        <div className=\"sidebar-wrap company-list-sidebar\">\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Бесплатная доставка</span></label>\n            </div>\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Есть акции</span></label>\n            </div>\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" onChange={this.filterCardCourier} name=\"somename\" /> <span className=\"filter-name\">Оплата картой курьеру</span></label>\n            </div>\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Онлайн оплата</span></label>\n            </div>\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Еда за баллы</span></label>\n            </div>\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Работает сейчас</span></label>\n            </div>\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Рядом со мной</span></label>\n            </div>\n            <div className=\"checkbox control-item\">\n              <label><input type=\"checkbox\" name=\"somename\" /> <span className=\"filter-name\">Новые</span></label>\n            </div>\n        </div>\n        )\n    }\n});\n\nmodule.exports = CompanyListSidebar;\n","var CuisinesStore = require('../stores/cuisinesStore.js');\nvar CompanyListActions = require('../actions/companyListActions.js');\n\nimport {showScreen} from '../../screens.jsx';\n\nvar SingleCuisine = React.createClass({\n    toggleCategory: function(cuisine){\n        CompanyListActions.selectByCuisine(this.props.cuisine);\n        showScreen('pageCompanyList');\n    },\n    render: function(){\n        return(\n        <div onClick={this.toggleCategory} className=\"cuisine-select-item col-lg-4 col-xs-6 category-item\" data-id={this.props.cuisine.cuisine_id}>\n            <a href=\"#\">\n                <div className=\"image\">\n                    <img src={imageBaseUrl+this.props.cuisine.cuisine_image} alt=\"...\" />\n                    <div className=\"overlay\"></div>\n                </div>\n                <div className=\"food-type\">\n                    <b>{this.props.cuisine.cuisine_name}</b>\n                    <div className=\"information\">\n                        <span className=\"total total-delivery\">\n                            <span>Доставка:</span>\n                            <span className=\"sum\"> {this.props.cuisine.delivery_count}</span>\n                        </span>\n                        <span className=\"total total-delivery\">\n                            <span>Бронь:</span>\n                            <span className=\"sum\"> {this.props.cuisine.reservations_count}</span>\n                        </span>\n                    </div>\n                </div>\n            </a>\n        </div>\n        )\n    }\n});\n\n\nvar CuisinesSelectList = React.createClass({\n    mixins: [Reflux.connect(CuisinesStore, 'cuisinesData')],\n    limit: 5,\n    getInitialState: function() {\n      return {\n        data: [],\n        cuisinesData: []\n      };\n    },\n    componentDidMount: function() {\n\n    },\n    render: function() {\n        var allCuisines = this.state.cuisinesData;\n        var list = allCuisines.map(function(the, key) {\n            if (key < 6) return (\n                <SingleCuisine cuisine={the} key={key} />\n            )\n        });\n        return (\n        <section className=\"the-tab tab-active main-categories types-grid\">\n            <div className=\"container\">\n                <div className=\"row\" id=\"cuisinesList\">\n                    {list}\n                </div>\n            </div>\n        </section>\n        )\n    }\n});\n\nmodule.exports = CuisinesSelectList;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 19:22:53\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-03-29 19:24:29\r\n*/\r\n\r\nvar QuicklyLogo = React.createClass({\r\n    render: function(){\r\n        return (\r\n            <svg className=\"logo-svg zoomer-image\" xmlns=\"http://www.w3.org/2000/svg\" id=\"svg-quickly\" fill-rule=\"evenodd\" viewBox=\"0 0 13214.144 12912.382\" clip-rule=\"evenodd\" image-rendering=\"optimizeQuality\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\">\r\n              <g>\r\n                <g>\r\n                  <path className=\"disappear svg-text\" fill-rule=\"nonzero\" d=\"M2552.117 9764.941c-82.4915 24.232-156.2183 36.6058-220.1493 36.6058-163.4363 0-323.2637-48.9794-477.4198-147.4537-97.4433-62.8997-225.3052-172.201-384.617-327.3882-100.5365 11.3426-188.6994 17.014-264.4885 17.014-347.4957 0-636.7317-121.1596-867.1924-363.994C112.4296 8741.5302-.481 8448.1697-.481 8099.643c0-354.198 121.1596-645.4964 363.994-874.4105 238.71-224.7894 535.6796-336.6686 889.8777-336.6686 351.1047 0 638.2784 117.5503 860.49 353.6824 218.087 231.492 327.3883 524.337 327.3883 877.504 0 452.1567-176.8412 793.981-530.5237 1026.504 117.0348 168.0766 210.3534 286.6582 278.9245 355.2293 86.1006 85.0695 206.7445 172.7167 362.4473 263.4574zm-499.5894-1567.855c0-265.5196-74.2424-496.496-224.274-693.4445-163.4363-216.0247-374.3053-323.7793-634.6693-323.7793-244.3812 0-441.3298 82.4915-591.3613 247.9902-142.8135 159.3118-214.478 362.9628-214.478 608.8908 0 263.4573 75.2735 493.918 226.3362 691.8978 166.0142 216.0248 376.8833 323.7794 634.6694 323.7794 238.71 0 434.6273-84.0383 586.2055-253.146 144.876-161.8896 217.5716-362.4472 217.5716-602.1883zM4091.1 9309.1754h-395.4438v-280.9868l-250.0525 274.2844c-79.3982 27.3252-153.125 41.2457-219.6338 41.2457-183.5438 0-310.3745-53.6196-378.9456-160.343-52.5884-83.007-79.9137-221.696-80.945-417.098-1.031-57.744-.5155-140.2355 1.5468-247.4745 3.609-114.457 5.1558-196.9486 5.1558-249.0214 0-252.1148-24.232-459.3748-72.6957-621.78h464.5305c-43.8236 117.0348-65.4776 256.2393-65.4776 415.551v628.9982c0 123.2217 16.4983 207.7756 50.0105 254.177 40.2146 56.713 118.5816 85.0695 234.5853 85.0695 85.0694 0 187.6683-28.872 308.3122-86.616v-838.836c0-166.53-22.1696-319.1393-65.9933-458.3438H4091.1c-44.3392 142.298-65.9932 252.6304-65.9932 330.4818v806.8705c0 211.3846 21.654 385.648 65.9932 523.8213zm756.86-2089.0985c0 64.962-18.5606 122.7062-55.1662 174.779-41.7613 55.1662-93.834 83.007-156.2184 83.007-67.54 0-122.1906-26.294-164.983-79.398-38.1524-48.9794-57.2286-107.7546-57.2286-178.388 0-67.54 19.0762-125.7996 57.2285-175.81 41.7614-55.1663 95.381-83.0072 161.374-83.0072 61.3532 0 113.9416 28.3564 156.2185 85.0694 39.1835 51.5572 58.7752 109.817 58.7752 173.7478zm21.1385 2089.0985h-465.046c43.8235-135.5955 65.993-300.5786 65.993-494.9493v-622.2956c0-146.938-2.5778-239.741-6.7023-279.9557-6.7025-75.789-26.8098-163.4364-59.2908-263.973h465.046c-32.481 126.3152-52.5883 214.478-59.2907 262.9418-4.6402 42.7925-6.7025 131.471-6.7025 266.0353v637.2472c0 196.9486 21.654 361.416 65.9933 494.9493zm1494.1282-343.371l-130.9553 318.6236c-110.848 39.699-219.1182 59.2907-324.295 59.2907-246.959 0-443.392-76.8203-586.721-230.4608-140.2357-149.0005-210.3536-348.0113-210.3536-596.517 0-271.191 80.945-489.7937 243.35-654.7768 161.8898-166.0143 378.9457-248.5058 650.6522-248.5058 133.0176 0 239.741 11.858 320.1703 35.5745l-17.0138 387.7102c-76.8203-69.0867-131.9865-114.457-167.561-134.5644-59.2908-35.059-128.3775-53.104-205.7133-53.104-152.6094 0-272.7377 60.8376-361.9317 182.5126-78.8825 109.817-118.5816 243.35-118.5816 402.1463 0 182.5126 40.73 332.0285 122.1905 448.5478 93.8342 131.9865 227.883 197.9798 402.662 197.9798 118.066 0 246.4434-38.1524 384.1012-114.457zm1617.8655 343.371h-492.3714c7.7336-53.104-64.962-201.073-217.5715-443.9076-92.2874-141.2668-185.0904-282.018-278.409-423.2848v447.001c0 118.066 2.0623 190.7617 6.7025 218.6026 5.1557 43.308 25.263 110.3324 59.2908 201.5887h-465.046c32.481-87.6473 53.1038-170.1388 60.8374-245.4123 3.609-38.1524 5.1557-125.7997 5.1557-260.8796V7410.323c0-137.1423-22.1696-263.4574-65.9932-379.4612l465.046-93.834c-44.339 148.4847-65.9932 311.921-65.9932 489.278v997.1165c82.4916-118.066 164.983-237.1632 248.5058-356.776 112.395-180.9658 167.561-320.686 163.952-418.6446h551.6623c-130.9553 100.5366-244.3812 215.5092-341.8243 345.4334-15.4672 20.623-108.7858 160.8586-278.9246 421.2226 151.0627 236.6476 251.0837 391.8348 300.5786 464.015 117.5505 169.1076 232.0075 313.4678 344.4022 430.5027zm583.1122 0h-464.5306c43.8237-168.0765 65.9933-337.1842 65.9933-506.292V7571.1816c0-172.7167-22.1695-353.167-65.9932-540.3197l464.5306-93.834c-43.8237 230.9762-65.9933 436.6895-65.9933 616.1086v1288.415c0 161.8896 22.1697 317.5924 65.9934 467.624zm1744.1807-1661.1736c-111.879 159.3118-226.336 405.7553-344.9177 738.815-160.343 455.2502-260.8795 726.4412-300.5786 813.573-128.893 288.2047-277.8934 496.496-447.001 625.389H8800.852c139.72-116.0038 250.568-232.523 331.513-349.0424 68.571-97.9587 144.8757-240.2567 228.914-426.8938l-293.8762-722.3166c-124.7684-287.1738-252.6303-513.51-385.648-679.5243h457.828c24.7476 125.284 86.6163 313.468 184.575 564.036 73.7268 180.9658 146.4225 361.9317 218.6026 542.8975 62.3842-180.9658 124.253-362.4472 186.637-544.4442 72.6958-227.883 107.239-415.5512 103.63-562.4893h475.3577z\" className=\"fil0\"/>\r\n                  <path className=\"disappear svg-line\" fill-rule=\"nonzero\" d=\"M6594.203 1912.7767c1257.9962-46.4015 2415.9713 421.738 3271.3056 1215.7192 831.1023 771.8115 1376.0622 1852.4508 1448.2423 3068.17l.5154 13.405-202.6198 7.7335 202.6198-7.7336c2.0623 30.4186 3.0935 60.3218 4.6402 90.7406 40.2146 1094.0442-308.3122 2112.2993-922.3587 2921.7476l-188.184-88.163c602.704-778.514 946.5906-1764.8035 907.407-2825.851-1.031-30.4188-2.5777-60.8375-4.1244-90.7407l-1.0312-11.3426c-69.0867-1160.553-589.8146-2192.213-1383.2802-2929.4813-817.182-758.4067-1923.5998-1205.4078-3125.3986-1161.0686-1202.3143 44.3393-2272.6422 571.7697-3031.5645 1388.436-758.4066 817.182-1205.4076 1923.6-1161.0684 3125.3986-146.938 4.6402-137.1422 22.6852-203.1355 7.7336-46.4014-1258.5117 421.7382-2415.9713 1215.7193-3271.3055 793.9812-854.8187 1914.3196-1406.9965 3172.3157-1453.398z\" className=\"fil0\"/>\r\n                  <path className=\"the-path disappear svg-red-angle\" id=\"svg-logo-red\" fill=\"#e80707\" d=\"M9674.2313 9575.726l3266.6654 1479.6923-1312.6468 1493.097z\" className=\"fil2\"/>\r\n                  <path className=\"the-path disappear svg-blue\" id=\"svg-logo-blue\" fill=\"#1620e0\" d=\"M1893.7314 6475.075l-1593.6337 2.0623c-2.0623-1716.3398 677.462-3363.593 1889.572-4578.7966l1123.9475 1120.854c-877.504 880.0816-1420.4014 2094.254-1420.4014 3435.2574 0 6.7025.5156 13.9206.5156 20.623z\" className=\"fil3\"/>\r\n                  <path className=\"the-path disappear svg-green\" id=\"svg-logo-green\" fill=\"#109634\" d=\"M3303.3057 3030.0216l-1131.1653-1128.072C3384.2506 686.2305 5029.4414 2.5817 6745.7814.004c945.0437-1.0313 1878.745 204.682 2736.1415 602.7037L8812.1945 2043.732c-624.358-291.2983-1319.8648-454.219-2054.0396-454.219-1351.3147 0-2573.2208 551.1466-3454.8493 1440.5086z\" className=\"fil4\"/>\r\n                  <path className=\"the-path disappear svg-yellow\" id=\"svg-logo-yellow\" fill=\"#f0c800\" d=\"M8800.852 2038.5763l668.697-1439.4776c2280.8915 1060.0165 3741.5075 3345.548 3744.601 5860.509 2.0622 1325.0207-402.662 2610.8577-1148.695 3689.9503l-1446.6955-735.7215c629.5137-819.7598 1003.819-1845.7485 1003.819-2959.3844 0-1957.112-1155.3972-3644.064-2821.7265-4415.8757z\" className=\"fil5\"/>\r\n                  <path className=\"the-path disappear svg-red\" id=\"svg-logo-red-2\" fill=\"#e00909\" d=\"M6600.39 12910.447c-2169.528-53.104-4062.1934-1170.3488-5192.8432-2839.7716h2080.8494c865.13 782.123 2011.7626 1259.0273 3269.7588 1259.0273 1071.359 0 2062.2887-345.949 2867.097-932.1545l768.2025 1394.6228c-1078.0615 735.7215-2388.646 1152.3038-3793.0646 1118.276z\" className=\"fil6\"/>\r\n                </g>\r\n              </g>\r\n            </svg>\r\n        )\r\n    }\r\n});\r\n\r\nmodule.exports = QuicklyLogo;\r\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 20:59:52\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-30 02:26:15\n*/\n\nvar CuisinesList = require('../cuisinesList.react.jsx');\nvar MenuItemsActions = require('../actions/menuItemsActions.js');\nvar CategoriesListActions = require('../actions/categoriesListActions.js');\nvar CompanyDetailsActions = require('../actions/companyDetailsActions.js');\nimport {showScreen} from \"../../screens.jsx\";\n\n//<span className=\"desc\"><i>наличными</i><i>картой курьеру</i></span>\n//<span className=\"desc\">только наличные</span>\n\nvar PaymentTypes = React.createClass({\n    render: function(){\n        console.log('payment: ', this.props.type);\n        if (this.props.type == 0) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-payment-cash\"></i></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>только наличными</span>\n                </div>\n            </div>\n        );\n        if (this.props.type == 1) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-card-detail\" /></span>\n                    <span><i className=\"pay-icon fi-payment-cash\" /></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>наличными</span>\n                     <span>картой курьеру</span>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar PaymentTypesCards = React.createClass({\n    render: function(){\n        console.log('payment: ', this.props.type);\n        if (this.props.type == 0) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-payment-cash\"></i></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>только наличными</span>\n                </div>\n            </div>\n        );\n        if (this.props.type == 1) return (\n            <div className=\"payment-type\">\n                <div className=\"payment-icons\">\n                    <span><i className=\"pay-icon fi-card-detail\" /></span>\n                    <span><i className=\"pay-icon fi-payment-cash\" /></span>\n                </div>\n                <div className=\"payment-text\">\n                     <span>наличными</span>\n                     <span>картой курьеру</span>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar StarYes = React.createClass({\n    render: function(){\n        return(\n            <i className=\"fa yes fa-star\"></i>\n        )\n    }\n});\n\nvar StarNo = React.createClass({\n    render: function(){\n        return(\n            <i className=\"fa yes fa-star-o\"></i>\n        )\n    }\n});\n\nvar RatingStars = React.createClass({\n    render: function(){\n        var count = this.props.count;\n        var stars = '';\n        for(var i=0; i<count; i++){\n            stars += '<i className=\"fa yes fa-star\"></i>';\n        }\n        return (\n        <div className=\"rating\">\n            {stars}\n        </div>\n        )\n    }\n});\n\nvar SingleCompany = React.createClass({\n    toggleCompany: function(el){\n        var company = this.props.company.restaurant_id;\n        console.log('SingleCompany: Next ID: ' ,company);\n        currentCompany = company;\n        CompanyDetailsActions.updateData(company);\n        MenuItemsActions.updateData(company);\n        CategoriesListActions.updateData(company);\n        showScreen('pageCompany');\n    },\n    render: function(){\n        var total = 0;\n        var that = this.props.company;\n        var paymentType;\n\n        var imageUrl = imageBaseUrl+that.restaurant_main_image;\n        var bgImage = imageBaseUrl+that.restaurant_interior_image;\n\n        var style = { backgroundImage: 'url('+bgImage+')' }\n\n        var cardsPaymentStyle = { display: 'none' }\n\n        var rating = that.restaurant_rating;\n        var online;\n\n        if( that.restaurant_online_payment == 1 ){\n            online = \"онлайн оплата\";\n        }\n\n        if( that.restaurant_payment_type == 0 ){\n            cardsPaymentStyle = { display: 'inline-block' }\n        }\n\n        return(\n        <div className=\"col-lg-6\">\n        <section style={style} onClick={this.toggleCompany} className=\"company-item company-toggle\" data-company={that.restaurant_id}>\n            <div className=\"the-box row\">\n                <div className=\"company-logo col-lg-3 col-xs-4 col-sm-4\">\n                    <div className=\"image-thumb\">\n                        <img src={imageUrl} />\n                    </div>\n                    <div className=\"c-payment\">\n                        <img style={cardsPaymentStyle} src=\"images/cards/mastercard.png\" alt=\"...\" />\n                        <img style={cardsPaymentStyle} src=\"images/cards/visa.png\" alt=\"...\" />\n                        <div className=\"is-online\">\n                            {online}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"company-description col-lg-9 col-xs-8 col-sm-8\">\n                    <h2>\n                        {that.restaurant_name}\n                        <div className=\"rating\">\n                            {rating}\n                        </div>\n                    </h2>\n                    <div className=\"address\">\n                        <span>{that.restaurant_address}</span>\n                    </div>\n                    <div className=\"text-line cuisines-list\">\n                        <span className=\"text-line\">\n                            <CuisinesList cuisines={that.restaurant_cuisines} />\n                        </span>\n                    </div>\n                    <div className=\"row btm-line\">\n                       <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_min_order} <i className=\"fa fa-rouble\"></i></b>\n                                <span className=\"description\">заказ от</span>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_delivery_cost} <i className=\"fa fa-rouble\"></i></b>\n                                <span className=\"description\">доставка</span>\n                            </div>\n                        </div>\n\n                        <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_delivery_time} <i className=\"icon icon-clock\"></i></b>\n                                <span className=\"description\">время</span>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-3 col-xs-3 kal\">\n                            <div className=\"box-info\">\n                                <b className=\"value\">{that.restaurant_average_check} <i className=\"fa fa-rouble\"></i></b>\n                                <span className=\"description\">средний чек</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"c-payment mobile\">\n                        <img style={cardsPaymentStyle} src=\"images/cards/mastercard.png\" alt=\"...\" />\n                        <img style={cardsPaymentStyle} src=\"images/cards/visa.png\" alt=\"...\" />\n                        <div className=\"is-online\">\n                            {online}\n                        </div>\n                    </div>\n                </div>\n            </div>\n                <div className=\"row btm-line mobile\">\n                   <div className=\"col-lg-3 col-xs-3 kal\">\n                        <div className=\"box-info\">\n                            <b className=\"value\">{that.restaurant_min_order} <i className=\"fa fa-rouble\"></i></b>\n                            <span className=\"description\">заказ от</span>\n                        </div>\n                    </div>\n                    <div className=\"col-lg-3 col-xs-3 kal\">\n                        <div className=\"box-info\">\n                            <b className=\"value\">{that.restaurant_delivery_cost} <i className=\"fa fa-rouble\"></i></b>\n                            <span className=\"description\">доставка</span>\n                        </div>\n                    </div>\n\n                    <div className=\"col-lg-3 col-xs-3 kal\">\n                        <div className=\"box-info\">\n                            <b className=\"value\">{that.restaurant_delivery_time} <i className=\"icon icon-clock\"></i></b>\n                            <span className=\"description\">время</span>\n                        </div>\n                    </div>\n                    <div className=\"col-lg-3 col-xs-3 kal\">\n                        <div className=\"box-info\">\n                            <b className=\"value\">{that.restaurant_average_check} <i className=\"fa fa-rouble\"></i></b>\n                            <span className=\"description\">средний чек</span>\n                        </div>\n                    </div>\n                </div>\n            <div className=\"the-footer\">\n                <div className=\"row\">\n                    <div className=\"align-left col-xs-6 col-lg-6\">\n                        <div className=\"comments-count\">\n                            <i className=\"icon fi-comment\"></i>\n                            <span className=\"count\">{that.restaurant_comments_count}</span>\n                        </div>\n                    </div>\n                    <div className=\"align-right col-xs-6 col-lg-6\">\n                        <div className=\"right-icons\">\n                            <button className=\"bt-round delivery\">\n                                <i className=\"icon fi-dish\"></i>\n                            </button>\n                            <button className=\"bt-round reservation\">\n                                <i className=\"icon fi-table\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        </div>\n        );\n    }\n});\n\nmodule.exports = SingleCompany;\n","var CuisinesStore = require('./stores/cuisinesStore.js');\n\nvar CuisinesList = React.createClass({\n    mixins: [Reflux.connect(CuisinesStore, 'cuisinesData')],\n    limit: 3,\n    getInitialState: function() {\n      return {\n        data: [],\n        cuisinesData: []\n      };\n    },\n    componentDidMount: function() {\n    },\n    render: function() {\n        var companyCuisines = JSON.parse(this.props.cuisines);\n        var limit = this.limit;\n        var allCuisines = getStorage('cuisines');\n\n        var sorted = _.sortBy(allCuisines, function(o) { return o.cuisine_id; });\n\n        console.log('CuisinesList: sorted = ', sorted);\n        var totalList = companyCuisines.map(function(the, key) {\n            if(key < limit){\n                var pick = sorted[key+1];\n                return (\n                    <button className=\"button light button-cuisine\" key={key}>{pick.cuisine_name}</button>\n                )\n            }\n        });\n        return (\n            <div className=\"cuisinesList\">\n                {totalList}\n            </div>\n        )\n    }\n});\n\nmodule.exports = CuisinesList;\n\n","var CuisinesStore = require('./stores/cuisinesStore.js');\nvar QuicklyLogo = require('./components/quicklyLogo.js');\nvar ButtonBack = require('./components/buttonBack.js');\nvar CuisinesSelectList = require('./components/cuisinesSelectList.js');\nvar CityList = require('./cityList.react.jsx');\nvar CampaignsSlider = require('./components/campaignsSlider.js');\n\nimport {showScreen} from '../screens.jsx';\n\nvar ButtonBackTop = React.createClass({\n    render: function(){\n        <ButtonBack />\n    }\n});\n\nvar MainPageHeader = React.createClass({\n    render: function(){\n        return (\n        <section className=\"main-header\">\n            <CampaignsSlider />\n        </section>\n        )\n    }\n});\n\nvar ButtonBack = React.createClass({\n    render: function(){\n        return(\n            <div className=\"button-back\">\n                <i className=\"icon-arrow-left\"></i>\n            </div>\n        )\n    }\n});\n\nReactDOM.render(<MainPageHeader />, document.getElementById('mainPageHeader'));\nReactDOM.render(<CuisinesSelectList />, document.getElementById('cuisinesSelectList'));\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-24 17:32:25\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-24 17:41:56\n*/\n\nvar MenuItemsStore = require('./stores/menuItemsStore.js');\nvar CategoriesListActions = require('./actions/categoriesListActions.js');\nvar CategoriesList = require('./categoriesList.react.jsx');\n\nvar SingleMenuItem = React.createClass({\n    render: function(){\n        var item = this.props.item;\n        var itemImage = imageBaseUrl+item.menu_item_image;\n        if (item.menu_item_image === undefined || item.menu_item_image === null || item.menu_item_image == '') { itemImage = 'images/samples/2.png'; }\n        return(\n        <div className=\"col-lg-4 col-xs-6 food-item\">\n            <div className=\"inner\">\n                <div className=\"product-image\">\n                    <img src={itemImage} />\n                    <div className=\"product-controls\">\n                        <button className=\"button main add-to-cart\"\n                        data-name={item.menu_item_name}\n                        data-price={item.menu_item_price}\n                        data-id={item.menu_item_id}>В корзину</button>\n                    </div>\n                </div>\n\n                <div className=\"product-info\">\n                    <div className=\"major\">\n                        <div className=\"product-name\">\n                            <b>{item.menu_item_name}</b>\n                        </div>\n                        <div className=\"product-price\">\n                            <span>{item.menu_item_price} <i className=\"rouble\">i</i></span>\n                        </div>\n                    </div>\n                    <div className=\"product-description\">\n                        <span>{item.menu_item_full_description}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        );\n    }\n});\n\nvar MenuItemsSidebar = React.createClass({\n    render: function(){\n        return (\n            <div>\n                <div className=\"button-close\" id=\"menu-close\"><i className=\"icon-close\"></i></div>\n                <div className=\"button-open\" id=\"menu-open\"><i className=\"icn-menu\"></i></div>\n                <div className=\"sidebar-wrap\">\n                    <div className=\"form-group label-floating is-empty\">\n                        <label htmlFor=\"i5\" className=\"control-label\">Поиск блюда</label>\n                        <input type=\"search\" className=\"form-control\" id=\"i5\" />\n                        <span className=\"help-block\"></span>\n                        <span className=\"material-input\"></span>\n                    </div>\n                    <CategoriesList />\n                </div>\n            </div>\n        )\n    }\n});\n\nvar MenuItemsList = React.createClass({\n    mixins: [Reflux.connect(MenuItemsStore, 'menuItems')],\n    getInitialState: function() {\n      return {\n        data: [],\n        menuItems: []\n      };\n    },\n    componentWillMount: function(){\n        // sure it will\n    },\n    render: function(){\n        var theData = this.state.menuItems;\n        var total = 0;\n        var items = theData.map(function(the, i) {\n            return <SingleMenuItem item={the} key={i} />\n        });\n        return (\n            <div>{items}</div>\n        )\n    }\n});\n\nvar MenuItems = React.createClass({\n    render: function() {\n        return (\n            <div className=\"row\">\n                <div className=\"col-lg-9\">\n                    <div className=\"row\">\n                        <MenuItemsList />\n                    </div>\n                </div>\n                <div className=\"col-lg-3 mobile sidebar\" id=\"sidebar\">\n                    <MenuItemsSidebar />\n                </div>\n            </div>\n        )\n    }\n});\n\nReactDOM.render(<MenuItems />, document.getElementById('menuItems'));\n","var ButtonMore = require('./components/buttonMore.js');\nimport {addToCart, repeatOrder} from '../engine/addToCart.js';\nvar OrdersHistoryStore = require('./stores/ordersHistoryStore.js');\n\nvar SingleOrderItem = React.createClass({\n    render: function(){\n        var single = this.props.item, thumb = 'http://fakeimg.pl/37x37/ddd/';\n        if( single.menu_item_image !== '' ) thumb = imageBaseUrl+single.menu_item_image;\n        var idAttr = \"singleItem-\"+single.menu_item_id;\n        return (\n        <div className=\"item\" id={idAttr} >\n            <div className=\"row\">\n                <div className=\"col-lg-3 no-padding-right align-right\">\n                    <div className=\"thumb-tiny\">\n                        <img src={thumb} />\n                    </div>\n                </div>\n                <div className=\"col-lg-9 no-padding-left\">\n                    <div className=\"text\">\n                        <b>{single.menu_item_name}</b>\n                        <span className=\"price\">{single.menu_item_price*single.count} <i className=\"rouble\">o</i>,  <span className=\"count\">{single.count} шт.</span></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        );\n    }\n});\n\nvar SingleOrder = React.createClass({\n    repeatThis: function(){\n        repeatOrder(this.props.list.order_menu_items);\n    },\n    render: function(){\n        var total = 0;\n        var data = this.props.list;\n        console.log('DATA signle: ', data);\n\n        var items = data.order_menu_items.map(function(the, i) {\n            total += (the.menu_item_price*the.count);\n            return (\n                <SingleOrderItem item={the} key={i} />\n            )\n        });\n\n        return(\n        <div className=\"history-item row\" key={this.props.key}>\n            <div className=\"date-time\">{moment.unix(data.created_at).format(\"DD MMMM YYYY HH:mm\")}</div>\n            <div className=\"col-lg-2\">\n                <div className=\"box-company medium\">\n                    <div className=\"thumb-round\">\n                        <img src={imageBaseUrl+data.restaurant_main_image} alt=\"...\" />\n                    </div>\n                    <span className=\"title\">{data.restaurant_name}</span>\n                </div>\n            </div>\n            <div className=\"col-lg-5\">\n                <div className=\"history-items\">\n                    {items}\n                </div>\n            </div>\n            <div className=\"col-lg-2 summary\">\n                <div className=\"total\">\n                    <span className=\"total-title\">итого:</span>\n                    <b className=\"sum-total\">{total} <i className=\"rouble\">o</i></b>\n                </div>\n\n                <div className=\"bonus\">\n                    <span className=\"total-title\"><i className=\"r fa fa-rub\"></i>-бонусов</span>\n                    <b className=\"sum-bonus\">+ {data.bonus}</b>\n                </div>\n            </div>\n            <div className=\"col-lg-3 actions\">\n                <span className=\"title\">поделится:</span>\n                <div className=\"social-share\">\n                    <a href=\"#\"><i className=\"fa fa-facebook\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-vk\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-twitter\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-odnoklassniki\"></i></a>\n                </div>\n                <button onClick={this.repeatThis} className=\"button light round button-history-repeat\" id=\"button-history-repeat\">\n                    <i className=\"icon-refresh\"></i><span>Повторить заказ</span>\n                </button>\n\n            </div>\n        </div>\n        );\n    }\n})\n\nvar OrdersHistory = React.createClass({\n    mixins: [Reflux.connect(OrdersHistoryStore, 'historyData')],\n    limit: 5,\n    getInitialState: function() {\n      return {\n        data: [],\n        historyData: []\n      };\n    },\n    componentDidMount: function() {\n     //   OrdersHistoryActions.updateData();\n    },\n    loadMore: function(){\n        this.limit += 5;\n        OrdersHistoryActions.updateData();\n    },\n    render: function() {\n     //   OrdersHistoryActions.updateData();\n        var theData = this.state.historyData;\n        var total = 0;\n        var sorted = _.first(_.sortBy(theData, 'order_id').reverse(), this.limit);\n        var messages = sorted.map(function(the, i) {\n            return <SingleOrder list={the} key={i} />\n        });\n        return (\n            <div>{messages}\n                <div className=\"full-width align-center\">\n                    <ButtonMore onClick={this.loadMore} />\n                </div>\n            </div>\n        )\n    }\n});\n\nReactDOM.render(<OrdersHistory />, document.getElementById('ordersHistory'));\n","var ButtonMore = require('./components/buttonMore.js');\nvar ProfileEditorStore = require('./stores/profileEditorStore.js');\nvar ProfileEditorActions = require('./actions/profileEditorActions.js');\nvar CardsActions = require('./actions/cardsActions.js');\nvar CardsStore = require('./stores/cardsStore.js');\nvar ButtonTabToggle = require('./components/buttonTabToggle.js');\n\nimport {refreshUserProfile} from '../profile.jsx';\n\nvar FieldDefault = React.createClass({\n    render: function() {\n      return (\n        <div className=\"form-group\">\n          <label className=\"control-label\" htmlFor={this.props.id}>{this.props.name}</label>\n          <input\n              type={this.props.type || \"text\"}\n              className=\"form-control profile-autoupdate\"\n              data-id={this.props.field}\n              onChange={this.props.onChange}\n              id={this.props.id} />\n        </div>\n        )\n    }\n});\n\nvar FieldControlled = React.createClass({\n    getInitialState: function() {\n      console.log('FieldControlled: default = ', this.props.defaultValue);\n      return {\n        value: this.props.defaultValue\n      }\n    },\n    componentWillUpdate: function(){\n        console.log('FieldControlled: willUpdate');\n    },\n    componentDidUpdate: function(){\n        console.log('FieldControlled: didUpdate');\n    },\n    handleChange: function(event) {\n      this.setState({\n        value: event.target.value\n      });\n    },\n    render: function() {\n      return (\n        <div className=\"form-group\">\n          <label className=\"control-label\" htmlFor={this.props.id}>{this.props.name}</label>\n          <input type={this.props.type || \"text\"} className=\"form-control profile-autoupdate\"\n          value={this.state.value}\n          data-id={this.props.field}\n          onChange={this.handleChange}\n          id={this.props.id} />\n        </div>\n        )\n    }\n});\n\nvar CardsEditor = React.createClass({\n    mixins: [Reflux.connect(CardsStore, 'cardsData')],\n    bindUrl: serverUrl+'/api/v3/payments/cards/bind/'+userToken,\n    getInitalState: function(){\n        return {\n            cardsData: []\n        }\n    },\n    bindCard: function() {\n      $.getJSON(this.bindUrl, function(data){\n        console.log('CardsEditor bindCard', data.result);\n        openNewTab(data.result);\n      });\n    },\n    render: function () {\n        console.log('CardsEditor: ',this.state.cardsData);\n        return (\n          <div className=\"cards-editor\">\n            <b className=\"group-title\">Банковские карты</b>\n            <div className=\"profile-cards\">\n              <div className=\"card-item\">\n                <i className=\"fi-card-detail\"></i>\n                <span className=\"number\">\n                  **** **** **** 1125\n                </span>\n              </div>\n            </div>\n            <button onClick={this.bindCard} className=\"button main\">Добавить карту</button>\n          </div>\n        )\n    }\n});\n\nvar ProfileEditorForm = React.createClass({\n    getInitalState: function(){\n        console.log('ProfileEditorForm getInitalState');\n    },\n    componentWillUpdate: function(){\n        console.log('ProfileEditorForm willUpdate');\n    },\n    componentDidUpdate: function(){\n        console.log('ProfileEditorForm didUpdate');\n        $('#userSurname').val(this.props.profile.userSurname);\n        $('#userName').val(this.props.profile.userName);\n        $('#userEmail').val(this.props.profile.userEmail);\n\n        var birthDate = moment.unix(this.props.profile.userBirthdate).format(\"YYYY-MM-DD\");\n        $('#userBirthdate').val(birthDate);\n    },\n    onFieldChange: function(value){\n        console.log('ProfileEditorForm onFieldChange: value = ', value.target);\n    },\n    onBirthChange: function(e){\n        console.log('onBirthChange: ', e.target.value);\n    },\n    onNameChange: function(e){\n      this.setState({\n        userName: e.target.value\n      });\n    },\n    addCardForm: function(){\n      swal({\n        title: 'Введите номер карты',\n        html: '<input id=\"inputCardNumber\" type=\"text\" className=\"form-control\">',\n        showCancelButton: true,\n        closeOnConfirm: false,\n        allowOutsideClick: false\n      },\n      function() {\n        swal({\n          html:\n            'Номер карты: <strong>' +\n            $('#inputCardNumber').val() +\n            '</strong>'\n        });\n      })\n    },\n    setGender: function(e){\n        console.log('setGender: ', e.target.value);\n        this.editUserField('gender', e.target.value);\n    },\n    editUserField: function(theParameter, theValue){\n        var currentCity = getStorage('city');\n        var cityId = currentCity.city_id || 3;\n\n        var theOptions = {};\n        theOptions['userToken'] = userToken;\n        theOptions['cityId'] = cityId;\n        theOptions[theParameter] = theValue;\n\n        console.log('ProfileEditorForm: editUserField: Options: ', theOptions);\n\n        $.ajax({\n            url: serverUrl + '/api/v2/user/profile/edit',\n            dataType: 'json',\n            type: 'POST',\n            data: theOptions,\n            success: function(data) {\n                console.log('ProfileEditorForm: editUserField: ', data);\n                if (data.err === undefined || data.err === null) {\n                    toastr.success('Данные профиля сохранены');\n                }\n                refreshUserProfile();\n            }\n        });\n    },\n    render: function(){\n        var total = 0;\n        var profile = this.props.profile;\n        var userAvatar, maleChecked, femaleChecked;\n\n        console.log('ProfileEditorForm: profile = ', profile);\n\n        if (profile.userAvatarUrl === undefined || profile.userAvatarUrl === null) {\n            userAvatar = 'images/samples/user.png';\n        } else userAvatar = profile.userAvatarUrl;\n\n        if( profile.userGender == 1 ) {\n            maleChecked = \"checked\";\n            $('#profileMaleRadio').prop('checked', true);\n        }\n\n        if( profile.userGender == 2 ) {\n            femaleChecked = \"checked\";\n            $('#profileFemaleRadio').prop('checked', true);\n        }\n\n        return (\n        <div className=\"user-editor container\">\n           <div className=\"row\">\n              <div className=\"col-lg-2 text-center\">\n                 <div className=\"avatar round\">\n                    <img src={userAvatar} alt=\"...\" />\n                 </div>\n                 <div className=\"form-group gender-select\">\n                    <div className=\"radio radio-primary\">\n                      <label>\n                        <input onChange={this.setGender} type=\"radio\" id=\"profileMaleRadio\" name=\"profileGender\" data-id=\"gender\" value=\"1\" />\n                        <span className=\"radio-label-text\">Мужской</span>\n                      </label>\n                    </div>\n                    <div className=\"radio radio-primary\">\n                      <label>\n                        <input onChange={this.setGender} type=\"radio\" id=\"profileFemaleRadio\" name=\"profileGender\" data-id=\"gender\" value=\"2\" />\n                        <span className=\"radio-label-text\">Женский</span>\n                      </label>\n                    </div>\n                 </div>\n              </div>\n              <div className=\"col-lg-5 the-info\">\n                 <div className=\"row delivery\">\n                    <div className=\"profile-field col-lg-6\">\n                      <FieldControlled type=\"text\" field=\"name\" defaultValue={profile.userName} name=\"Имя\" id=\"userName\" />\n                    </div>\n                    <div className=\"profile-field col-lg-6\">\n                      <FieldControlled type=\"text\" field=\"surname\" defaultValue={profile.userSurname} name=\"Фамилия\" id=\"userSurname\" />\n                    </div>\n                    <div className=\"profile-field col-lg-6\">\n                      <FieldControlled type=\"date\" field=\"birthdate\" defaultValue={profile.userBirthdate} name=\"Дата рождения\" id=\"userBirthdate\" />\n                    </div>\n                    <div className=\"profile-field col-lg-6\">\n                      <FieldControlled type=\"text\" field=\"email\" defaultValue={profile.userEmail} name=\"Электронная почта\" id=\"userEmail\" />\n                    </div>\n                 </div>\n              </div>\n              <div className=\"col-lg-5\">\n                <div className=\"row\">\n                  <div className=\"col-lg-6\">\n                    <CardsEditor />\n                  </div>\n                  <div className=\"col-lg-6\">\n                  </div>\n                </div>\n              </div>\n           </div>\n           <div className=\"row buttons-line\">\n              <div className=\"col-lg-2\">\n              </div>\n              <div className=\"col-lg-10 buttons-tabs\">\n                 <div className=\"btn-group btn-group-justified\" data-tabs=\"tabs-profile\">\n                    <ButtonTabToggle name=\"История заказов\" active=\"true\" tab=\"tab-order-history\" id=\"tabOrdersHistory\" />\n                    <ButtonTabToggle name=\"История бронирования\" tab=\"tab-reservation-history\" />\n                    <ButtonTabToggle name=\"Оставленные отзывы\" tab=\"tab-comments-history\" />\n                    <button id=\"buttonReturnShop\" className=\"btn button main float-right\">\n                        <span>Вернуться к покупкам</span>\n                    </button>\n                 </div>\n              </div>\n           </div>\n        </div>\n        )\n    }\n});\n\nvar ProfileEditor = React.createClass({\n    mixins: [Reflux.connect(ProfileEditorStore, 'profileData')],\n    getInitialState: function() {\n      return {\n        data: [],\n        profileData: [],\n/*        profileData: {\n          userAvatarUrl: '',\n          userBirthdate: null,\n          userEmail: '',\n          userGender: 0,\n          userName: '',\n          userSurname: '',\n          userPhone: ''\n        }*/\n      };\n    },\n    componentDidMount: function() {\n        ProfileEditorActions.updateData();\n    },\n    render: function() {\n     //   profileEditorActions.updateData();\n        var theData = this.state.profileData;\n        console.log('ProfileEditor: theData = ',theData);\n        return (\n            <ProfileEditorForm profile={theData} />\n        )\n    }\n});\n\nReactDOM.render(<ProfileEditor />, document.getElementById('profileEditor'));\n\n","var ButtonMore = require('./components/buttonMore.js');\nvar ReservationHistoryStore = require('./stores/reservationHistoryStore.js');\n\nvar SingleReservation = React.createClass({\n    render: function(){\n        var total = 0;\n        var data = this.props.list;\n        // console.log('SingleReservation: data = ', data);\n\n        return(\n        <div className=\"history-item row\" key={this.props.key}>\n             <div className=\"date-time\">{moment.unix(data.reservation_date).format(\"DD MMMM YYYY HH:mm\")}</div>\n            <div className=\"col-lg-2\">\n                <div className=\"box-company medium\">\n                    <div className=\"thumb-round\">\n                        <img src={imageBaseUrl+data.restaurant_main_image} alt=\"...\" />\n                    </div>\n                    <span className=\"title\">{data.restaurant_name}</span>\n                </div>\n            </div>\n            <div className=\"col-lg-5\">\n                <div className=\"history-items\">\n                    <div className=\"item item-table\">\n                        <div className=\"row\">\n                            <div className=\"col-lg-3 no-padding-right align-right\">\n                                <div className=\"icon-reservation\">\n                                    <i className=\"icon-anchor\"></i>\n                                </div>\n                            </div>\n                            <div className=\"col-lg-9\">\n                                <div className=\"text\">\n                                    <div className=\"table-num\">Столик №<b>{data.table_number}</b></div>\n                                    <div className=\"hall\">Зал: <span className=\"hall-name\">{data.hall_name}</span></div>\n                                    <div className=\"reservation-date\">{moment.unix(data.reservation_date).format(\"DD MMMM YYYY HH:mm\")}</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-lg-2 summary\">\n                <div className=\"total\">\n                    <span className=\"total-title\">итого:</span>\n                    <b className=\"sum-total\">{total} <i className=\"rouble\">o</i></b>\n                </div>\n\n                <div className=\"bonus\">\n                    <span className=\"total-title\"><i className=\"r fa fa-rub\"></i>-бонусов</span>\n                    <b className=\"sum-bonus\">+ {data.bonus}</b>\n                </div>\n            </div>\n            <div className=\"col-lg-3 actions\">\n                <span className=\"title\">поделится:</span>\n                <div className=\"social-share\">\n                    <a href=\"#\"><i className=\"fa fa-facebook\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-vk\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-twitter\"></i></a>\n                    <a href=\"#\"><i className=\"fa fa-odnoklassniki\"></i></a>\n                </div>\n                <a href=\"#\" className=\"button light round button-history-repeat\" id=\"button-history-repeat\">\n                    <span>Повторить заказ</span>\n                </a>\n\n            </div>\n        </div>\n        );\n    }\n})\n\nvar OrdersReservation = React.createClass({\n    mixins: [Reflux.connect(ReservationHistoryStore, 'historyData')],\n    limit: 5,\n    getInitialState: function() {\n      return {\n        data: [],\n        historyData: []\n      };\n    },\n    componentDidMount: function() {\n     //   OrdersHistoryActions.updateData();\n    },\n    loadMore: function(){\n        this.limit += 5;\n        ReservationHistoryActions.updateData();\n    },\n    render: function() {\n     //   OrdersHistoryActions.updateData();\n        var theData = this.state.historyData;\n        var total = 0;\n        var sorted = _.first(_.sortBy(theData, 'order_id').reverse(), this.limit);\n        var messages = sorted.map(function(the, i) {\n            return <SingleReservation list={the} key={i} />\n        });\n        return (\n            <div>{messages}\n                <div className=\"full-width align-center\">\n                    <ButtonMore onClick={this.loadMore} />\n                </div>\n            </div>\n        )\n    }\n});\n\nReactDOM.render(<OrdersReservation />, document.getElementById('reservationHistory'));\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 09:33:15\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-29 22:20:25\n*/\nvar CampaignsActions = require('../actions/campaignsActions.js');\n\nvar CampaignsLimitedStore = Reflux.createStore({\n    listenables: [CampaignsActions],\n    campaignsLimitedData: [],\n    companyId: 0,\n    sourceUrl: serverUrl+'/api/v2/campaigns/limited/get',\n    init: function() {\n        this.fetchList();\n    },\n    updateData: function(newId){\n        console.log('CampaignsLimitedStore updateData()');\n        this.fetchList();\n    },\n    fetchList: function() {\n      var some = this;\n      var url = this.sourceUrl;\n\n      console.log('CampaignsLimitedStore: fetchList Url = ', url);\n      $.getJSON(url, function (data) {\n        some.CampaignsLimitedData = data.result.campaigns;\n        console.log('CampaignsLimitedStore: result = ', data);\n        some.trigger(some.CampaignsLimitedData);\n      });\n    }\n});\n\nmodule.exports = CampaignsLimitedStore;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 09:33:15\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-29 22:20:25\n*/\nvar CampaignsActions = require('../actions/campaignsActions.js');\n\nvar CampaignsStore = Reflux.createStore({\n    listenables: [CampaignsActions],\n    campaignsData: [],\n    companyId: 0,\n    sourceUrl: serverUrl+'/api/v2/campaigns/permanent/get',\n    init: function() {\n     //   this.companyId = currentCompany;\n        this.fetchList();\n    },\n    updateData: function(newId){\n        console.log('CampaignsStore updateData() newId = ', newId);\n        this.companyId = newId;\n        this.fetchList();\n    },\n    fetchList: function() {\n      var some = this;\n      var url = this.sourceUrl;\n\n      console.log('CampaignsStore: fetchList Url = ', url);\n      $.getJSON(url, function (data) {\n        some.campaignsData = data.result.campaigns;\n        console.log('CampaignsStore: result = ', data);\n        some.trigger(some.campaignsData);\n      });\n    }\n});\n\nmodule.exports = CampaignsStore;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-04-02 14:02:06\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-04-07 11:21:17\n*/\n\nvar CardsActions = require('../actions/cardsActions.js');\n\nvar CardsStore = Reflux.createStore({\n    listenables: [CardsActions],\n    cardsData: [],\n    sourceUrl: serverUrl+'/api/v2/cards/get/'+userToken,\n    bindUrl: serverUrl+'/api/v3/payments/cards/bind/'+userToken,\n    init: function() {\n        this.fetchList();\n    },\n    updateData: function(){\n        console.log('CardsStore updateData()');\n        this.fetchList();\n    },\n    bindCard: function() {\n      $.getJSON(this.bindUrl, function(data){\n        console.log('CardsStore bindCard', data);\n      });\n    },\n    fetchList: function() {\n      var some = this;\n      $.getJSON(this.sourceUrl, function(data){\n        var result = data.result;\n        if( result !== undefined ){\n            console.log('CardsStore fetchList', data);\n            some.cardsData = data.result.cards;\n            some.trigger(some.cardsData);\n        } else console.log('CardsStore: No Data: ',data);\n      });\n    }\n});\n\nmodule.exports = CardsStore;\n","var CategoriesListActions = require('../actions/categoriesListActions.js');\nvar MenuItemsActions = require('../actions/menuItemsActions.js');\n\nvar CategoriesListStore = Reflux.createStore({\n    listenables: [CategoriesListActions],\n    currentCompany:0,\n    categories: [],\n    sourceUrl: serverUrl+'/api/v2/categories/get/',\n    init: function() {\n      //something\n    },\n    updateData: function(companyId){\n        this.currentCompany = companyId;\n        console.log('CategoriesListStore: updateData: categoryId = '+companyId);\n        this.fetchList();\n    },\n    fetchList: function() {\n      var some = this;\n      var url = this.sourceUrl+this.currentCompany;\n      console.log('CategoriesListStore: fetchList: url = ', url);\n      $.getJSON(url, function (data) {\n        console.log('CategoriesListStore: fetchList: data = ', data);\n        some.categories = data.result.categories;\n        var firstCategory = some.categories[0];\n        if( firstCategory ){\n          console.log('CategoriesListStore: First Id = ', firstCategory.category_id);\n        }\n\n        some.trigger(some.categories);\n      });\n    }\n});\n\nmodule.exports = CategoriesListStore;\n","var CityListActions = require('../actions/cityListActions.js');\nvar resultCity;\n\nfunction selectCityByName(cityName){\n    var cities = getStorage('cities');\n    var single = _.where(cities,{city_name:cityName.trim()});\n    var selected;\n\n    console.log('selectCityByName: cityName = '+cityName, 'Cities = ', cities, single);\n\n    single.forEach(function (val, index) {\n        console.log('selectCityByName: selected: ', val);\n        selected = val;\n    });\n    if(selected){\n        var isLocked = getStorage('cityLocked', 1);\n\n        if( isLocked !== 1 ){\n          setStorage('city', selected);\n\n          var currentCityId = selected.city_id;\n\n          $('#cityListSelect option').each(function(el){\n              if( currentCityId == $(this).val() ){\n                console.log('selectCityByName: selected');\n                $(this).attr('selected', 'selected');\n              }\n          });\n\n          currentCity = selected;\n        } else {\n          console.log('City is locked!');\n          var city = getStorage('city');\n          currentCity = city.city_id;\n        }\n    } else {\n        console.log('selectCityByName: Wrong city or whatever');\n    }\n}\n\nfunction getCity(position) {\n  var lat = position.coords.latitude;\n  var long = position.coords.longitude;\n  console.log('getCity: '+lat+' / '+long);\n  console.log('getCity: ', position);\n  var geocoder;\n  geocoder = new google.maps.Geocoder();\n  var latlng = new google.maps.LatLng(lat, long);\n  geocoder.geocode(\n      {'latLng': latlng},\n      function(results, status) {\n          if (status == google.maps.GeocoderStatus.OK) {\n                console.log('getCity: results = ', results);\n                  if (results[0]) {\n                      var add= results[0].formatted_address ;\n                      var value=add.split(\",\");\n                      console.log('getCity: ')\n                      var count=value.length;\n                      var country=value[count-1];\n                      var state=value[count-2];\n                      var city=value[count-4];\n                      console.log('getCity: City detected: ', city.trim());\n                      selectCityByName(city.trim());\n\n                  }\n                  else  {\n                      alert(\"address not found\");\n                  }\n          }\n           else {\n              alert(\"Geocoder failed due to: \" + status);\n          }\n      }\n  );\n}\n\nvar CityListStore = Reflux.createStore({\n    listenables: [CityListActions],\n    cityList: [],\n    sourceUrl: serverUrl+'/api/v4/cities/get',\n    init: function() {\n        this.fetchList();\n    },\n    getCity: function(){\n      getCurrentCity();\n      console.log('getCIty: '+resultCity);\n    },\n    fetchList: function() {\n      var some = this;\n      $.getJSON(this.sourceUrl, function (data) {\n        setStorage('cityList', data.result.cities);\n        some.cityList = data.result.cities;\n        some.trigger(some.cityList);\n   //     this.getCity();\n        cities = some.cityList;\n        setStorage('cities', cities);\n        navigator.geolocation.getCurrentPosition(getCity);\n        console.log('REFLUX: CityListStore fetchList', some.cityList);\n      });\n    }\n});\n\nmodule.exports = CityListStore;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 09:33:15\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-29 22:20:25\n*/\nvar CompanyDetailsActions = require('../actions/companyDetailsActions.js');\n\nvar CompanyDetailsStore = Reflux.createStore({\n    listenables: [CompanyDetailsActions],\n    companyData: [],\n    companyId: 0,\n    sourceUrl: serverUrl+'/api/v2/restaurants/get/',\n    init: function() {\n     //   this.companyId = currentCompany;\n     //   this.fetchList();\n    },\n    updateData: function(newId){\n        console.log('CompanyDetailsStore updateData() newId = ', newId);\n        this.companyId = newId;\n        this.fetchList();\n    },\n    fetchList: function() {\n      var some = this;\n      var url = this.sourceUrl + this.companyId;\n\n      console.log('CompanyDetailsStore: fetchList Url = ', url);\n      $.getJSON(url, function (data) {\n        some.companyData = data.result.restaurant;\n        console.log('CompanyDetailsStore: result = ', some.companyData);\n        some.trigger(some.companyData);\n      });\n    }\n});\n\nmodule.exports = CompanyDetailsStore;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 09:41:34\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-03-29 22:49:28\n*/\n\nvar CompanyListActions = require('../actions/companyListActions.js');\nvar CuisinesActions = require('../actions/cuisinesActions.js');\nvar CuisinesStore = require('./cuisinesStore.js');\n\nvar CompanyListStore = Reflux.createStore({\n    listenables: [CompanyListActions],\n    cuisine: [],\n    currentCuisine:0,\n    currentCity:0,\n    companyList: [],\n    sourceUrl: serverUrl+'/api/v4/restaurants/get',\n    init: function() {\n      //  this.fetchList();\n    },\n    setCurrentCity: function(cityId){\n      console.log('CompanyListStore: setCurrentCity('+cityId+')');\n      this.currentCity = cityId;\n      this.fetchList();\n    },\n    updateData: function(){\n        console.log('CompanyStore updateData()');\n        this.fetchList();\n    },\n    showAll: function(){\n        this.cuisine = 0;\n    },\n    selectByCuisine: function(cuisine){\n        console.log('CompanyListStore: selectByCuisine, cuisine = ', cuisine);\n        this.cuisine = cuisine;\n        currentCuisine = cuisine;\n        this.currentCuisine = cuisine.cuisine_id;\n        this.fetchList(cuisine.cuisine_id);\n    },\n    getCurrentCuisine: function(){\n         console.log('CompanyListStore: getCurrentCuisine, CurrentCuisine = ', this.currentCuisine);\n         return this.currentCuisine;\n    },\n    filterData: function(cuisine, type){\n        var data = this.companyList;\n        var filtered;\n\n        console.log('CompanyListStore: filterData: type = '+type);\n\n        if (type == 3) filtered = _.filter(data, function(element){\n            return element.restaurant_payment_type == 1;\n        });\n\n        if (type == 0) { this.fetchList(); } else {\n            this.companyList = filtered;\n            this.trigger(this.companyList);\n            console.log('CompanyListStore: filterData: ', filtered);\n        }\n        return filtered;\n    },\n\n    fetchList: function(cuisineId) {\n      var some = this;\n      var queryUrl = this.sourceUrl;\n\n      this.cuisine = CuisinesActions.getCuisineById(cuisineId);\n\n      console.log('CompanyListStore: fetchList: this.cuisine = '+this.cuisine, 'this.currentCity', this.currentCity);\n\n      queryUrl += '?restaurantType=3';\n      if( cuisineId ) {\n        queryUrl += '&cuisineId='+cuisineId;\n      }\n      if( this.currentCity > 0 ){\n        queryUrl += '&cityId='+this.currentCity;\n      }\n      console.log('CompanyListStore: queryUrl = ',queryUrl);\n\n      $.getJSON(queryUrl, function (data) {\n\n        console.log('CompanyListStore fetchList', data);\n        some.companyList = data.result.restaurants;\n        some.trigger(some.companyList);\n\n      });\n    }\n});\n\nmodule.exports = CompanyListStore;\n","var CuisinesActions = require('../actions/cuisinesActions.js');\n\nvar CuisinesStore = Reflux.createStore({\n    listenables: [CuisinesActions],\n    cuisinesData: [],\n    sourceUrl: serverUrl+'/api/v2/cuisines/get',\n    init: function() {\n        this.fetchList();\n    },\n    getCuisineById: function(id){\n        var cuisine = _.where(this.cuisinesData,{cuisine_id:id});\n        console.log('CuisinesStore: getCuisineById('+id+'): ',cuisine);\n        return cuisine;\n    },\n    fetchList: function() {\n      var some = this;\n      $.getJSON(this.sourceUrl, function (data) {\n        setStorage('cuisines', data.result.cuisines);\n        some.cuisinesData = data.result.cuisines;\n        some.trigger(some.cuisinesData);\n        console.log('REFLUX: CuisinesStore fetchList', some.cuisinesData);\n      });\n    }\n});\n\nmodule.exports = CuisinesStore;\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 09:40:22\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-04-04 22:33:02\n*/\n\nvar MenuItemsActions = require('../actions/menuItemsActions.js');\n\nvar MenuItemsStore = Reflux.createStore({\n    listenables: [MenuItemsActions],\n    currentCategory:1,\n    menuItems: [],\n    sourceUrl: serverUrl+'/api/v2/menu-items/get/',\n    init: function() {\n//        this.fetchList();\n    },\n    updateData: function(newId){\n        this.currentCategory = newId;\n        console.log('MenuItemsStore: updateData() companyId = '+newId);\n        this.fetchList();\n    },\n    fetchList: function() {\n      var some = this;\n      var url = this.sourceUrl+this.currentCategory;\n      console.log('MenuItemsStore: fetchList() url = ', url);\n      $.getJSON(url, function (data) {\n        console.log('REFLUX: MenuItemsStore fetchList', some.menuItems);\n        some.menuItems = data.result.menuItems;\n        some.trigger(some.menuItems);\n      });\n    }\n});\n\nmodule.exports = MenuItemsStore;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:35:29\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-07 11:18:15\r\n*/\r\n\r\nvar OrdersHistoryActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar OrdersHistoryStore = Reflux.createStore({\r\n    listenables: [OrdersHistoryActions],\r\n    historyList: [],\r\n    sourceUrl: serverUrl+'/api/v2/history/orders/'+userToken,\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('OrdersHistoryStore: updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        var result = data.result;\r\n        if( result !== undefined ){\r\n            some.historyList = data.result.orders;\r\n            some.trigger(some.historyList);\r\n            console.log('OrdersHistoryStore: fetchList', some.historyList);\r\n        } else console.log('OrdersHistoryStore: no data', data);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = OrdersHistoryStore;\r\n","/*\n* @Author: Andrey Starkov\n* @Date:   2016-03-29 09:37:12\n* @Last Modified by:   Andrey Starkov\n* @Last Modified time: 2016-04-07 14:59:48\n*/\nvar ProfileEditorActions = require('../actions/profileEditorActions.js');\nimport cookie from 'react-cookie';\n\nvar ProfileEditorStore = Reflux.createStore({\n    listenables: [ProfileEditorActions],\n    profileData: [],\n    userToken: cookie.load('token'),\n    sourceUrl: serverUrl+'/api/v2/user/profile/get',\n    init: function() {\n        this.fetchList();\n    },\n    updateData: function(){\n        console.log('ProfileEditorStore updateData()');\n        this.fetchList();\n    },\n    fetchList: function() {\n        if(this.userToken){\n            console.log('ProfileEditorStore: Token = ', this.userToken);\n            var some = this;\n            $.ajax({\n                type: 'POST',\n                async: 'false',\n                dataType: 'json',\n                url: this.sourceUrl,\n                data: {\n                    'userToken': userToken\n                },\n                success: function(data) {\n                    var result = data.result;\n                    if( result !== undefined ){\n                    some.profileData = data.result.profile;\n                    console.log('profileEditorStore: AJAX result: ',data);\n                    some.trigger(some.profileData);\n                    console.log('ProfileEditorStore some.profileData = ', some.profileData);\n                    setStorage('profile', data.result.profile);\n                    } else console.log('ProfileEditorStore: No Data: ', data);\n                }\n            });\n        } else console.log('ProfileEditorStore: User token not specifed');\n    }\n});\n\nmodule.exports = ProfileEditorStore;\n","/*\r\n* @Author: Andrey Starkov\r\n* @Date:   2016-03-29 09:39:19\r\n* @Last Modified by:   Andrey Starkov\r\n* @Last Modified time: 2016-04-07 11:19:37\r\n*/\r\n\r\nvar ReservationHistoryActions = Reflux.createActions([\r\n    'fetchList', 'updateData'\r\n]);\r\n\r\nvar ReservationHistoryStore = Reflux.createStore({\r\n    listenables: [ReservationHistoryActions],\r\n    historyList: [],\r\n    sourceUrl: serverUrl+'/api/v3/history/reservations/'+userToken,\r\n    init: function() {\r\n        this.fetchList();\r\n    },\r\n    updateData: function(){\r\n        console.log('ReservationHistoryStore updateData()');\r\n        this.fetchList();\r\n    },\r\n    fetchList: function() {\r\n      var some = this;\r\n      $.getJSON(this.sourceUrl, function (data) {\r\n        var result = data.result;\r\n        if( result !== undefined ){\r\n            some.historyList = data.result.reservations;\r\n            some.trigger(some.historyList);\r\n            console.log('ReservationHistoryStore fetchList', some.historyList);\r\n        } else console.log('ReservationHistoryStore: no data', data);\r\n      });\r\n    }\r\n});\r\n\r\nmodule.exports = ReservationHistoryStore;\r\n","import {clearCart,refreshCart} from \"./engine/checkout.func.jsx\";\nimport {createOrder} from \"./engine/createOrder.jsx\";\nimport {reservationAdded, createReservation} from \"./engine/createReservation.jsx\";\n\n// menuItems - массив при заказе с едой\n\nfunction pasteMenu(categoryId){\n    $.getJSON(serverUrl+'/api/v2/menu-items/get/'+categoryId, function(data){\n        $('#foodItems').html('');\n        console.log(data);\n        $.each(data.result.menuItems, function(key, item){\n            if( item.menu_item_image == \"\"){\n                item.menu_item_image = \"images/samples/9-tiny.jpg\";\n            } else item.menu_item_image = \"http://176.112.201.81/static/cdn/\"+item.menu_item_image;\n\n            var output = `\n                <div class=\"col-lg-4 col-xs-6 food-item\">\n                    <a href=\"#\">\n                        <div class=\"product-image\">\n                            <img src=\"${item.menu_item_image}\" />\n                            <div class=\"product-controls\">\n                                <button class=\"button main add-to-cart\"\n                                data-name=\"${item.menu_item_name}\"\n                                data-price=\"${item.menu_item_price}\"\n                                data-id=\"${item.menu_item_id}\">В корзину</button>\n                            </div>\n                        </div>\n\n                        <div class=\"product-info\">\n                            <div class=\"major\">\n                                <div class=\"product-name\">\n                                    <b>${item.menu_item_name}</b>\n                                </div>\n                                <div class=\"product-price\">\n                                    <span>${item.menu_item_price} <i class=\"rouble\">i</i></span>\n                                </div>\n                            </div>\n                            <div class=\"product-description\">\n                                <span>${item.menu_item_full_description}</span>\n                            </div>\n                        </div>\n                    </a>\n                </div>`;\n            $('#foodItems').append(output);\n        });\n    });\n}\n\nfunction pasteCartElement(cartElement, elementCount){\n    var el = `\n    <tr class=\"reservation-${cartElement.type}\">\n        <td>${cartElement.name}</td>\n        <td>${cartElement.price} р.</td>\n        <td>\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n                <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\n                <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n                <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\n            </div>\n        </td>\n        <td>\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n        </td>\n    </tr>\n    `;\n\n    return el;\n}\n\nexport function getHallsList(restaurantId, callback){\n    var box = $('#hallsBox');\n    $.getJSON(serverUrl+'/api/v2/reservation/halls/'+restaurantId, function(data){\n        console.log('getHallsList: ', data);\n        if( data.result ){\n            var halls = data.result.halls;\n            console.log('getHallsList: ', halls);\n            $.each(halls, function(hall, index){\n                box.append(`\n                    <button class=\"button light button-hall\" data-id=\"${hall.hall_id}\">${hall.hall_name}</button>\n                `);\n            });\n\n            callback(data.result.halls);\n        }\n    });\n}\n\nfunction showReservationMap(halls){\n    $.each(data, function(index,value){\n        console.log(value);\n    });\n}\n\nexport function getReservationPointsList(hallId, theDate){\n    $.getJSON(serverUrl+'/api/v2/reservation/tables/'+hallId+'/'+theDate, function(data){\n        console.log('getReservationPointsList: Using Timestamp = ', theDate);\n        console.log('getReservationPointsList: ', data);\n        var tableType = 0;\n        $('#roomBox').append(`\n            <div class=\"the-room\">\n            <img src=\"${hallsUrl}${data.params.hall.hall_image}\"></div>`);\n            $.each(data.params.tables, function(index,value){\n\n                if( value.table_type == 0 ) tableType = `\n                    <div class=\"type\">Беплатный</div>\n                    `;\n\n                if( value.table_type == 1 ) tableType = `\n                    <div class=\"type\">Платный</div>\n                    <div class=\"price\">Стоимость заказа: <b></b></div>\n                    `;\n\n                if( value.table_type == 2 ) tableType = `\n                    <div class=\"type\">Депозитный</dive>\n                    <div class=\"price\">Стоимость депозита: <b>${table_deposit}</b></div>;\n                    `;\n\n                var theOptions;\n                for(var i = 1; i <= value.table_seats_count; i++){\n                    theOptions += '<option>'+i+'</option>';\n                }\n\n                $('#roomBox .the-room').append(`\n                    <div class=\"table\" data-hall=\"${value.hall_id}\" id=\"table-${value.table_id}\" data-id=\"${value.table_id}\" data-reserved=\"${data.params.reservations[value.table_id]}\" data-seats=\"${value.table_seats_count}\" data-deposit=\"${value.table_deposit}\" data-price=\"${value.table_price}\" data-restaurant=\"${value.restaurant_id}\" data-hall=\"${value.hall_id}\" style=\"left:${value.table_coord_x-10}px; top:${value.table_coord_y-20}px\">\n                        <div class=\"table-number\">${value.table_number}</div>\n                        <div class=\"table-everything\">\n                            <div class=\"table-desc\">\n                                ${tableType}\n                                <span>Мест: ${value.table_seats_count}</span>\n                            </div>\n                            <div class=\"form-group label-static\" style=\"margin-top:35px\">\n                                <label for=\"tableOption-${value.table_id}\" class=\"control-label\">На сколько человек?</label>\n                                <select id=\"tableOption-${value.table_id}\" data-object=\"table-${value.table_id}\" class=\"form-control\">\n                                  ${theOptions}\n                                </select>\n                                <button class=\"button main round\" style=\"width:100%; margin-top:10px;\">Забронировать</button>\n                            </div>\n                        </div>\n                    </div>\n                `);\n            });\n    });\n}\n\nfunction getReservationUnixTime(e){\n    var theTime = $('#reservationTimePicker').val();\n    var dateTime = $('#reservationDatePicker').val()+' '+$('#reservationTimePicker').val();\n    var unixTime = moment(dateTime, 'DD-MM-YYYY HH:mm').zone(350).unix();\n\n    console.log('getReservationUnixTime: dateTime = ',dateTime);\n    console.log('getReservationUnixTime: UNIX Timestamp = ', unixTime);\n    return unixTime;\n}\n\n$(function() {\n\n    $('#reservationTimePicker').datetimepicker({\n        format: 'LT',\n        format: 'HH:mm',\n        locale: 'ru',\n        defaultDate: moment().valueOf()\n    });\n\n    $('#reservationDatePicker').datetimepicker({\n        format: 'DD-MM-YYYY',\n        locale: 'ru',\n        defaultDate: moment().valueOf()\n    });\n\n    $(document).on('click', '#buttonCheckoutDelivery', function(event){\n        createOrder();\n    });\n\n    $(document).on({\n        mouseenter: function () {\n            $('.the-room .table').removeClass('reserved');\n            $(this).parent().addClass('reserved');\n        },\n    }, '.the-room .table .table-number');\n\n    $(document).on('mouseleave', '.the-room .table .table-everything', function(event){\n        $(this).parent().removeClass('reserved');\n    });\n\n    $(document).on('click', '#buttonCheckoutReservation', function(event){\n        createReservation();\n    });\n\n    var currentReservationTime;\n\n    $(document).on('click', '.reserved .button', function(event) {\n        console.log('#buttonReserve clicked');\n        flyToCart( $(this) );\n        console.log('currentReservationTime: ', getReservationUnixTime());\n\n        $('.the-room .table.reserved').each(function(){\n            var jsonObj = {};\n            var reservation = getStorage('theReservation');\n\n            jsonObj['id'] = $(this).data('id');\n            jsonObj['name'] = $('section.company-about .title h2').html()+', Стол #'+$(this).data('id');\n            jsonObj['count'] = $('select', $(this).parent()).val();\n            jsonObj['price'] = $(this).data('price');\n            jsonObj['hall'] = $(this).data('hall');\n\n            jsonObj['date'] = getReservationUnixTime();\n            jsonObj['type'] = 'table';\n\n            console.log('RES = ', isEmpty(reservation));\n\n            if(isEmpty(reservation) === false){\n                swal({\n                  title: 'В корзине уже есть один стол.',\n                  text: \"Одновременно в корзине может быть только один стол на резервацию! Отменить прошлый заказ и добавить этот?\",\n                  type: 'warning',\n                  showCancelButton: true,\n                  confirmButtonText: 'Да, заменить!',\n                  cancelButtonText: 'Нет, оставить тот',\n                  closeOnConfirm: true\n                },\n                function(isConfirm) {\n                  if (isConfirm) {\n                    setStorage('theReservation', jsonObj);\n                    toastr.warning('Предидущий заказ стола отменён', 'Внимание!');\n                    reservationAdded();\n                    refreshCart();\n                  } else {\n                    toastr.warning('Завершите предидущий заказ', 'Стол не добавлен!');\n                  }\n                });\n\n            } else {\n                setStorage('theReservation', jsonObj);\n                reservationAdded();\n\n                refreshCart();\n            }\n\n        });\n\n        $('.reserved').removeClass('reserved').addClass('yours');\n    });\n\n    $(document).on('click', '.reservation-table .checkout-action', function(e){\n        $(this).parent().parent().velocity({opacity:0}, 500, function(){\n            setTimeout(function(){\n               $('.reservation-table').remove();\n               localStorage.removeItem('theReservation');\n               refreshCart();\n            },500)\n        });\n    });\n\n\n    $(document).on('dp.change', function(e) {\n        currentReservationTime = getReservationUnixTime();\n        getReservationPointsList(currentCompany, getReservationUnixTime());\n    });\n\n});\n","var CompanyDetailsActions = require('./react/stores/companyDetailsStore.js');\nvar MenuItemsActions = require('./react/stores/menuItemsStore.js');\n\nexport function showScreen(screenId){\n  //  var aniOut = 'transition.flipXOut';\n  //  var aniIn = 'transition.flipXIn'; // 'transition.flipXIn';\n  var aniOut = 'transition.slideLeftOut';\n  var aniIn = 'transition.slideRightBigIn'; // 'transition.flipXIn';\n    var screenId = '#'+screenId;\n\n    if( $(screenId).length ){\n        $('.screen-toggle').removeClass('active');\n        console.log('showScreen: Screen = '+screenId);\n\n        easyVelocity('.page-wrapper', aniOut, function(){\n            easyVelocity(screenId, aniIn, function(){\n              // im done yo\n            });\n        });\n\n        $(this).addClass('active');\n        $(screenId).addClass('screen-active');\n    } else console.log('showScreen: Screen not exists. ID: '+screenId);\n}\n\n$(function() {\n\n    showScreen('pageMain');\n\n\n    $(document).on('click', '#buttonReturnShop', function(event) {\n        showScreen('pageMain');\n    });\n\n/*\n    $(document).on('click', '.company-toggle', function(event) {\n        var company = $(this).data('company');\n        console.log('CompanyToggle: Toggling: ', company);\n        currentCompany = company;\n        console.log(CompanyDetailsActions);\n        CompanyDetailsActions.updateData(company);\n        MenuItemsActions.updateData(company);\n        showScreen('pageCompany');\n    });*/\n\n    $(document).on('click', '.screen-toggle', function(event) {\n        event.preventDefault();\n        var screenId = $(this).data('screen');\n        showScreen(screenId);\n    });\n\n});\n\n$(function() {\n\n    var hash = window.location.hash.replace(\"#\", \"\");\n\n    if(hash !== ''){\n      console.log('Hash = '+hash);\n      showScreen(hash);\n    }\n\n    $(document).on('click', '#buttonReturnShop', function(event) {\n        showShop();\n    });\n});\n","import {clearCart,refreshCart} from \"./engine/checkout.func.jsx\";\n\nfunction pasteCartElement(cartElement, elementCount){\n    var el = `\n    <tr class=\"reservation-${cartElement.type}\">\n        <td>${cartElement.name}</td>\n        <td>${cartElement.price} р.</td>\n        <td>\n            <div class=\"form-group label-placeholder is-empty\" data-id=\"${cartElement.id}\" data-name=\"${cartElement.name}\" data-price=\"${cartElement.price}\">\n                <span class=\"control-minus\" data-id=\"cartItem-${cartElement.id}\">-</span>\n                <input type=\"text\" value=\"${elementCount}\" class=\"form-control\" id=\"cartItem-${cartElement.id}\">\n                <span class=\"control-plus\" data-id=\"cartItem-${cartElement.id}\">+</span>\n            </div>\n        </td>\n        <td>\n            <button class=\"checkout-action\"><i class=\"icon icn-trash\"></i></button>\n        </td>\n    </tr>\n    `;\n    return el;\n}\n\nfunction pasteCheckoutFormUnregistered(){\n    var profile = getStorage('profile');\n    var bonusCount = '100';\n    var userName = '', userPhone = '';\n    if(profile){\n        if(profile.userName) userName = profile.userName;\n        if(profile.userPhone) userPhone = profile.userPhone;\n    }\n    var out = `\n    <div class=\"checkout-form\">\n        <div class=\"control-group\">\n            <div class=\"row\">\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-name\" class=\"control-label\">Ваше имя</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-name\" value=${userName}>\n                    </div>\n                </div>\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-phone\" class=\"control-label\">Телефон</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-phone\" value=\"${userPhone}\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-4 col-xs-4\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-street\" class=\"control-label\">Улица</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-street\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-building\" class=\"control-label\">Дом</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-building\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating required\">\n                        <label for=\"checkout-apartment\" class=\"control-label\">Квартира</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-apartment\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-porch\" class=\"control-label\">Подьезд</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-porch\">\n                    </div>\n                </div>\n                <div class=\"col-lg-2 col-xs-2\">\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-floor\" class=\"control-label\">Этаж</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-floor\">\n                    </div>\n                </div>\n                <div class=\"col-lg-4 col-xs-12\">\n                    <div class=\"form-group label-floating required\" style=\"margin-top:30px\">\n                        <label for=\"checkout-persons\" class=\"control-label\" value=\"1\">Количество персон</label>\n                        <input type=\"search\" class=\"form-control\" id=\"checkout-persons\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"control-group\">\n            <div class=\"row radio-box\">\n                <div class=\"col-lg-6\">\n                    <div class=\"the-label\">\n                        <span>Способ оплаты</span>\n                    </div>\n                    <div class=\"form-group radio-group\">\n                        <div class=\"radio radio-primary\">\n                            <label>\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-cash\" value=\"0\" checked>\n                              <span class=\"circle\"></span><span class=\"check\"></span>\n                              Наличными\n                            </label>\n                        </div>\n                        <div class=\"radio radio-primary\">\n                            <label>\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-card-courier\" value=\"1\">\n                              <span class=\"circle\"></span><span class=\"check\"></span>\n                              По карте курьеру\n                            </label>\n                        </div>\n                        <div class=\"radio radio-primary\" class=\"display:none\">\n                            <label>\n                              <input type=\"radio\" class=\"checkout-payment-type\" name=\"checkout-payment-type\" id=\"checkout-payment-type-card\" value=\"2\">\n                              <span class=\"circle\"></span><span class=\"check\"></span>\n                              По карте онлайн\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-phone\" class=\"control-label\">Сколько наличными?</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-cash\">\n                    </div>\n                    <div class=\"form-group label-floating\">\n                        <label for=\"checkout-phone\" class=\"control-label\">Сколько <span class=\"fa fa-rouble\"></span>-бонусов использовать?</label>\n                        <input type=\"text\" class=\"form-control\" id=\"checkout-bonus\">\n                        <div class=\"bonus-count\">\n                            У вас есть ${bonusCount} <span class=\"fa fa-rouble\"></span>-бонусов\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"control-group\">\n            <div class=\"row\">\n                <div class=\"col-lg-8\">\n                    <div class=\"form-group label-floating\" style=\"margin-top:30px\">\n                        <label for=\"checkout-comment\" class=\"control-label\">Комментарий</label>\n                        <input type=\"search\" class=\"form-control\" id=\"checkout-comment\">\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <div class=\"checkout-buttons\">\n            <div class=\"row\">\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"button main\" id=\"buttonCheckoutDelivery\">оформить доставку</div>\n                </div>\n                <div class=\"col-lg-6 col-xs-6\">\n                    <div class=\"button main\" id=\"buttonCheckoutReservation\">Забронировать стол</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    `;\n    return out;\n}\n\nfunction removeItemById(itemId){\n    var cart = getStorage('theCart');\n    console.log('removeItemById: before = ',cart);\n    cart = _.without(cart, _.findWhere(cart, {id: itemId}));\n    console.log('removeItemById: after = ',cart);\n    setStorage('theCart', cart);\n    theCart.contents = cart;\n    refreshCart();\n}\n\n$(function() {\n\n    if (localStorage.getItem('theCart') === null) {\n        console.log('localStorage: no cart stored');\n    } else {\n        console.log('Getting Cart Contents..');\n        theCart.contents = getStorage('theCart');\n    }\n\n    $('#checkoutForm').html(pasteCheckoutFormUnregistered());\n\n    $(document).on('click', '.add-to-cart', function(event) {\n        var jsonObj = {};\n        jsonObj['id'] = $(this).data('id');\n        jsonObj['name'] = $(this).data('name');\n        jsonObj['price'] = $(this).data('price');\n        jsonObj['type'] = 'food';\n        theCart.contents.push(jsonObj);\n        console.log('addToCart: theCart = ', theCart);\n        setStorage('theCart', theCart.contents);\n\n        flyToCart($(this).parent().parent().find(\"img\").eq(0));\n        toastr.success(`${jsonObj.name}, ${jsonObj.price} р.`);\n        refreshCart();\n    });\n\n    $(document).on('click', '.reservation-food .checkout-action', function(e){\n        var theItem = $(this).parent().parent();\n        var theId = theItem.data('id');\n        removeItemById(theId);\n        theItem.velocity({opacity:0}, 500, function(){\n            setTimeout(function(){\n               $('.reservation-table').remove();\n            },500)\n        });\n    });\n\n    $(document).on('click', '.checkout .control-plus', function(event) {\n        var jsonObj = {};\n        jsonObj['id'] = $(this).parent().data('id');\n        jsonObj['name'] = $(this).parent().data('name');\n        jsonObj['price'] = $(this).parent().data('price');\n        jsonObj['type'] = 'food';\n        theCart.contents.push(jsonObj);\n        setStorage('theCart', theCart.contents);\n        refreshCart();\n    });\n\n    $(document).on('click', '.checkout .control-minus', function(event) {\n        var theId = $(this).parents('tr:first').data('id');\n        removeItemById(theId);\n    });\n\n    $(document).on('click', '.checkout-icon', function(event){\n        clearCart();\n    });\n\n    $(document).on('click', '.category-toggle', function(event) {\n        event.preventDefault();\n        $('.category-toggle').removeClass('active');\n        $(this).addClass('active');\n    });\n\n    refreshCart();\n});\n","/*!\r\n * cookie\r\n * Copyright(c) 2012-2014 Roman Shtylman\r\n * Copyright(c) 2015 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nexports.parse = parse;\r\nexports.serialize = serialize;\r\n\r\n/**\r\n * Module variables.\r\n * @private\r\n */\r\n\r\nvar decode = decodeURIComponent;\r\nvar encode = encodeURIComponent;\r\n\r\n/**\r\n * RegExp to match field-content in RFC 7230 sec 3.2\r\n *\r\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\r\n * field-vchar   = VCHAR / obs-text\r\n * obs-text      = %x80-FF\r\n */\r\n\r\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\r\n\r\n/**\r\n * Parse a cookie header.\r\n *\r\n * Parse the given cookie header string into an object\r\n * The object has the various cookies as keys(names) => values\r\n *\r\n * @param {string} str\r\n * @param {object} [options]\r\n * @return {object}\r\n * @public\r\n */\r\n\r\nfunction parse(str, options) {\r\n  if (typeof str !== 'string') {\r\n    throw new TypeError('argument str must be a string');\r\n  }\r\n\r\n  var obj = {}\r\n  var opt = options || {};\r\n  var pairs = str.split(/; */);\r\n  var dec = opt.decode || decode;\r\n\r\n  pairs.forEach(function(pair) {\r\n    var eq_idx = pair.indexOf('=')\r\n\r\n    // skip things that don't look like key=value\r\n    if (eq_idx < 0) {\r\n      return;\r\n    }\r\n\r\n    var key = pair.substr(0, eq_idx).trim()\r\n    var val = pair.substr(++eq_idx, pair.length).trim();\r\n\r\n    // quoted values\r\n    if ('\"' == val[0]) {\r\n      val = val.slice(1, -1);\r\n    }\r\n\r\n    // only assign once\r\n    if (undefined == obj[key]) {\r\n      obj[key] = tryDecode(val, dec);\r\n    }\r\n  });\r\n\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Serialize data into a cookie header.\r\n *\r\n * Serialize the a name value pair into a cookie string suitable for\r\n * http headers. An optional options object specified cookie parameters.\r\n *\r\n * serialize('foo', 'bar', { httpOnly: true })\r\n *   => \"foo=bar; httpOnly\"\r\n *\r\n * @param {string} name\r\n * @param {string} val\r\n * @param {object} [options]\r\n * @return {string}\r\n * @public\r\n */\r\n\r\nfunction serialize(name, val, options) {\r\n  var opt = options || {};\r\n  var enc = opt.encode || encode;\r\n\r\n  if (!fieldContentRegExp.test(name)) {\r\n    throw new TypeError('argument name is invalid');\r\n  }\r\n\r\n  var value = enc(val);\r\n\r\n  if (value && !fieldContentRegExp.test(value)) {\r\n    throw new TypeError('argument val is invalid');\r\n  }\r\n\r\n  var pairs = [name + '=' + value];\r\n\r\n  if (null != opt.maxAge) {\r\n    var maxAge = opt.maxAge - 0;\r\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\r\n    pairs.push('Max-Age=' + maxAge);\r\n  }\r\n\r\n  if (opt.domain) {\r\n    if (!fieldContentRegExp.test(opt.domain)) {\r\n      throw new TypeError('option domain is invalid');\r\n    }\r\n\r\n    pairs.push('Domain=' + opt.domain);\r\n  }\r\n\r\n  if (opt.path) {\r\n    if (!fieldContentRegExp.test(opt.path)) {\r\n      throw new TypeError('option path is invalid');\r\n    }\r\n\r\n    pairs.push('Path=' + opt.path);\r\n  }\r\n\r\n  if (opt.expires) pairs.push('Expires=' + opt.expires.toUTCString());\r\n  if (opt.httpOnly) pairs.push('HttpOnly');\r\n  if (opt.secure) pairs.push('Secure');\r\n\r\n  return pairs.join('; ');\r\n}\r\n\r\n/**\r\n * Try decoding a string using a decoding function.\r\n *\r\n * @param {string} str\r\n * @param {function} decode\r\n * @private\r\n */\r\n\r\nfunction tryDecode(str, decode) {\r\n  try {\r\n    return decode(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n","var cookie = require('cookie');\n\nvar _rawCookie = {};\nvar _res = undefined;\n\nfunction load(name, doNotParse) {\n  var cookies = (typeof document === 'undefined') ? _rawCookie : cookie.parse(document.cookie);\n  var cookieVal = cookies && cookies[name];\n\n  if (!doNotParse) {\n    try {\n      cookieVal = JSON.parse(cookieVal);\n    } catch(e) {\n      // Not serialized object\n    }\n  }\n\n  return cookieVal;\n}\n\nfunction save(name, val, opt) {\n  _rawCookie[name] = val;\n\n  // allow you to work with cookies as objects.\n  if (typeof val === 'object') {\n    _rawCookie[name] = JSON.stringify(val);\n  }\n\n  // Cookies only work in the browser\n  if (typeof document !== 'undefined') {\n    document.cookie = cookie.serialize(name, _rawCookie[name], opt);\n  }\n\n  if (_res && _res.cookie) {\n    _res.cookie(name, val, opt);\n  }\n}\n\nfunction remove(name, opt) {\n  delete _rawCookie[name];\n\n  if (typeof opt === 'undefined') {\n    opt = {};\n  } else if (typeof opt === 'string') {\n    // Will be deprecated in future versions\n    opt = { path: opt };\n  }\n\n  if (typeof document !== 'undefined') {\n    opt.expires = new Date(1970, 1, 1, 0, 0, 1);\n    document.cookie = cookie.serialize(name, '', opt);\n  }\n\n  if (_res && _res.clearCookie) {\n    _res.clearCookie(name, opt);\n  }\n}\n\nfunction setRawCookie(rawCookie) {\n  if (rawCookie) {\n    _rawCookie = cookie.parse(rawCookie);\n  } else {\n    _rawCookie = {};\n  }\n}\n\nfunction plugToRequest(req, res) {\n  if (req.cookie) {\n    _rawCookie = req.cookie;\n  } else if (req.headers && req.headers.cookie) {\n    setRawCookie(req.headers.cookie);\n  } else {\n    _rawCookie = {};\n  }\n\n  _res = res;\n}\n\nvar reactCookie = {\n  load: load,\n  save: save,\n  remove: remove,\n  setRawCookie: setRawCookie,\n  plugToRequest: plugToRequest\n};\n\nif (typeof window !== 'undefined') {\n  window['reactCookie'] = reactCookie;\n}\n\nmodule.exports = reactCookie;\n"]}